// Copyrights C-EGG inc.
(function(){var aa;
(function(a){function k(c){var b=c&7,l=0,d=0;1==b||4==b?l=d=1:2==b&&(l=d=2);c>>=3;b=(c&7)-l;if(0>b)return!1;l=d;d=0;1==b||4==b?(l+=1,d+=1):2==b&&(l+=2,d+=2);c>>=3;b=(c&7)-l;if(0>b)return!1;l=d;d=0;1==b||4==b?(l+=1,d+=1):2==b&&(l+=2,d+=2);c>>=3;b=(c&7)-l;if(0>b)return!1;l=d;d=0;1==b||4==b?(l+=1,d+=1):2==b&&(l+=2,d+=2);c>>=3;b=(c&7)-l;if(0>b)return!1;l=d;d=0;1==b||4==b?(l+=1,d+=1):2==b&&(l+=2,d+=2);c>>=3;b=(c&7)-l;if(0>b)return!1;l=d;d=0;1==b||4==b?(l+=1,d+=1):2==b&&(l+=2,d+=2);c>>=3;b=(c&7)-l;if(0>
b)return!1;l=d;d=0;1==b||4==b?(l+=1,d+=1):2==b&&(l+=2,d+=2);c>>=3;b=(c&7)-l;if(0!=b&&3!=b)return!1;b=(c>>3&7)-d;return 0==b||3==b}function g(c,b){if(0==c){if(128<=(b&448)&&k(b-128)||65536<=(b&229376)&&k(b-65536)||33554432<=(b&117440512)&&k(b-33554432))return!0}else if(1==c){if(16<=(b&56)&&k(b-16)||8192<=(b&28672)&&k(b-8192)||4194304<=(b&14680064)&&k(b-4194304))return!0}else if(2==c&&(2<=(b&7)&&k(b-2)||1024<=(b&3584)&&k(b-1024)||524288<=(b&1835008)&&k(b-524288)))return!0;return!1}function e(c,b){return c[b+
0]<<0|c[b+1]<<3|c[b+2]<<6|c[b+3]<<9|c[b+4]<<12|c[b+5]<<15|c[b+6]<<18|c[b+7]<<21|c[b+8]<<24}a.tc=function(c){var b=1<<c[27]|1<<c[28]|1<<c[29]|1<<c[30]|1<<c[31]|1<<c[32]|1<<c[33];if(16<=b)return!1;if(2==(b&3)&&2==c[0]*c[8]*c[9]*c[17]*c[18]*c[26]*c[27]*c[28]*c[29]*c[30]*c[31]*c[32]*c[33]||!(b&10)&&7==+(2==c[0])+ +(2==c[1])+ +(2==c[2])+ +(2==c[3])+ +(2==c[4])+ +(2==c[5])+ +(2==c[6])+ +(2==c[7])+ +(2==c[8])+ +(2==c[9])+ +(2==c[10])+ +(2==c[11])+ +(2==c[12])+ +(2==c[13])+ +(2==c[14])+ +(2==c[15])+ +(2==
c[16])+ +(2==c[17])+ +(2==c[18])+ +(2==c[19])+ +(2==c[20])+ +(2==c[21])+ +(2==c[22])+ +(2==c[23])+ +(2==c[24])+ +(2==c[25])+ +(2==c[26])+ +(2==c[27])+ +(2==c[28])+ +(2==c[29])+ +(2==c[30])+ +(2==c[31])+ +(2==c[32])+ +(2==c[33]))return!0;if(b&2)return!1;var l=c[0]+c[3]+c[6],d=c[1]+c[4]+c[7],f=c[9]+c[12]+c[15],m=c[10]+c[13]+c[16],p=c[18]+c[21]+c[24],h=c[19]+c[22]+c[25],n=(l+d+(c[2]+c[5]+c[8]))%3;if(1==n)return!1;var x=(f+m+(c[11]+c[14]+c[17]))%3;if(1==x)return!1;var u=(p+h+(c[20]+c[23]+c[26]))%3;if(1==
u||1!=+(2==n)+ +(2==x)+ +(2==u)+ +(2==c[27])+ +(2==c[28])+ +(2==c[29])+ +(2==c[30])+ +(2==c[31])+ +(2==c[32])+ +(2==c[33]))return!1;l=(1*l+2*d)%3;d=e(c,0);f=(1*f+2*m)%3;m=e(c,9);p=(1*p+2*h)%3;c=e(c,18);return b&4?!(n|l|x|f|u|p)&&k(d)&&k(m)&&k(c):2==n?!(x|f|u|p)&&k(m)&&k(c)&&g(l,d):2==x?!(u|p|n|l)&&k(c)&&k(d)&&g(f,m):2==u?!(n|l|x|f)&&k(d)&&k(m)&&g(p,c):!1};a.vc=function(c,b){var l=[],d=0;if(12<=+(0!==c[0])+ +(0!==c[8])+ +(0!==c[9])+ +(0!==c[17])+ +(0!==c[18])+ +(0!==c[26])+ +(0!==c[27])+ +(0!==c[28])+
+(0!==c[29])+ +(0!==c[30])+ +(0!==c[31])+ +(0!==c[32])+ +(0!==c[33]))for(;34>d;++d)3>=c[d]&&(++c[d],a.tc(c)&&l.push(d),--c[d]);else{for(;27>d;++d)3>=c[d]&&(c[d]||0<d%9&&c[d-1]||8>d%9&&c[d+1])&&!(b&&4<=c[d]+b[d])&&(++c[d],a.tc(c)&&l.push(d),--c[d]);for(;34>d;++d)3>=c[d]&&c[d]&&(++c[d],a.tc(c)&&l.push(d),--c[d])}return l};a.hk=function(){for(var c=q[48],b=q[80],l={},d=0;34>d;++d)c[d]&&(--c[d],l[d]=a.vc(c,b),++c[d]);return l}})(aa||(aa={}));var t;
(function(a){function k(b){return 0!=(b&a.Qb)}function g(b){return 0!=(b&(a.fa|a.ea))}function e(b){return(b&32)>>4|(b&128)>>7}function c(b){return e(b)+4*~~g(b)}a.h=1;a.Va=2;a.ab=4;a.B=8;a.c=16;a.v=32;a.aa=64;a.Z=128;a.Aa=256;a.fa=512;a.ea=1024;a.Yf=2048;a.Qb=2048;a.ll=4096;a.Ob=4096;a.sb=4096;a.$g=8192;a.ah=16384;a.Kc=function(b){return!(b&(a.fa|a.ea|a.Yf))};a.ie=function(b){return 0!=(b&a.Yf)};a.Lc=k;a.yl=function(b){return 0!=(b&a.Ob)};a.$b=g;a.ed=function(b,l){return 0!=(0==b?g(l)?~l&a.B:l&a.aa:
l&a.aa)};a.fe=e;a.ge=c;a.bh=function(){var b=z.H;return~b&a.fa?0:b&a.ea?5:2};a.Em=function(b){return(b&1)<<7|(b&2)<<4};a.sm=function(b){return g(b)?"PF"+("00"+((b&a.c?20:0)+(b&a.B?10:0)+(~b&a.fa?0:b&a.ea?5:2))).slice(-2)+"C":b&a.c?"PF3":"PF4"};a.za=function(b,l){return l?b&a.Ob?(b&a.c?"３人":"４人")+(b&a.B?"東南戦":"東風戦"):"イベント卓":k(b)?"東天紅":b&a.$g||b&a.ah?"拡張":(b&a.c?"三":"四")+"般上特鳳若銀琥孔".substr(c(b),
1)+(b&a.B?"南":"東")+(g(b)?(b&a.B?"":"速")+(~b&a.fa?"祝０":b&a.ea?"祝５":"祝２"):(b&a.ab?"":"喰")+(b&a.Va?"":"赤")+(b&a.aa?b&a.sb?"光":"速":"")+(b&a.fa?"祝":""))};(function(b){b.Yl=1;b.Kl=2;b.cm=4;b.Il=8;b.Rl=16;b.Sl=32;b.Tl=64;b.Ul=128;b.em=256;b.dm=512;b.fm=1024;b.hm=2048;b.gm=4096;b.Hk=8192;b.jm=16384;b.km=32768;b.$l=65536;b.am=131072;b.wm=262144;b.Vl=524288;b.jl=1048576;b.bm=2097152;b.nd=4194304;b.kj=8388608;b.jj=16777216;b.im=33554432;b.ij=
67108864;b.Pj=134217728;b.Ni=1073741824})(a.Cb||(a.Cb={}));(function(b){b.tm=1;b.El=2;b.Xl=4;b.pm=8;b.Wl=16;b.xk=32;b.yk=64;b.Zl=128;b.zk=256;b.wk=512;b.vd=1024})(a.Gc||(a.Gc={}))})(t||(t={}));var ba;(function(a){(function(k){k.Nc=1;k.ac=2;k.Fc=4;k.dc=8;k.Pb=16;k.re=32;k.dg=64;k.oe=128})(a.da||(a.da={}));(function(k){k.qm=0;k.Nc=1;k.Gi=2;k.Fc=3;k.Jg=4;k.Hl=5;k.dc=6;k.Pb=7;k.re=8;k.dg=9;k.oe=10;k.om=11})(a.Kg||(a.Kg={}))})(ba||(ba={}));var ca,da=ca||(ca={});da.Pb=0;da.re=1;da.xl=2;da.Ok=3;da.vm=4;
da.pl=5;da.vl=6;da.rm=7;da.Wm=8;da.wl=9;da.Dl=10;da.Al=11;da.Cl=12;da.Bl=13;da.Mk=14;da.Jk=15;da.Lk=16;da.Kk=17;da.ql=18;da.rl=19;da.cl=20;da.kl=21;da.$k=22;da.Pk=23;da.zl=24;da.Bm=25;da.Cm=26;da.Am=27;da.Ym=28;da.zm=29;da.Tm=30;da.ul=31;da.xm=32;da.Fl=33;da.tl=34;da.al=35;da.jj=36;da.Xm=37;da.Zk=38;da.el=39;da.Qm=40;da.Rm=41;da.Zm=42;da.ym=43;da.bl=44;da.dl=45;da.Gl=46;da.Ll=47;da.Ml=48;da.fl=49;da.Um=50;da.Sm=51;da.dd=52;da.il=53;da.hl=54;da.mm=55;da.Ql=56;da.dc=57;da.sl=58;da.Gi=59;da.Jg=60;
da.nl=61;da.ml=62;da.Dm=63;da.Jl=64;da.an=65;da.Nk=66;da.lm=67;da.$m=68;da.Gk=69;da.gl=70;da.MAX=71;var fa,ia=fa||(fa={});ia.ol="一二三四五六七八九➀➁➂➃➄➅➆➇➈１２３４５６７８９東南西北白發中";ia.ag="ⒶⒷⒸⒹⒺⒻⒼⒽⒾⒿⓀⓁⓂⓃⓄⓅⓆⓇⓈⓉⓊⓋⓌⓍⓎⓏⓐⓑⓒⓓⓔⓕⓖⓗⓘⓙⓚⓛⓜⓝⓞⓟⓠⓡⓢⓣⓤⓥⓦⓧⓨⓩ";
ia.$a="新人 ９級 ８級 ７級 ６級 ５級 ４級 ３級 ２級 １級 初段 二段 三段 四段 五段 六段 七段 八段 九段 十段 天鳳".split(" ");ia.ne=" 滿貫 跳滿 倍滿 三倍滿 役滿".split(" ");
ia.Vf={kaze4:"四風連打",yao9:"九種九牌",ron3:"三家和了",reach4:"四家立直",kan4:"四槓散了",nm:"流局滿貫"};
ia.Ig=[{800:"300-500",1100:"400-700",1200:"400-800",1500:"500-1000",1800:"600-1200",2E3:"700-1300",2300:"800-1500",2400:"800-1600",2700:"900-1800",3E3:"1000-2000",3500:"1200-2300",3900:"1300-2600",4400:"1500-2900",4800:"1600-3200",5400:"1800-3600",5900:"2000-3900",6E3:"2000-4000",9E3:"3000-6000",12E3:"4000-8000",18E3:"6000-12000",24E3:"8000-16000",48E3:"16000-32000",72E3:"24000-48000"},{1E3:"500",1400:"700",1600:"800",2E3:"1000",2400:"1200",2600:"1300",3E3:"1500",3200:"1600",3600:"1800",4E3:"2000",
4600:"2300",5200:"2600",5800:"2900",6400:"3200",7200:"3600",7800:"3900",8E3:"4000",12E3:"6000",16E3:"8000",24E3:"12000",32E3:"16000",64E3:"32000",96E3:"48000"},{1100:"300-500",1500:"400-700",1600:"400-800",2E3:"500-1000",2400:"600-1200",2700:"700-1300",3100:"800-1500",3200:"800-1600",3600:"900-1800",4E3:"1000-2000",4700:"1200-2300",5200:"1300-2600",5900:"1500-2900",6400:"1600-3200",7200:"1800-3600",7900:"2000-3900",8E3:"2000-4000",12E3:"3000-6000",16E3:"4000-8000",24E3:"6000-12000",32E3:"8000-16000",
64E3:"16000-32000",96E3:"24000-48000"},{1500:"500",2100:"700",2400:"800",3E3:"1000",3600:"1200",3900:"1300",4500:"1500",4800:"1600",5400:"1800",6E3:"2000",6900:"2300",7800:"2600",8700:"2900",9600:"3200",10800:"3600",11700:"3900",12E3:"4000",18E3:"6000",24E3:"8000",36E3:"12000",48E3:"16000",96E3:"32000",144E3:"48000"}];ia.De="門前清自摸和;立直;一發;槍槓;嶺上開花;海底摸月;河底撈魚;平和;斷么九;一盃口;自風 東;自風 南;自風 西;自風 北;場風 東;場風 南;場風 西;場風 北;役牌 白;役牌 發;役牌 中;兩立直;七對子;混全帶么九;一氣通貫;三色同順;三色同刻;三槓子;對對和;三暗刻;小三元;混老頭;二盃口;純全帶么九;混一色;清一色;人和;天和;地和;大三元;四暗刻;四暗刻單騎;字一色;綠一色;清老頭;九蓮寶燈;純正九蓮寶燈;國士無雙;國士無雙13面;大四喜;小四喜;四槓子;ドラ;裏ドラ;赤ドラ;親;門前;榮和;本場;明槓;暗槓;五;ガリ;セット;カラス;全ガリ;バンバン".split(";");function ja(a){if(!a||!a.length)return!1;a=a.charCodeAt(0);return 9372<=a&&9397>=a||9398<=a&&9423>=a||9424<=a&&9449>=a};var ka=1;function la(a,k){return("000"+k).slice(-a)}function pa(a){return(0<a?"+":"")+a}function qa(a,k){if(void 0===a||""===a)return[];k=k||1;a=Array.isArray(a)?a:a.split(",");for(var g=Array(a.length),e=0;e<a.length;++e)g[e]=k*~~a[e];return g}function ta(a){a=a.split(",");for(var k=Array(a.length),g=0;g<a.length;++g)k[g]=Number(a[g]);return k}function ua(a){for(var k=a.length-1;0<k;--k){var g=Math.floor(Math.random()*(k+1)),e=a[k];a[k]=a[g];a[g]=e}return a}
function va(a,k){var g;return function(){clearTimeout(g);g=setTimeout(function(){g=void 0;a()},k)}}function xa(){var a=ya("canvas",za,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d");if(a)return a;throw console.trace("NonNull");}function Aa(a){return a?encodeURIComponent(a).replace(/%[0-9A-Fa-f]{2}|./g,function(k){return 3==k.length?k:"%"+("0"+k.charCodeAt(0).toString(16)).substr(-2)}):""}
function Ca(a){return a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}var Da=Object.assign;function Fa(a,k,g){a.addEventListener(k,g,!1)}function Ga(a,k){for(var g in k)Fa(a,g,k[g]);return a}function Ha(a,k,g){a.addEventListener(k,g,{once:!0,passive:!0,capture:!0})}var Ja=document.querySelector.bind(document);function Ka(a){try{return decodeURIComponent(a)}catch(k){return a}}
function ya(a,k,g,e,c){a=Ma.createElement(a);g&&(a.className=g);Da(a,e);Da(a.style,c);return k?k.insertBefore(a,null):a}function Na(a){a.querySelectorAll("SCRIPT").forEach(function(k){var g=Ma.createElement("script");g.textContent=k.textContent;k.replaceWith(g)})}var Oa=window,Ma=document,Pa=Ma.body,Ra=!!Oa.cordova,Sa="",Ua=0,Va=!1,Wa=navigator.userAgent;Wa.match(/iP(hone|od|ad)/)&&Wa.match(/OS (\d+)_(\d+)/)&&(Sa=RegExp.$1+"."+RegExp.$2);Wa.match(/Android (\d+\.\d+|\d+)/)&&(Ua=parseFloat(RegExp.$1));
Va=4.4>Ua&&0<Wa.indexOf(" Chrome/")&&0<Wa.indexOf(" Version/");navigator.maxTouchPoints&&2<navigator.maxTouchPoints&&/MacIntel/.test(navigator.platform)&&(Sa="13");var cb,db="ontouchstart"in Ma.documentElement&&!navigator.msPointerEnabled,eb=Ra||"standalone"in navigator&&navigator.standalone||"matchMedia"in window&&window.matchMedia("(display-mode: standalone)").matches,ib=!!Oa.oemLoginEmail;
function lb(a,k){var g=new XMLHttpRequest;g.onload=function(e){200==this.status?k.call(this):k.call(this,e)};g.onerror=function(e){k.call(this,e)};g.open("GET",a,!0);g.send("")}function mb(a,k){lb(a,k)};var nb;
(function(a){var k=function(){function g(){this.S=Array(624);this.Ya=625}g.prototype.og=function(e){this.S[0]=e>>>0;for(this.Ya=1;624>this.Ya;this.Ya++)e=this.S[this.Ya-1]^this.S[this.Ya-1]>>>30,this.S[this.Ya]=(1812433253*((e&4294901760)>>>16)<<16)+1812433253*(e&65535)+this.Ya,this.S[this.Ya]>>>=0};g.prototype.ng=function(e,c){var b;this.og(19650218);var l=1;var d=0;for(b=624>c?624:c;b;b--){var f=this.S[l-1]^this.S[l-1]>>>30;this.S[l]=(this.S[l]^(1664525*((f&4294901760)>>>16)<<16)+1664525*(f&65535))+
e[d]+d;this.S[l]>>>=0;l++;d++;624<=l&&(this.S[0]=this.S[623],l=1);d>=c&&(d=0)}for(b=623;b;b--)f=this.S[l-1]^this.S[l-1]>>>30,this.S[l]=(this.S[l]^(1566083941*((f&4294901760)>>>16)<<16)+1566083941*(f&65535))-l,this.S[l]>>>=0,l++,624<=l&&(this.S[0]=this.S[623],l=1);this.S[0]=2147483648};g.prototype.He=function(){var e=[0,2567483615];if(624<=this.Ya){var c;625==this.Ya&&this.og(5489);for(c=0;227>c;c++){var b=this.S[c]&2147483648|this.S[c+1]&2147483647;this.S[c]=this.S[c+397]^b>>>1^e[b&1]}for(;623>c;c++)b=
this.S[c]&2147483648|this.S[c+1]&2147483647,this.S[c]=this.S[c+-227]^b>>>1^e[b&1];b=this.S[623]&2147483648|this.S[0]&2147483647;this.S[623]=this.S[396]^b>>>1^e[b&1];this.Ya=0}b=this.S[this.Ya++];b^=b>>>11;b^=b<<7&2636928640;b^=b<<15&4022730752;return(b^b>>>18)>>>0};g.prototype.random=function(){return this.He()*(1/4294967296)};return g}();a.wf=k})(nb||(nb={}));var ob=function(){var a=[-2147483648,8388608,32768,128],k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,
1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,
3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,
116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],g=[];return function(e){var c=!1,b,l=0,d=0,f=0,m=e.length;var p=1779033703;var h=4089235720;var n=3144134277;var x=2227873595;var u=1013904242;var y=4271175723;var r=2773480762;var w=1595750129;var B=1359893119;var J=2917565137;var Y=2600822924;var T=
725511199;var S=528734635;var ma=4215389547;var Ba=1541459225;var jb=327033209;var Qa=0;do{g[0]=Qa;g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=g[16]=g[17]=g[18]=g[19]=g[20]=g[21]=g[22]=g[23]=g[24]=g[25]=g[26]=g[27]=g[28]=g[29]=g[30]=g[31]=g[32]=0;for(b=d;l<m&&128>b;++l)g[b>>2]|=e[l],b+=4;f+=b-d;d=b-128;l==m&&(g[b>>2]|=a[b&3],++l);Qa=g[32];l>m&&112>b&&(g[31]=f<<3,c=!0);for(b=32;160>b;b+=2){var ra=g[b-30];var sa=g[b-29];var $a=(ra>>>1|sa<<31)^(ra>>>8|sa<<24)^ra>>>
7;var v=(sa>>>1|ra<<31)^(sa>>>8|ra<<24)^(sa>>>7|ra<<25);ra=g[b-4];sa=g[b-3];var C=(ra>>>19|sa<<13)^(sa>>>29|ra<<3)^ra>>>6;var E=(sa>>>19|ra<<13)^(ra>>>29|sa<<3)^(sa>>>6|ra<<26);ra=g[b-32];sa=g[b-31];var R=g[b-14];var M=g[b-13];var N=(M&65535)+(sa&65535)+(v&65535)+(E&65535);E=(M>>>16)+(sa>>>16)+(v>>>16)+(E>>>16)+(N>>>16);var G=(R&65535)+(ra&65535)+($a&65535)+(C&65535)+(E>>>16);C=(R>>>16)+(ra>>>16)+($a>>>16)+(C>>>16)+(G>>>16);g[b]=C<<16|G&65535;g[b+1]=E<<16|N&65535}var V=p,na=h,ha=n,ea=x,oa=u,wa=y,
Ea=r,Xa=w,Ia=B,La=J,Ta=Y,Ya=T,ab=S,bb=ma,fb=Ba,gb=jb;var Db=ha&oa;var Eb=ea&wa;for(b=0;160>b;b+=8){$a=(V>>>28|na<<4)^(na>>>2|V<<30)^(na>>>7|V<<25);v=(na>>>28|V<<4)^(V>>>2|na<<30)^(V>>>7|na<<25);C=(Ia>>>14|La<<18)^(Ia>>>18|La<<14)^(La>>>9|Ia<<23);E=(La>>>14|Ia<<18)^(La>>>18|Ia<<14)^(Ia>>>9|La<<23);var Lb=V&ha;var Fb=na&ea;var kb=Lb^V&oa^Db;var hb=Fb^na&wa^Eb;var Za=Ia&Ta^~Ia&ab;G=La&Ya^~La&bb;ra=g[b];sa=g[b+1];R=k[b];M=k[b+1];N=(M&65535)+(sa&65535)+(G&65535)+(E&65535)+(gb&65535);E=(M>>>16)+(sa>>>16)+
(G>>>16)+(E>>>16)+(gb>>>16)+(N>>>16);G=(R&65535)+(ra&65535)+(Za&65535)+(C&65535)+(fb&65535)+(E>>>16);C=(R>>>16)+(ra>>>16)+(Za>>>16)+(C>>>16)+(fb>>>16)+(G>>>16);ra=C<<16|G&65535;sa=E<<16|N&65535;N=(hb&65535)+(v&65535);E=(hb>>>16)+(v>>>16)+(N>>>16);G=(kb&65535)+($a&65535)+(E>>>16);C=(kb>>>16)+($a>>>16)+(G>>>16);R=C<<16|G&65535;M=E<<16|N&65535;N=(Xa&65535)+(sa&65535);E=(Xa>>>16)+(sa>>>16)+(N>>>16);G=(Ea&65535)+(ra&65535)+(E>>>16);C=(Ea>>>16)+(ra>>>16)+(G>>>16);fb=C<<16|G&65535;gb=E<<16|N&65535;N=(M&
65535)+(sa&65535);E=(M>>>16)+(sa>>>16)+(N>>>16);G=(R&65535)+(ra&65535)+(E>>>16);C=(R>>>16)+(ra>>>16)+(G>>>16);Ea=C<<16|G&65535;Xa=E<<16|N&65535;$a=(Ea>>>28|Xa<<4)^(Xa>>>2|Ea<<30)^(Xa>>>7|Ea<<25);v=(Xa>>>28|Ea<<4)^(Ea>>>2|Xa<<30)^(Ea>>>7|Xa<<25);C=(fb>>>14|gb<<18)^(fb>>>18|gb<<14)^(gb>>>9|fb<<23);E=(gb>>>14|fb<<18)^(gb>>>18|fb<<14)^(fb>>>9|gb<<23);Db=Ea&V;Eb=Xa&na;kb=Db^Ea&ha^Lb;hb=Eb^Xa&ea^Fb;Za=fb&Ia^~fb&Ta;G=gb&La^~gb&Ya;ra=g[b+2];sa=g[b+3];R=k[b+2];M=k[b+3];N=(M&65535)+(sa&65535)+(G&65535)+(E&
65535)+(bb&65535);E=(M>>>16)+(sa>>>16)+(G>>>16)+(E>>>16)+(bb>>>16)+(N>>>16);G=(R&65535)+(ra&65535)+(Za&65535)+(C&65535)+(ab&65535)+(E>>>16);C=(R>>>16)+(ra>>>16)+(Za>>>16)+(C>>>16)+(ab>>>16)+(G>>>16);ra=C<<16|G&65535;sa=E<<16|N&65535;N=(hb&65535)+(v&65535);E=(hb>>>16)+(v>>>16)+(N>>>16);G=(kb&65535)+($a&65535)+(E>>>16);C=(kb>>>16)+($a>>>16)+(G>>>16);R=C<<16|G&65535;M=E<<16|N&65535;N=(wa&65535)+(sa&65535);E=(wa>>>16)+(sa>>>16)+(N>>>16);G=(oa&65535)+(ra&65535)+(E>>>16);C=(oa>>>16)+(ra>>>16)+(G>>>16);
ab=C<<16|G&65535;bb=E<<16|N&65535;N=(M&65535)+(sa&65535);E=(M>>>16)+(sa>>>16)+(N>>>16);G=(R&65535)+(ra&65535)+(E>>>16);C=(R>>>16)+(ra>>>16)+(G>>>16);oa=C<<16|G&65535;wa=E<<16|N&65535;$a=(oa>>>28|wa<<4)^(wa>>>2|oa<<30)^(wa>>>7|oa<<25);v=(wa>>>28|oa<<4)^(oa>>>2|wa<<30)^(oa>>>7|wa<<25);C=(ab>>>14|bb<<18)^(ab>>>18|bb<<14)^(bb>>>9|ab<<23);E=(bb>>>14|ab<<18)^(bb>>>18|ab<<14)^(ab>>>9|bb<<23);Lb=oa&Ea;Fb=wa&Xa;kb=Lb^oa&V^Db;hb=Fb^wa&na^Eb;Za=ab&fb^~ab&Ia;G=bb&gb^~bb&La;ra=g[b+4];sa=g[b+5];R=k[b+4];M=k[b+
5];N=(M&65535)+(sa&65535)+(G&65535)+(E&65535)+(Ya&65535);E=(M>>>16)+(sa>>>16)+(G>>>16)+(E>>>16)+(Ya>>>16)+(N>>>16);G=(R&65535)+(ra&65535)+(Za&65535)+(C&65535)+(Ta&65535)+(E>>>16);C=(R>>>16)+(ra>>>16)+(Za>>>16)+(C>>>16)+(Ta>>>16)+(G>>>16);ra=C<<16|G&65535;sa=E<<16|N&65535;N=(hb&65535)+(v&65535);E=(hb>>>16)+(v>>>16)+(N>>>16);G=(kb&65535)+($a&65535)+(E>>>16);C=(kb>>>16)+($a>>>16)+(G>>>16);R=C<<16|G&65535;M=E<<16|N&65535;N=(ea&65535)+(sa&65535);E=(ea>>>16)+(sa>>>16)+(N>>>16);G=(ha&65535)+(ra&65535)+(E>>>
16);C=(ha>>>16)+(ra>>>16)+(G>>>16);Ta=C<<16|G&65535;Ya=E<<16|N&65535;N=(M&65535)+(sa&65535);E=(M>>>16)+(sa>>>16)+(N>>>16);G=(R&65535)+(ra&65535)+(E>>>16);C=(R>>>16)+(ra>>>16)+(G>>>16);ha=C<<16|G&65535;ea=E<<16|N&65535;$a=(ha>>>28|ea<<4)^(ea>>>2|ha<<30)^(ea>>>7|ha<<25);v=(ea>>>28|ha<<4)^(ha>>>2|ea<<30)^(ha>>>7|ea<<25);C=(Ta>>>14|Ya<<18)^(Ta>>>18|Ya<<14)^(Ya>>>9|Ta<<23);E=(Ya>>>14|Ta<<18)^(Ya>>>18|Ta<<14)^(Ta>>>9|Ya<<23);Db=ha&oa;Eb=ea&wa;kb=Db^ha&Ea^Lb;hb=Eb^ea&Xa^Fb;Za=Ta&ab^~Ta&fb;G=Ya&bb^~Ya&gb;
ra=g[b+6];sa=g[b+7];R=k[b+6];M=k[b+7];N=(M&65535)+(sa&65535)+(G&65535)+(E&65535)+(La&65535);E=(M>>>16)+(sa>>>16)+(G>>>16)+(E>>>16)+(La>>>16)+(N>>>16);G=(R&65535)+(ra&65535)+(Za&65535)+(C&65535)+(Ia&65535)+(E>>>16);C=(R>>>16)+(ra>>>16)+(Za>>>16)+(C>>>16)+(Ia>>>16)+(G>>>16);ra=C<<16|G&65535;sa=E<<16|N&65535;N=(hb&65535)+(v&65535);E=(hb>>>16)+(v>>>16)+(N>>>16);G=(kb&65535)+($a&65535)+(E>>>16);C=(kb>>>16)+($a>>>16)+(G>>>16);R=C<<16|G&65535;M=E<<16|N&65535;N=(na&65535)+(sa&65535);E=(na>>>16)+(sa>>>16)+
(N>>>16);G=(V&65535)+(ra&65535)+(E>>>16);C=(V>>>16)+(ra>>>16)+(G>>>16);Ia=C<<16|G&65535;La=E<<16|N&65535;N=(M&65535)+(sa&65535);E=(M>>>16)+(sa>>>16)+(N>>>16);G=(R&65535)+(ra&65535)+(E>>>16);C=(R>>>16)+(ra>>>16)+(G>>>16);V=C<<16|G&65535;na=E<<16|N&65535}N=(h&65535)+(na&65535);E=(h>>>16)+(na>>>16)+(N>>>16);G=(p&65535)+(V&65535)+(E>>>16);C=(p>>>16)+(V>>>16)+(G>>>16);p=C<<16|G&65535;h=E<<16|N&65535;N=(x&65535)+(ea&65535);E=(x>>>16)+(ea>>>16)+(N>>>16);G=(n&65535)+(ha&65535)+(E>>>16);C=(n>>>16)+(ha>>>16)+
(G>>>16);n=C<<16|G&65535;x=E<<16|N&65535;N=(y&65535)+(wa&65535);E=(y>>>16)+(wa>>>16)+(N>>>16);G=(u&65535)+(oa&65535)+(E>>>16);C=(u>>>16)+(oa>>>16)+(G>>>16);u=C<<16|G&65535;y=E<<16|N&65535;N=(w&65535)+(Xa&65535);E=(w>>>16)+(Xa>>>16)+(N>>>16);G=(r&65535)+(Ea&65535)+(E>>>16);C=(r>>>16)+(Ea>>>16)+(G>>>16);r=C<<16|G&65535;w=E<<16|N&65535;N=(J&65535)+(La&65535);E=(J>>>16)+(La>>>16)+(N>>>16);G=(B&65535)+(Ia&65535)+(E>>>16);C=(B>>>16)+(Ia>>>16)+(G>>>16);B=C<<16|G&65535;J=E<<16|N&65535;N=(T&65535)+(Ya&65535);
E=(T>>>16)+(Ya>>>16)+(N>>>16);G=(Y&65535)+(Ta&65535)+(E>>>16);C=(Y>>>16)+(Ta>>>16)+(G>>>16);Y=C<<16|G&65535;T=E<<16|N&65535;N=(ma&65535)+(bb&65535);E=(ma>>>16)+(bb>>>16)+(N>>>16);G=(S&65535)+(ab&65535)+(E>>>16);C=(S>>>16)+(ab>>>16)+(G>>>16);S=C<<16|G&65535;ma=E<<16|N&65535;N=(jb&65535)+(gb&65535);E=(jb>>>16)+(gb>>>16)+(N>>>16);G=(Ba&65535)+(fb&65535)+(E>>>16);C=(Ba>>>16)+(fb>>>16)+(G>>>16);Ba=C<<16|G&65535;jb=E<<16|N&65535}while(!c);return[p,h,n,x,u,y,r,w,B,J,Y,T,S,ma,Ba,jb]}}();Oa.requestAnimationFrame=Oa.requestAnimationFrame||Oa.webkitRequestAnimationFrame||Oa.mozRequestAnimationFrame||Oa.oRequestAnimationFrame||Oa.msRequestAnimationFrame||function(a){Oa.setTimeout(a,1E3/60)};
var pb=function(){function a(){}var k={},g,e=0,c=0,b=Date.now(),l=requestAnimationFrame;setInterval(function(){var d=Date.now();e&&c&&e==c&&requestAnimationFrame==l&&(Oa.requestAnimationFrame=a,g(e+d-b),Oa.requestAnimationFrame=l);c=e;b=d},250);requestAnimationFrame(function(d){d?g=function(f){var m=0,p=1>=e?0:f-e,h;for(h in k)k[h](p)?++m:delete k[h];if(!m)for(h in k)++m;m?(e=f,requestAnimationFrame(g)):e=0}:g=window.performance&&window.performance.now?function(){var f=performance.now(),m=0,p=1>=
e?0:f-e,h;for(h in k)k[h](p)?++m:delete k[h];if(!m)for(h in k)++m;m?(e=f,requestAnimationFrame(g)):e=0}:function(){var f=Date.now(),m=0,p=1>=e?0:f-e,h;for(h in k)k[h](p)?++m:delete k[h];if(!m)for(h in k)++m;m?(e=f,requestAnimationFrame(g)):e=0};requestAnimationFrame(g)});return function(){!e&&g&&(requestAnimationFrame(g),e=1);return k}}();function qb(a,k){if(0<k)return pb()[ka++]=function(g){return 0<(k-=g)?!0:(a(),!1)},""+(ka-1);a();return""}function rb(a){a.style.transition="none"}
function sb(a,k){var g=~~(a.style.transitionDelay.match(/^(\d+)ms$/)?RegExp.$1:0),e=~~(a.style.transitionDuration.match(/^(\d+)ms$/)?RegExp.$1:0);qb(function(){return k(a)},g+e)};var A;
(function(a){a.eb="yama";a.pc="se";a.tb="sevol";a.Ha="desktop";a.he="hideid";a.ze="scro";a.be="cptype";a.me="lthai";a.ga="uname";a.Hb="sx";a.lf="lang";a.Mb="gpid";a.ye="rule";a.jd="lognext";a.hd="log";a.Ud="autowin";a.Dc="check";a.Zd=1;a.$d=2;a.ae=4;a.Ec=8;a.Rk=16;a.Qk=32;a.Yk=64;a.Wk=128;a.Xk=256;a.Sk=512;a.Tk=1024;a.Uk=2048;a.Vk=4096;a.Ua="backgroundImage";a.Ik="backgroundMask";a.kd="msk";a.Ae="swar";a.ke="lastreload";a.Vm="tabsel";a.La="tsssessionid";a.ud="skin";a.fd="llb";a.Ta=function(k,g,e){D&&
(g!=e?D.setItem(k,g):D.removeItem(k))}})(A||(A={}));var D;
(function(){try{D=Oa.localStorage,D.setItem("a","1"),D.removeItem("a")}catch(e){D={setItem:function(c,b){D[c]=b},removeItem:function(c){delete D[c]}};var a=navigator.languages,k=0;navigator.userAgent.match(/TwitterAndroid/)&&(k|=1);for(var g in a)a[g].match(/(ja|JP)/)&&(k|=2);a="";switch(k){case 0:a="This browser(private browsing etc.) won't let you save game logs, IDs or other settings.";break;case 1:a="The Twitter browser will not let you save your settings (game logs, IDs, etc). Open the menu and select Open in Browser.";break;
default:case 2:a="このブラウザ環境(プライベートブラウズなど)では、牌譜の記録やIDの保存などが行えません。";break;case 3:a="Twitterの専用ブラウザでは、設定の保存(牌譜の記録/IDの保存/など)が行えません。メニューの「ブラウザで開く」から通常のブラウザで開いてください。"}alert(a)}})();
(function(){var a=D[A.ze];if(Ra&&Oa.screen&&Oa.screen.orientation&&Oa.screen.orientation.lock){var k=screen.orientation,g=k.type;if(Sa&&("landscape-primary"==g||"landscape-secondary"==g)){var e=Ma.getElementById("loading");e&&(e.style.display="none");Oa.StatusBar.overlaysWebView(!0);Oa.StatusBar.hide();k.lock("portrait");"landscape-primary"==g?k.lock("landscape-secondary"):"landscape-secondary"==g&&k.lock("landscape-primary");e&&setTimeout(function(){e&&(e.style.display="table")},1E3)}Sa&&2==a?k.lock("landscape-primary"==
g?"landscape-secondary":"landscape-secondary"==g?"landscape-primary":"landscape"):k.lock(1==a?"portrait":2==a?"landscape":"any")}})();if(Ra&&Oa.cordova&&D&&(!D[A.ga]||!D[A.ga].match(/^ID[0-9A-F]{8}-[0-9A-Za-z]{8}$/)))try{Oa.cordova.exec(function(a){!D[A.ga]&&a&&(D[A.ga]=a)},function(){},"restoreid20211015","restore",[])}catch(a){}D.nose&&(D[A.tb]="0",D.removeItem("nose"));var F,H=F||(F={});H.lj=0;H.qj=10;H.sj=11;H.Xf=12;H.wj=13;H.vj=14;H.td=15;H.Ij=16;H.pj=17;H.Fj=18;H.mj=19;H.sd=20;H.Dj=21;H.rj=22;H.Ej=23;H.zj=24;H.bb=25;H.tj=26;H.Gj=27;H.yj=28;H.oj=29;H.xj=30;H.Aj=31;H.rd=32;H.Bj=33;H.Hm=34;H.Hj=35;H.Wf=36;H.Cj=37;H.Kj=38;H.Fm=39;H.Gm=40;H.Im=41;H.uj=42;H.nj=43;H.Jj=44;H.Jm=45;H.Om=46;H.Pm=47;H.Km=48;H.Lm=49;H.Mm=50;H.Nm=51;H.uf=150;H.ri=151;H.pi=152;H.oi=153;H.si=154;H.mi=155;H.ni=156;H.Bi=157;H.yi=158;H.Ai=159;H.zi=160;H.Ci=161;H.ti=162;H.ui=163;H.wi=164;
H.xi=165;H.vf=166;H.Di=167;H.Ei=168;H.Fi=169;H.md=180;H.Mc=181;H.Mi=182;H.Li=183;H.yf=184;H.zf=185;H.Wj=190;H.hf=200;H.hh=201;H.eh=202;H.gh=203;H.fh=204;H.dh=205;H.jf=210;H.jh=211;H.kh=212;H.sh=213;H.Ol=214;H.wh=215;H.gd=216;H.yh=217;H.Ah=218;H.Ch=219;H.Gh=220;H.Hh=221;H.Fh=222;H.th=223;H.xh=224;H.uh=225;H.vh=226;H.Ih=230;H.Jh=231;H.Kh=232;H.Eh=240;H.Dh=241;H.Vg=250;H.ff=251;H.gf=252;H.ef=253;H.df=254;H.af=255;H.cf=256;H.Yg=257;H.ee=258;H.Xg=259;H.ce=260;H.bf=261;H.Sg=262;H.Tg=263;H.Ye=264;H.Ze=265;
H.Wg=266;H.Ug=267;H.Jc=268;H.Ic=269;H.rb=270;H.Og=271;H.Ng=272;H.$e=273;H.Qg=274;H.Rg=275;H.Xe=276;H.Pg=277;H.Hc=278;H.Df=280;H.od=281;H.Oi=282;H.Oa=283;H.Pi=284;H.Ja=285;H.mf=286;H.nf=287;H.le=288;H.Bh=289;H.Nl=290;H.Pl=291;H.qf=300;H.pf=301;H.Qh=310;H.rf=311;H.Ph=312;H.Zh=313;H.Th=314;H.Mh=320;H.Sh=321;H.Rh=322;H.tf=323;H.sf=324;H.Nh=325;H.Oh=326;H.Xh=327;H.Yh=328;H.$h=329;H.Wh=330;H.Lh=331;H.gi=340;H.hi=341;H.ai=342;H.bi=343;H.ci=344;H.di=345;H.ei=346;H.fi=347;H.ki=348;H.li=349;H.ii=350;H.ji=351;
H.Vh=360;H.Uh=361;H.ej=362;H.fj=363;H.Oj=364;H.Lj=365;var tb;
(function(a){function k(l,d){a.Rb[l]?Object.keys(a.Rb[l]).length?d(l,a.Rb[l]):mb("https://cdn.tenhou.net/4/res/lang/string20220614_ja.json".replace("ja",l),function(f){if(f)throw f;f=this.response;try{var m=JSON.parse(f)}catch(p){return}a.assign(l,m);d(l,m)}):d(l,{})}function g(l){void 0!==l&&A.Ta(A.lf,l,c);b=(D[A.lf]||c).split("-")[0];switch(b){case "JP":b="ja";break;case "EN":b="en"}return b}function e(l){var d=a.Rb[b];return d&&d[l]||a.Rb.en[l]||a.Rb.ja[l]||"[str:"+b+l+"]"}a.Rb={ja:{},en:{},zh:{},
ko:{},ru:{},fr:{},it:{},es:{},vi:{},pt:{},de:{}};var c=(navigator.language||"ja").split("-")[0],b="";a.assign=function(l,d){l=a.Rb[l];if(d.length)for(var f=0;f<d.length;f+=2)l[~~d[f]]=d[f+1];else for(f in d)l[f]=d[f]};a.wc=g;a.Zj=function(l){function d(){--f||l()}b=g();var f=0;++f;k("en",d);++f;k("ja",d);++f;k(b,d)};a.lk=e;a.nb=function(l){var d=l%10;l%=100;return 1==d&&11!=l?e(F.od)[0]:2==d&&12!=l?e(F.od)[1]:3==d&&13!=l?e(F.od)[2]:e(F.od)[3]}})(tb||(tb={}));var I=tb.lk;function ub(a){if("254"==a)return"a";if("255"==a)return"r";if("136"==a)return"0z";var k=a>>2;return(27>k&&16==a%36?"0":k%9+1)+"mpsz".substr(k/9,1)}function vb(a){for(var k="",g=0;g<a.length;++g)k+=ub(a[g]);return k.replace(/\d(m|p|s|z)(\d\1)*/g,"$&:").replace(/(m|p|s|z)([^:])/g,"$2").replace(/:/g,"")}
function wb(a){return a.replace(/(\d)(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{8})(m|p|s|z)/g,"$1$9$2$9$3$9$4$9$5$9$6$9$7$9$8$9").replace(/(\d?)(\d?)(\d?)(\d?)(\d?)(\d?)(\d)(\d)(m|p|s|z)/g,"$1$9$2$9$3$9$4$9$5$9$6$9$7$9$8$9").replace(/(m|p|s|z)(m|p|s|z)+/g,"$1").replace(/([^0-9]|^)[mpsz](\d[mpsz\d]*)/g,"$1$2")}
function yb(a){if(!a)return"";for(var k=[],g=0;34>g;++g)k[g]=0;return wb(a).replace(/r/g,"255,").replace(/a/g,"254,").replace(/(\d)([mpsz])(?![mpsz])/g,function(e,c,b){c=~~c;if("z"==b&&0==c)return"136,";e="m"==b?0:"p"==b?1:"s"==b?2:3;return c?36*e+4*(c-1)+ ++k[9*e+(c-1)]%4+",":4*(9*e+4)+","}).replace(/,$/,"")};var zb=[0,0,0,0,0,0,0,0,-10,-20,-30,-40,-50,-60,-70,-80,-90,-100,-110,-120,0],Ab=[20,20,20,20,40,60,80,100,100,100,400,800,1200,1600,2E3,2400,2800,3200,3600,4E3,0],Bb=[1,3,0,7,9,11,0,15,65,4161,0,0,73,4169,0,0,129,131,0,135,137,139,0,143,193,4289,0,0,201,4297,0,0,33,35,0,39,41,43,0,47,97,4193,0,0,105,4201,0,0,161,163,0,167,169,171,0,175,225,4321,0,0,233,4329,0,0,17,25,145,153,49,57,177,185,81,89,209,217,113,121,241,249,1025,1033,513,521,1537,1545,1553,1561,1153,1161,641,649,1665,1673,1681,1689,1057,
1065,545,553,1569,1577,1585,1593,1185,1193,673,681,1697,1705,1713,1721,2065,4353,4361,4377,257,265,281,4481,4489,4505,259,267];function Cb(a){var k=document.createElement("style");k.innerHTML=a;Pa.appendChild(k)}Cb("@font-face{font-family:cwTeX-Q-Kai-T;src: url(https://cdn.tenhou.net/3/res/font/cwTeXQKaiT-Medium_20200430.ttf) format('truetype');}@font-face{font-family:icons2;src: url(https://cdn.tenhou.net/3/res/font/icons_20200502.ttf) format('truetype');}*{-webkit-tap-highlight-color:rgba(0,0,0,0);line-height:1;}:focus{outline:0;}HTML{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}HTML{touch-action:pan-y;}BODY{font-family:sans-serif;overflow-x:hidden;-webkit-text-size-adjust:100%;}HR{border-color:#444;border-width:1px 0 0 0;border-style:solid;margin:0.5em 0;}TEXTAREA{margin:0px;word-break:break-all;}SELECT{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0.5em;}SELECT::-ms-expand{display:none;}BUTTON,SELECT,INPUT,.bth{height:2em;font-size:175%;margin:0;}BUTTON,SELECT,INPUT[type=checkbox].checkboxt+LABEL,A.bt3{padding:0 0.5em;color:inherit;border:solid 1px #444;}BUTTON,SELECT,INPUT[type=checkbox].checkboxt+LABEL{background:linear-gradient(to bottom, rgba(0,0,0,0.4) 0%,rgba(167,147,127,0.4) 50%,rgba(31,31,31,0.4) 51%,rgba(0,0,0,0.4) 100%);}A.bt3{display:block;width:100%;height:100%;padding:0 1em;border:solid 1px #444;background:linear-gradient(to bottom, rgba(0,0,0,0.4) 0%,rgba(47,47,47,0.4) 100%);}A.bt3:hover,SELECT:hover{background-color:#030;color:#FFF;}SELECT:disabled,BUTTON:disabled{color:#888;background:#444;pointer-events:none;}OPTION{background-color:#FFF;color:#000;}BUTTON *{pointer-events:none;}.sscl{-webkit-overflow-scrolling:touch;}.rot000{position:absolute;}.rot090{position:absolute;transform:rotate( 90deg);-webkit-transform:rotate( 90deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);}.rot180{position:absolute;transform:rotate(180deg);-webkit-transform:rotate(180deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);}.rot270{position:absolute;transform:rotate(270deg);-webkit-transform:rotate(270deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);}.ts0,sblink{text-shadow:#000 -1px 0px 0px, #000 1px 0px 0px, #000 1px 1px 1px,#000 -1px -1px 1px;}.ts1{text-shadow:#000 -1px 0px 0px, #000 1px 0px 0px, #000 0px 1px 0px,#000 0px -1px 0px;}.ts1e{text-shadow:#000 -0.1em 0px 0.05em, #000 0.1em 0px 0.05em, #000 0px 0.1em 0.05em,#000 0px -0.1em 0.05em;}.tsv{text-shadow:#000 -1px -1px 0px, #000 0px 1px 0px, #000 3px 3px 0px;}.nosel{-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;}.tbl{display:table;}.tbc{display:table-cell;}.gray{color:#666;}.nobr{word-break:keep-all;white-space:nowrap;}.bgb40{background-color:rgba(0,0,0,0.4);}.bgb60{background-color:rgba(0,0,0,0.6);}.bgb80{background-color:rgba(0,0,0,0.8);}.bgb{background-color:#000;}.ra0{border-radius:0.5em;}.ra1{border-radius:0.5em 0 0 0.5em;}.ra2{border-radius:0 0.5em 0.5em 0;}.dan18,.dan19,.dan20{font-weight:bold;}.n2r{display:inline-block;width:2em;text-align:right;}._selected_{border-left:0.1em solid #CCC;}.bbg5{border:solid 0.05em #222;border-image:linear-gradient(-10deg,#000, #333) 1;background:linear-gradient(-10deg,rgba(63,63,63,0.3), rgba(0,0,0,0.3));}.desc{color:#666;font-size:50%;}.gmark{position:relative;z-index:0;}.gmark:before{z-index:-1;position:absolute;display:block;content:'';left:50%;top:50%;width:0.9em;height:0.9em;border-radius:50%;background-color:#F93;transform:translate(-50%,-55%);opacity:0.4;}SELECT{padding-right:1em;}.select-wrapper{position:relative;display:inline-block;}.select-wrapper:after{content:'';position:absolute;right:0.5em;top:45%;width:0;height:0;border-left:0.3em solid transparent;border-right:0.3em solid transparent;border-top: 0.3em solid #FFF;pointer-events:none;animation:_tblink 0.5s linear 0s infinite alternate;}.select-wrapper>BUTTON:first-child{padding-right:1em;border-radius:0.5em;}.fixed-select{min-width:10em;max-width:90vw;max-height:85vh;overflow-y:auto;}.fixed-select .A{font-size:150%;color:#000;padding:0.5em;text-decoration:none;display:block;}.fixed-select .A{border-bottom:1px solid #DDD;cursor:pointer;}.fixed-select .A:nth-child(1){border-top:1px solid #DDD;}.fixed-select .A:hover{background-color:#CCC}.fixed-select .A DIV.desc{color:#666;font-size:50%;}.fixed-select .A *{pointer-events:none;}.vscl::-webkit-scrollbar{background:#CCC;width:0.5em;}.vscl::-webkit-scrollbar-thumb{background:#AAA;}INPUT[type=checkbox].checkboxt{display:none;}INPUT[type=checkbox].checkboxt+LABEL{position:relative;cursor:pointer;display:inline-block;border-radius:0.5em;}INPUT[type=checkbox].checkboxt+LABEL{padding:0.5em 0.5em 0.5em 1.8em;}INPUT[type=checkbox].checkboxt+LABEL::before{font-family:icons2;content:'';position:absolute;left:0.5em;top:25%;}INPUT[type=checkbox].checkboxt:checked+LABEL::before{content:'';}INPUT[type=checkbox].checkboxt:disabled+LABEL{color:#888;background:#444;pointer-events:none;}.radio,.checkbox{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0.3em;}.radio,.checkbox{font-size:1.25rem;padding:0.75rem;border:solid 1px #444;}.radio:hover,.checkbox:hover{background-color:#030;color:#FFF;}INPUT[type=radio].radio,INPUT[type=checkbox].checkbox{display:none;}.radio,.checkbox{box-sizing:border-box;position:relative;display:inline-block;padding:0.75rem 0.75rem 0.75rem 3.0rem;vertical-align: middle;}.radio:after,.checkbox:after{position:absolute;display:block;content:'';top:50%;left:0.9rem;margin-top:-0.6rem;width:1.0rem;height:1.0rem;border:0.1rem solid #CCC;border-radius:0.3rem;}.radio:before{position:absolute;display:block;content:'';opacity:0;top:50%;left:1.1rem;margin-top:-0.4rem;width:0.6rem;height:0.6rem;border-radius:50%;background-color:#444;}.checkbox:before{position:absolute;display:block;content:'';opacity:0;top:50%;left:1.25rem;margin-top:-0.5rem;width:0.3rem;height:0.6rem;border-right:0.2rem solid #4C4;border-bottom:0.2rem solid #4C4;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}INPUT[type=radio].radio:checked+.radio:before,INPUT[type=checkbox].checkbox:checked+.checkbox:before{opacity:1;}.bblink{animation:_bblink 0.5s ease 0s infinite alternate;}@keyframes _bblink{0%{background-color:rgba(255,255,255,0.3);}30%{background-color:rgba(0,0,0,0.3);}100%{background-color:rgba(0,0,0,0.3);}}.cblink{animation:_cblink 1.75s linear 0s infinite alternate;}@keyframes _cblink{0%{color:#FFF;}80%{color:#FFF;}100%{color:#666;}}.sblink{animation:_sblink 0.5s linear 0s infinite alternate;position:absolute;bottom:0;right:0.25em;color:#888;font-size:300%;pointer-events:none;}@keyframes _sblink{0%{color:transparent;}30%{color:#888;}100%{color:#888;}}.tblink{animation:_tblink 0.7s linear 0s infinite alternate;}@keyframes _tblink{0%{opacity:0;}40%{opacity:1;}100%{opacity:1;}}.flip{perspective:100px;opacity:0;transform:rotateX(-90deg);transition:all 0.5s cubic-bezier(.36,-0.64,.34,1.76);}.flip.show{opacity:1;transform:none;transition:all 0.5s cubic-bezier(.36,-0.64,.34,1.76);}.flipinqs{animation:_flipin 0.25s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}.flipinhs{animation:_flipin 0.5s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}.flipin1s{animation:_flipin 1s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}@keyframes _flipin{0%{opacity:0;transform:rotateX(-90deg);}100%{opacity:1;transform:none;}}.flipinqs.hide{animation:_flipout 0.25s cubic-bezier(0.600, 0, 0.735, 0.045) 0s 1 normal;}.flipinhs.hide{animation:_flipout 0.5s cubic-bezier(0.600, 0, 0.735, 0.045) 0s 1 normal;}@keyframes _flipout{0%{opacity:1;transform:none;}100%{opacity:0;transform:rotateX(-90deg);}}.arrow-box-left,.arrow-box-right{position:relative;background:#FFF;color:#000;border-radius:0.2em;padding:0.5em;}.arrow-box-left:after{right:100%;top:50%;border:solid transparent;content:' ';height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(255, 255, 255, 0);border-right-color:#FFF;border-width:0.5em;margin-top:-0.5em;}.arrow-box-right:after {left:100%;top:50%;border:solid transparent;content:' ';height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(255, 255, 255, 0);border-left-color:#FFF;border-width:0.5em;margin-top:-0.5em;}.b20:before{content:'';position:absolute;top:100%;left:50%;margin-left:-0.2rem;border:0.2rem solid transparent;border-top:0.2rem solid rgba(143,143,143,1.0);}.b21:before{content:'';position:absolute;top:40%;left:100%;margin-top:-0.2rem;border:0.2rem solid transparent;border-left:0.2rem solid rgba(143,143,143,1.0);}.b22:before{content:'';position:absolute;top:-0.4rem;left:50%;margin-left:-0.2rem;border:0.2rem solid transparent;border-bottom:0.2rem solid rgba(143,143,143,1.0);}.b23:before{content:'';position:absolute;top:60%;left:-0.4rem;margin-top:-0.2rem;border:0.2rem solid transparent;border-right:0.2rem solid rgba(143,143,143,1.0);}#pftab TD,#rnktab TD{padding-top:0.35em;}#pftab SMALL,#rnktab SMALL{font-size:60%;}.trtab TD{padding:0.5em 0.25em;}.c15>DIV{background-color:rgba(0,0,0,0.85);color:#FFF;border:solid 1px #444;padding:1em 0.5em;}.c16{background:#000;}.c17>DIV{color:#000;padding:1em 0.5em;}[data-pane=d0]{padding:1em;}");
function K(a){return"<span class=gray>"+a+"</span>"}function Gb(a){return"<span class=nobr>"+a+"</span>"}ya("span",Pa,"",{innerHTML:"FontLoader&#xe800;"},{position:"absolute",fontFamily:"cwTeX-Q-Kai-T,icons2",visibility:"hidden"});setInterval(function(){for(var a=Ma.querySelectorAll(".sblink"),k=0;k<a.length;++k){var g=a[k];if(g.previousSibling){var e=g.previousSibling;g.style.visibility=e.scrollTop+e.offsetHeight<e.scrollHeight-.25*g.offsetHeight?"":"hidden"}}},1E3);function Hb(a){a.sort(function(k,g){return k-g})}function Ib(a,k){a.sort(function(g,e){return(k[g]<<8|g)-(k[e]<<8|e)})}function Jb(a){a&&a.getFullYear||(a=new Date(a));return a.getFullYear()+("0"+(a.getMonth()+1)).slice(-2)+("0"+a.getDate()).slice(-2)+("0"+a.getHours()).slice(-2)+("0"+a.getMinutes()).slice(-2)+("0"+a.getSeconds()).slice(-2)}function Kb(a){a=a.split("&");var k={},g;for(g in a)if(a[g].length){var e=a[g].split("=");k[e.shift()]=decodeURIComponent(e.join("="))}return k}
function Mb(a){return ja(a)?"<span class=gmark>"+a.substr(0,1)+"</span>"+a.substr(1):a}function Nb(a,k,g){var e=new XMLHttpRequest;e.onload=function(c){200==this.status?g.call(this):g.call(this,c)};e.onerror=function(c){g.call(this,c)};e.open(k?"POST":"GET",a,!0);e.setRequestHeader("Tenhou-Client-Type",Ra?"C":"W");e.setRequestHeader("Tenhou-Client-Lang",tb.wc());e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(k)}var Ob=!1,Pb={};Da(Pb,Kb(location.search.substr(1)));
Da(Pb,Kb(location.hash.substr(1)));Pb.TW=Pb.tw=~~Pb.tw%4;Pb.Vc=!(!Pb.wg&&!Pb.log);Pb.jc=!1;Pb.nk=function(a){function k(g,e){return(g=a.match(g))?g[1]:e}Pb.log=k(/\?log=([^&]*)/,"");Pb.TW=Pb.tw=~~k(/&tw=(\d)/,0);Pb.ts=~~k(/&ts=(\d+)/,0);Pb.wg=k(/\?wg=([^&]*)/,"");(Pb.log||Pb.wg)&&L.Ma(11)};
function Qb(a){for(var k=1;k<arguments.length;++k){var g=arguments[k];if(0===g)Array.prototype.push.apply(arguments,"regid clearid idcont uname sx mvlb ok regemail".split(" "));else if(1===g)Array.prototype.push.apply(arguments,"cfg testplay haifu kansen openurl help hairi purchase".split(" "));else if(2===g)Array.prototype.push.apply(arguments,["iap","storePurchase","exit"]);else if(3===g)Array.prototype.push.apply(arguments,["rule","join","cancel","logout"]);else{g=Ma.getElementsByName(g);for(var e=
0;e<g.length;++e){var c=g[e];c&&(c.disabled=a)}}}}function Rb(a){if(!a)return!1;a=a.replace(/\?.*$/,"");return a.match(/^https?:\/\/(?:[%\w-]+\.)+[%\w-]+(?:\/[%\w-]+)+\.(?:jpg|png|gif)$/)}function Sb(a){if(!a)return!1;a=a.replace(/\?.*$/,"");return a.match(/^https?:\/\/(?:[%\w-]+\.)+[%\w-]+(?:\/[%\w-]+)+\.(?:json|txt)$/)}
var Tb=function(){var a=[],k=new XMLHttpRequest;k.onload=function(){a.length&&1!=k.readyState&&(k.open("POST","https://tenhou.net/3/err.cgi",!0),k.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),k.send(a.shift()))};return function(){for(var g=arguments[0],e=1;e<arguments.length;++e)g+=" "+arguments[e];a.push(g);k.onload()}}(),Ub="";Oa.onerror=function(a,k,g,e,c){a=a+" "+k+":"+g+":"+e+" "+c;Ub!=a&&Tb(a);Ub=a};var Vb=function(){var a,k,g;return{qa:function(e){g&&(clearInterval(g),g=null);k&&k[e]&&0==k[e](a)||(a&&(a.parentNode.removeChild(a),a=null),Ra&&Sa&&Oa.scrollTo(0,0))},o:function(e,c,b,l,d,f,m){f=f||"OK";m=m||"CANCEL";1==arguments.length&&(c=1);k=[l,b];var p=a=ya("div",Pa,"tbl",{},{position:"fixed",zIndex:2,left:0,top:0,width:"100%",height:"100vh",background:"rgba(0,0,0,0.75)",opacity:"0"});qb(function(){Da(p.style,{transition:"all 250ms ease-out 0ms",opacity:""});sb(p,rb);0==c&&Fa(p,"click",function(){Vb.qa(0)});
p=ya("div",p,"tbc",{},{textAlign:"center",verticalAlign:"middle"});p=ya("form",p,"",{innerHTML:"<div id=a22 style='position:relative;font-size:150%;"+(0!=c?"padding:1em 0;":"")+"'>"+e+"</div><input type=button style='width:6em;' /><input type=submit style='width:6em;' />",onsubmit:function(){return!1}},{display:"inline-block",background:"#FFF",color:"#000",borderRadius:"0.6em",maxWidth:"90vw",padding:"1em"});Na(p);var h=p.querySelectorAll("FORM>INPUT");h[0].onclick=function(){Vb.qa(0)};h[0].style.display=
c&2?"":"none";h[0].value=m;h[1].onclick=function(){Vb.qa(1)};h[1].style.display=c&1?"":"none";h[1].value=f;if(Ra&&Ua)for(var n=0;n<h.length;++n)Ga(h[n],{focus:function(){Wb(1)},blur:function(){Wb()}});h.length&&h[0].focus();if(d){Xb(O.Gb,0,0);var x=ya("div",p,"",{innerHTML:"<div style='position:absolute;right:0;bottom:0;padding:0 0.1em;font-size:70%;'></div>"},{color:"#000",position:"absolute",pointerEvents:"none"});g=setInterval(function(){var u=x.style,y=h[0].getBoundingClientRect();u.left=y.left+
"px";u.top=y.top+"px";u.width=y.width+"px";u.height=y.height+"px";x.firstChild.innerHTML=--d;0<d&&Xb(O.xe,0,0);0>d&&Vb.qa(0)},1E3)}if(p=p.querySelector("._selected_"))p.parentNode.scrollTop=p.offsetTop-(p.parentNode.offsetHeight-p.offsetHeight)/2},1)},ka:function(e,c,b,l,d){return Vb.o("<div class='fixed-select sscl' style='position:relative;"+(c||"")+"'>"+e+"</div><div class=sblink style='visibility:hidden;'>▼</div>",b,l,d)},xb:function(){return!!a}}}();
Fa(Oa,"click",function(a){var k=a.target;if(k.classList.contains("A")&&k.id&&k.parentNode.classList.contains("fixed-select"))if("A"==k.tagName&&a.preventDefault(),a=k.id.split("-"),P.b&&P[a[0]])P[a[0]](a[0],a[1]);else switch(a[0]){case "#tw":3==z.a?Yb.Ed(a[0],a[1]):2==z.a&&Zb.Ed(a[0],a[1]);break;case "#ts":Yb.xg(a[0],a[1]);break;case "#tj":Yb.yg(a[0],a[1]);break;case "#edit":if("M"==a[1])Oa.open("https://tenhou.net/6/?log="+Pb.log+"&tw="+~~Pb.tw);else if("T"==a[1])return alert("本機能はクローズド公開中のため使用できません")}});var $b=108,ac=ya("div",Pa,"nosel",{},{display:"none",color:"#CCC",backgroundColor:"#444",height:$b+"px"}),bc=ya("div",Pa,"nosel",{},{display:"none",overflow:"hidden",position:"absolute"}),cc=ya("div",Pa,"",{},{position:"absolute"});
db&&!eb?ac.innerHTML="<div style='width:100%;height:100%;display:table;pointer-events:none;'><div style='display:table-cell;text-align:center;vertical-align:middle;'>上にゆっくりスクロールしてください</div></div>":($b=0,ac.style.height=""+$b,Pa.style.overflow="hidden");function dc(){function a(){g=null;var c=Ma.documentElement.clientWidth,b=Oa.innerHeight,l=(~~Oa.orientation+360)%360,d=e[0];db&&((~~l+360)%180&&(d=e[1]),Ua&&c==d[1]&&(bc.style.display=ac.style.display="none",d[0]=d[1]=0),c<d[0]&&(c=d[0]),b<d[1]&&(b=d[1]));c==parseInt(bc.style.width)&&b==parseInt(bc.style.height)?(d[0]=c,d[1]=b,Pa.style.height=parseInt(ac.style.height)+b+"px",bc.style.display=ac.style.display="",ec()):(k(),Wb(),Oa.scrollTo(0,parseInt(ac.style.height)),bc.style.width=c+"px",bc.style.height=
b+"px")}function k(c){cb=Oa.devicePixelRatio||1;Sa&&(bc.style.display=ac.style.display="none");c&&"resize"==c.type||(Pa.style.height=2*Oa.innerHeight+"px");clearTimeout(g);g=setTimeout(a,250)}var g,e=[[0,0],[0,0]];Fa(Oa,"orientationchange",Sa?k:function(){bc.style.display=ac.style.display="none";var c=e[(~~((~~Oa.orientation+360)%360)+360)%180?1:0];c[0]=c[1]=0;k()});Fa(Oa,"resize",k);k()}
function fc(a,k,g){var e=k/cb+"px",c=g/cb+"px";if(a.width!=k||a.height!=g)a.width=k,a.height=g;a=a.style;if(a.width!=e||a.height!=c)a.width=e,a.height=c}
function gc(){hc.a=2;hc.a=3==z.a?D[A.Dc]&A.Ec?3:~~D[A.eb]:~~D[A.eb];0==hc.a&&D[A.Ha]&&(hc.a=1);Q.ca(bc.offsetWidth*cb,bc.offsetHeight*cb,D[A.Ha]&1);ic.kk();var a=Q.lb,k=Q.Bb;Pa.parentNode.style.fontSize=~~((a-2*Q.I[1])/cb/30)+"px";za.style.width=(a+0)/cb+"px";za.style.height=k/cb+"px";fc(jc.P.canvas,a,k);fc(kc.P.canvas,Q.Jd,k);fc(lc.P.canvas,Q.Jd,k);a=-~~((Q.Jd-a)/2/cb);kc.P.canvas.style.marginLeft=lc.P.canvas.style.marginLeft=a+"px";mc.ua();U.ca();nc.ca();oc.style.left=~~(U[W.Ka]/cb)+a+"px";oc.style.top=
~~(U[W.cb]/cb)+"px";k=pc.P.canvas;k.style.marginLeft=~~(U[W.Cf]/cb)+a+"px";k.style.marginTop=~~(U[W.pe]/cb)+"px";fc(k,U[W.Bf],U[W.Af]);jc.na();pc.na();kc.Yc();qc.ca();L.ca();P.ca();rc.ca();cc.style.top=za.offsetHeight+qc.b.offsetHeight+"px";(a=Ma.getElementById("loading"))&&a.parentNode.removeChild(a)}function ec(){ec=gc;L.Ma(11,Oa.tenhouEventInfo&&!Ma.referrer.match(/^https?:\/\/tenhou.net\/0\/(\?|$)/))}
function Wb(a){var k=Oa.StatusBar;if(k){Ra&&Ua&&k.backgroundColorByHexString("#000");var g=Ma.documentElement.clientWidth,e=Oa.innerHeight;!a&&e<g?(k.overlaysWebView(!0),k.hide()):(k.overlaysWebView(!1),k.show())}}Ra&&Fa(Ma,"resume",va(function(){jc.na();pc.na();kc.Yc();var a=lc.P;a.clearRect(0,0,a.canvas.width+1,a.canvas.height+1)},1));var za=ya("div",bc,"nosel tbl",{},{margin:"0 auto",position:"relative"});function sc(a,k){var g=arguments;a.beginPath();a.moveTo(g[2],g[3]);for(var e=4;e<g.length;)switch(g[e++]){case 0:e+=2;break;case 1:a.lineTo(g[e++],g[e++]);break;case 2:a.arcTo(g[e++],g[e++],g[e+1],g[e+2],k)}a.closePath()}function tc(a,k,g,e,c){var b=~~(.5*Q.Y[0]);sc(a,b,k+b,g+c,2,k+e,g+c,2,k+e,g,2,k,g,2,k,g+c,0,k+e,g+c+.01)}
var jc=function(){function a(g,e){g.globalAlpha=e;g.fill();g.globalAlpha=1}function k(g,e,c,b,l,d){d&&(g.fillStyle=d,g.fillText(e,c+1,b+0),g.fillText(e,c-1,b+0),g.fillText(e,c+0,b+1),g.fillText(e,c+0,b-1),g.fillText(e,c+1,b+1),g.fillText(e,c-1,b+1),g.fillText(e,c+1,b-1),g.fillText(e,c-1,b-1));l&&(g.fillStyle=l,g.fillText(e,c,b))}return{P:ya("canvas",za,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d"),Me:[ya("div",za,"",{},{position:"absolute",display:"none"}),ya("div",za,"",{},{position:"absolute",
display:"none"}),ya("div",za,"",{},{position:"absolute",display:"none"}),ya("div",za,"",{},{position:"absolute",display:"none"})],na:va(function(){var g=jc.P;if(g)if(g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,g.canvas.width+1,g.canvas.height+1),-1==z.Ea)for(var e=0;4>e;++e)jc.Me[e].style.display="none";else{var c=Math.round(kc.P.canvas.offsetLeft*cb);e=U[W.Xd]+c;var b=U[W.Yd],l=U[W.Wd],d=U[W.Vd],f=Q.Y[0],m=~~(.5*f);g.fillStyle="#000";tc(g,e,b,l,d);a(g,.2);var p=3*Q.I[1],h=3*Q.J[0];if(!ib){var n=
[g];n.push(m,e,b+d);z.O[0]&&n.push(2,e,b+d+h,2,e+l+p,b+d+h,2,e+l+p,b+d+f,1,e+l,b+d+f);n.push(1,e+l,b+d);z.O[1]&&n.push(2,e+l+p,b+d,2,e+l+p,b-h,2,e+l+f,b-h,1,e+l+f,b);n.push(1,e+l,b);z.O[2]&&n.push(2,e+l,b-h,2,e-p,b-h,2,e-p,b-f,1,e,b-f);n.push(1,e,b);z.O[3]&&n.push(2,e-p,b,2,e-p,b+d+h,2,e-f,b+d+h,1,e-f,b+d);sc.apply(this,n);a(g,.15)}if(ib)for(e=0;4>e;++e){if(p=jc.Me[e],p.style.display="none",z.O[e]){p.innerHTML="<div></div><div style='position:relative;overflow:hidden;'><img/><div></div><div style='position:absolute;'></div></div><div></div>";
p.className="ts1 b2"+e;h=~~(.25*m);n=2*Q.I[1];var x=2*Q.J[0]-f;b=Math.min(n,x);var u=W.je+2*e,y=U[u+0]+c;u=U[u+1];0==e&&(y+=0*Q.I[0],u+=3*Q.J[0]+m,p.style.transform="translate(-100%,-100%)",p.style.borderBottom="0.2rem solid rgb(31,31,31,0.7)");1==e&&(y+=3*Q.I[1],u+=1*Q.J[1]+f,p.style.transform="translate(-100%,   0%)",p.style.borderRight="0.2rem solid rgb(31,31,31,0.7)");2==e&&(y+=1*Q.I[0],u+=-2*Q.J[0]+m,p.style.transform="translate(   0%,   0%)",p.style.borderTop="0.2rem solid rgb(31,31,31,0.7)");
3==e&&(y+=-2*Q.I[1],u+=0*Q.J[1],p.style.transform="translate(   0%,-100%)",p.style.borderLeft="0.2rem solid rgb(31,31,31,0.7)");u=Math.min(u,U[W.cb]);Object.assign(p.style,{background:"rgba(0,0,0,0.25)",borderRadius:m/cb+"px",left:y/cb+"px",top:u/cb+"px",padding:"0 "+h/cb+"px",fontSize:.2*b/cb+"px",color:"#888"});Object.assign(p.childNodes[0].style,{margin:h/cb+"px 0",textAlign:1==e||2==e?"right":"left"});Object.assign(p.childNodes[1].style,{borderRadius:m/cb+"px",margin:h/cb+"px 0",width:(n-2*h)/
cb+"px",height:(x-2*h)/cb+"px",border:"1px solid #000"});Object.assign(p.childNodes[2].style,{margin:h/cb+"px 0",textAlign:1==e||2==e?"right":"left"});var r=ib||1800<=z.rate[e]?" R"+~~z.rate[e]:"";z.Rc[e].EMG0&&z.Rc[e].EMG0.match(/^\d{3}$/)&&(r+="<img src='https://cdn.tenhou.net/ron2/3/res/group/"+z.Rc[e].EMG0+"g25.png' style='margin:0 0.1em;border-radius:0.2em;border:0.05em #000 solid;height:1.0em;float:"+(0==e||3==e?"right":"left")+";' />");p.childNodes[2==e||3==e?0:2].innerHTML=r;p=p.childNodes[1].childNodes;
p[0].onload=function(){this.parentNode.parentNode.style.display=""};p[0].src="https://cdn.tenhou.net/ron2/3/res/480x480/_"+Aa(z.O[e]).replace(/%/g,"").toUpperCase()+".jpg";Object.assign(p[0].style,{position:"absolute",transform:"translate(-50%,-50%) translate("+(n-2*h)/cb/2+"px,"+(x-2*h)/cb/2+"px)",width:"100%"});Object.assign(p[1].style,{position:"absolute",background:"rgba(0,0,0,0.25)",width:"100%",height:"100%"});g.setTransform(1,0,0,1,y,u);g.rotate(270*e*Math.PI/180);g.fillStyle=Pb.jc?"#000":
"#444";tc(g,0,.4*-b,e&1?d:l,.4*b);a(g,Pb.jc?.15:.4);p=0==e?"rgba(255,255,255,0.30)":2==e?"rgba(191,191,191,0.25)":"rgba(255,255,255,0.25)";h=void 0;Pb.jc||(p="rgba(255,255,255,0.70)",h="rgba(0,0,0,0.50)");g.textBaseline="middle";g.font="normal "+.32*b+"px sans-serif";g.textAlign="center";k(g,z.O[e],(e&1?d:l)/2,.4*-b/2,p,h)}}else for(e=0;4>e;++e)if(z.O[e]){u=W.Ef+4*e;g.setTransform(1,0,0,1,c,0);g.fillStyle="#000";tc(g,U[u+0],U[u+1],U[u+2],U[u+3]);a(g,.15);g.textAlign="center";g.textBaseline="middle";
g.setTransform(1,0,0,1,U[u+0]+~~(U[u+2]/2)+c,U[u+1]+~~(U[u+3]/2));g.rotate(270*e*Math.PI/180);b=Math.min(U[u+2]/2,U[u+3]/2);p=0==e||3==e?"rgba(255,255,255,0.25)":"rgba(191,191,191,0.25)";h=void 0;Pb.jc||(p=0==e||3==e?"rgba(255,255,255,0.80)":"rgba(191,191,191,0.80)",h="rgba(0,0,0,0.50)");l=-.1;if(ib||1800<=z.rate[e])g.font="normal "+.3*b+"px sans-serif",k(g,"R"+~~z.rate[e],0,-.55*b,p,h),l=0;g.font="normal "+.9*b+"px cwTeX-Q-Kai-T,icons2,serif";k(g,fa.$a[z.uc[e]],0,b*l,p,h);g.font="normal "+.25*b+
"px sans-serif";k(g,z.O[e],0,b*(.55+l),p,h)}g.fillStyle="#000";g.setTransform(1,0,0,1,c,0);for(e=0;4>e;++e)z.O[e]&&(c=e?0:Q.Y[4],l=U[W.Ka+2*e],d=U[W.cb+2*e],f=U[W.mc+2*e],m=U[W.ld+2*e],tc(g,Math.min(l,f),Math.min(d,m)+c,Math.abs(l-f)+Q.I[e],Math.abs(d-m)+Q.J[e]+Q.Y[e]-c),a(g,.2))}})}}();var uc=function(){function a(){this.Ub=this.w=this.y=this.x=0}a.prototype.ak=function(){this.Ub=this.w=this.y=this.x=0};a.prototype.bk=function(k,g,e,c){this.w&&this.Ub?(k<this.x?(this.w+=this.x-k,this.x=k):e+=k-this.x,this.w<e&&(this.w=e),g<this.y?(this.Ub+=this.y-g,this.y=g):c+=g-this.y,this.Ub<c&&(this.Ub=c)):(this.x=k,this.y=g,this.w=e,this.Ub=c)};return a}(),kc;
(function(a){function k(c,b,l,d){if(l&&d){var f=a.P;f.clearRect(c,b,l,d);l=c+l;d=b+d;for(var m,p=0;m=U.Xa[p];++p){var h=m.s;if(void 0!==h&&0!==m.K&&h.ob.height){var n=m.Za.i+h.offsetX,x=m.Za.l-m.Za.pb+h.offsetY;if(!(l<=n||d<=x)){var u=n+h.wa;if(!(u<=c)){var y=x+h.Sa;if(!(y<=b)){var r=c-n;0<r?n=c:r=0;l<u&&(u=l);u-=n;var w=b-x;0<w?x=b:w=0;d<y&&(y=d);y-=x;f.globalAlpha=m.K;f.drawImage(h.ob,h.Vb+r,h.Wb+w,u,y,n,x,u,y);h=m.Ba;m.ra&&h&&(f.globalAlpha=m.ra,f.drawImage(h.ob,h.Vb+r,h.Wb+w,u,y,n,x,u,y))}}}}}f.globalAlpha=
1}}var g=new uc;a.P=xa();var e=va(function(){var c=a.P;c.clearRect(0,0,c.canvas.width+1,c.canvas.height+1);for(var b,l=0;b=U.Xa[l];++l){var d=b.s;if(void 0!==d&&0!==b.K&&d.ob.height){var f=b.Za.i+d.offsetX,m=b.Za.l-b.Za.pb+d.offsetY;c.globalAlpha=b.K;c.drawImage(d.ob,d.Vb,d.Wb,d.wa,d.Sa,f,m,d.wa,d.Sa);var p=b.Ba;b.ra&&p&&(c.globalAlpha=b.ra,c.drawImage(p.ob,p.Vb,p.Wb,d.wa,d.Sa,f,m,d.wa,d.Sa))}}a.Sb=k},1);a.Yc=function(){(a.Sb=e)()};a.gb=function(){g.ak();a.Sb=function(c,b,l,d){g.bk(c,b,l,d)}};a.hb=
function(){k(g.x,g.y,g.w,g.Ub);a.Sb=k};a.Sb=k})(kc||(kc={}));var pc=function(){function a(c,b){for(var l=pc.P,d=[],f=2;f<arguments.length;f+=5){l.font=arguments[f];var m=l.measureText(arguments[f+3]).width;d.push(m);c-=m/2}for(f=2;f<arguments.length;f+=5)l.font=arguments[f],l.fillStyle=k[arguments[f+1]],(m=k[arguments[f+2]])?(l.shadowBlur=2*cb,l.shadowColor=m,l.shadowOffsetX=cb,l.shadowOffsetY=cb):(l.shadowBlur=0,l.shadowColor="#000",l.shadowOffsetX=0,l.shadowOffsetY=0),m=d.shift(),l.fillText(arguments[f+3],c+m/2,b+arguments[f+4]),c+=m}var k="#FFF #666 #000 #00F #F00 #AAA".split(" "),
g=0,e=0;return{P:ya("canvas",za,"",{},{position:"absolute",display:"none"}).getContext("2d"),na:function(c,b){void 0!==c&&(g=c);void 0!==b&&(e=b);c=pc.P;b=c.canvas.width;var l=c.canvas.height,d=Math.min(.18*b,.18*l);if(1==hc.a||3==hc.a)d*=.9;c.save();c.setTransform(1,0,0,1,0,0);c.clearRect(0,0,b+1,l+1);tc(c,1,1,b-2,l-2);Pb.jc?(c.fillStyle="#222",c.fill()):(c.globalAlpha=.75,c.fillStyle="#222",c.fill(),c.globalAlpha=1);c.strokeStyle="#111";c.lineWidth=1;c.stroke();var f=e,m=.24*d,p=.02*d,h=pc.P,n=
h.canvas.width,x=h.canvas.height,u=h.createLinearGradient(0,0,f&1?0:n,f&1?x:0);u.addColorStop(0,"rgba(0,127,0,0)");u.addColorStop(.12,"rgba(0,127,0,255)");u.addColorStop(.88,"rgba(0,127,0,255)");u.addColorStop(1,"rgba(0,127,0,0)");h.fillStyle=u;switch(f){case 0:h.fillRect(0,x-m-p,n,m);break;case 1:h.fillRect(n-m-p,0,m,x);break;case 2:h.fillRect(0,p,n,m);break;case 3:h.fillRect(p,0,m,x)}f="normal "+1.2*d+"px cwTeX-Q-Kai-T,icons2,serif";m="normal "+.8*d+"px cwTeX-Q-Kai-T,icons2,serif";p=.15*d;c.textAlign=
"center";c.textBaseline="middle";c.setTransform(1,0,0,1,b/2,l/2);h=[[0,l/2-.7*d],[0,b/2-.7*d],[0,l/2-.7*d],[0,b/2-.7*d]];if(3!=g)if(0==g)for(n=0;4>n;++n)h[n].push(f,(4+n-z.Ea)%4?1:0,-1,z.Tc[n]+" ",0,f,z.connected&1<<n?0:4,2,void 0===z.Na[n]?"-":z.Na[n]/100,0,m,1,-1,"00",p);else if(h[0].push(f,0,2,z.Tc[0]+" ",0,f,0,2,void 0===z.Na[0]?"":z.Na[0]/100,0),h[1].push(f,0,2,void 0===z.Na[1]?"":pa((z.Na[1]-z.Na[0])/100),0),h[2].push(f,0,2,void 0===z.Na[2]?"":pa((z.Na[2]-z.Na[0])/100),0),h[3].push(f,0,2,void 0===
z.Na[3]?"":pa((z.Na[3]-z.Na[0])/100),0),t.bh())for(n=0;4>n;++n)h[n].push(f,0,2," "+z.lg[n],0);else h[0].push(m,1,-1,"00",p);z.O[0]&&a.apply(this,h[0]);c.rotate(270*Math.PI/180);z.O[1]&&a.apply(this,h[1]);c.rotate(270*Math.PI/180);z.O[2]&&a.apply(this,h[2]);c.rotate(270*Math.PI/180);z.O[3]&&a.apply(this,h[3]);3==g?(c.setTransform(1,0,0,1,b/2,l/2),c.fillStyle="#FFF",a(0,0,f,0,2,"天鳳",0)):0==g?(c.setTransform(1,0,0,1,b/2,l/2-.75*d/2),c.fillStyle="#FFF",f="normal "+1.7*d+"px cwTeX-Q-Kai-T,icons2,serif",
m=z.ia[0],a(0,0,f,0,~~(m/4)&1?4:3,"東南西北".substr(~~(m/4),1),0,f,0,m%4==(z.H&t.c?2:3)?4:2,m%4+1,0,f,1,-1,"局",0),n=(b-2.8*d)/2,c.beginPath(),c.moveTo(-n,.75*+d),c.lineTo(+n,.75*+d),f=c.createLinearGradient(-n,0,+n,0),f.addColorStop("0.0","rgba(15,15,15,0)"),f.addColorStop("0.5","rgba(15,15,15,1)"),f.addColorStop("1.0","rgba(15,15,15,0)"),c.strokeStyle=f,c.lineWidth=1,c.stroke(),c.setTransform(1,0,0,1,b/2,l/2+1.7*d/2-.75*d/2+.3*d),f="normal "+.75*d+"px cwTeX-Q-Kai-T,icons2,serif",
m="normal "+.5*d+"px cwTeX-Q-Kai-T,icons2,serif",p=.12*d,b=hc.ug(e),a(0,0,f,0,b<(z.H&t.c?6:8)?4:2,b+" ",0,m,5,-1,"",p,f,0,2,z.ia[1],0,m,5,-1,"",p,f,0,2,z.ia[2],0)):(f="normal bold "+.75*d+"px sans-serif",c.setTransform(1,0,0,1,b/2,l/2),c.fillStyle="#FFF",a(0,0,f,0,2,4==z.a?"天鳳":t.za(z.H,ib),0));c.restore()},Ma:function(){}}}();
(function(){function a(e,c){pc.na(c||1);g&&(e=g,delete pb()[e],g=void 0)}function k(e){a(e,2);g=qb(function(){g=void 0;pc.na(0)},2E3)}var g=void 0;Ga(pc.P.canvas,{touchstart:function(){pc.na(1)},touchend:k,touchcancel:function(){pc.na(0)},mouseover:a,mouseout:k})})();var lc;(lc||(lc={})).oa=!1;Da(lc,function(){function a(d){var f=lc.P;0<b&&0<l&&f.clearRect(e,c,b,l);var m=e=c=b=l=0,p;for(p in k){var h=k[p];if(0>h.t)h.t+=d;else if(h.t<h.Fa){var n=h.s,x=~~(h.qb+(h.vb-h.qb)*h.t/h.Fa),u=~~(h.Gd+(h.wb-h.Gd)*h.t/h.Fa),y=n.wa,r=n.Sa;n.ob.height&&(f.globalAlpha=h.K,f.drawImage(n.ob,n.Vb,n.Wb,y,r,x,u,y,r));h.t+=d;b&&l?(x<e?(b+=e-x,e=x):y+=x-e,b<y&&(b=y),u<c?(l+=c-u,c=u):r+=u-c,l<r&&(l=r)):(e=x,c=u,b=y,l=r)}else h.Qc&&h.Qc.Ca(h.hg),delete k[p];++m}f.globalAlpha=1;m||(wc(O.eg,0,0),g&&g.length&&(g.shift()(),
++m));return m}var k,g,e,c,b,l;return{P:xa(),Da:function(){g=[];k={};e=c=b=l=0;var d=lc.P;d.clearRect(0,0,d.canvas.width+1,d.canvas.height+1)},ec:function(d){lc.oa?d():(pb().ig=a,g.push(d))},xd:function(d,f,m){if(lc.oa)return f.Ca(m),0;pb().ig=a;f=k[ka++]={t:-d,Fa:0,Qc:f,hg:m};return d+f.Fa},Qa:function(d,f,m,p,h,n,x,u,y,r){if(lc.oa)return y&&y.Ca(r),0;pb().ig=a;x=k[ka++]={t:-d,K:u,s:x,qb:f,Gd:m,vb:p,wb:h};0<n?(f=p-f,m=h-m,x.Fa=~~(Math.sqrt(f*f+m*m)/(Q.I[0]*n))):x.Fa=-n;y&&(x.Qc=y,x.hg=r);return d+
x.Fa},ub:function(){for(;a(1E4););}}}());var nc=function(){for(var a=[],k=0;4>k;++k)a[k]=ya("div",za,"nosel tbl ts0 rot"+la(3,270*k%360),{},{fontSize:"80%",pointerEvents:"none",textAlign:"right",display:"none"});var g=[1,2,3,4,5,6,7,8,0,10,11,12,13,14,15,16,17,9,19,20,21,22,23,24,25,26,18,28,29,30,27,32,33,31];return{Da:function(){for(var e=0;4>e;++e)a[e].style.display="none"},ad:function(e){var c=a[e],b=q[16|e].length;if(b){for(var l=b,d=[],f=0;f<q[16|e].length;++f){var m=q[16|e][f];16==m&&(l+=1);d[m]=1}d[0]&&d[1]&&d[2]&&d[3]&&(l+=4);d[16]&&
d[17]&&d[18]&&d[19]&&(l+=4);d[32]&&d[33]&&d[34]&&d[35]&&(l+=4);d[120]&&d[121]&&d[122]&&d[123]&&(l+=4);for(f=5;f<z.ia.length;++f)e=d,m=g[z.ia[f]>>2],t.Lc(z.H)?1==m?m=4:5==m&&(m=8):z.H&t.c&&1==m&&(m=8),m*=4,l+=~~e[m]+~~e[m+1]+~~e[m+2]+~~e[m+3];d="";t.Lc(z.H)&&(d+=l+"<span style='font-size:50%;'>+</span><br>");c.style.display="";c.innerHTML="<div class=tbc style='vertical-align:bottom;padding:0 0.1em;'>"+(d+("<span style='font-size:60%;'>x</span>"+b+"<br></div>"))}else c.style.display="none"},ca:function(){for(var e=
0;4>e;++e){var c=a[e].style;c.width=c.height=~~(Math.min(Q.I[e],Q.J[e])/cb)+"px";var b=-(0==e?Q.I[0]:Q.zc[e]);c.left=~~((U[W.mc+2*e]+-(1==e?Q.J[1]:Q.yc[e]))/cb)+kc.P.canvas.offsetLeft+"px";c.top=~~((U[W.ld+2*e]+b)/cb)+"px"}}}}(),zc=function(){function a(e){return"<span style='pointer-events:none;vertical-align:middle;'>"+e+"</span>"}function k(){for(var e in L)if(!(~e&262144)&&(L[e].parentNode.style.visibility=g[e]?"":"hidden",g[e]&&2===g[e].length)){var c=g[e][0],b=g[e][1];ic.fb(L[e],"",4,.8,c,b);
g[2098693]=g[e]={tag:"N",type:c>>2==b>>2?1:3,hai0:c,hai1:b}}}var g={};return{ek:function(e,c){if(1==z.a||4==z.a){var b=0;g={};e&ba.da.re&&(g[2359814]={tag:"REACH"});e&ba.da.Pb&&(g[2359816]={tag:"N",type:7});e&ba.da.dg&&(g[2359815]={tag:"N",type:9});0<hc.ug(0)&&4>hc.Ac-q[16].length-q[17].length-q[18].length-q[19].length&&(e|=ba.da.ac);var l=[];if(e&ba.da.ac)for(var d,f=(z.H&t.c&&~z.pa[0]&t.Cb.nd?16:17)-1;d=U[2048|f];--f)if(void 0!==d.Kb.Sc){for(var m=0;m<q[32].length&&q[32][m]!=d.Kb.Sc;++m);m<q[32].length&&
l.push({tag:"N",type:5,hai:q[32][m]})}if(e&ba.da.ac){d=q[48];var p=q[80];if(q[64])if(m=c>>2,z.pa[0]&t.Cb.ij){f=m;for(var h=0,n=0;34>n;++n)h+=d[n];2!=h&&5!=h&&8!=h&&11!=h&&14!=h||--d[f];if(108>f&&3==d[f]){var x=aa.vc(d,p);p=!0;n=f;for(var u=0;p&&u<x.length;++u){var y=x[u];++d[y];var r=!1,w=n%9;!r&&0<=w&&6>=w&&0<d[n+1]&&0<d[n+2]&&(--d[n+0],--d[n+1],--d[n+2],r=aa.tc(d),++d[n+0],++d[n+1],++d[n+2]);!r&&1<=w&&7>=w&&0<d[n-1]&&0<d[n+1]&&(--d[n-1],--d[n+0],--d[n+1],r=aa.tc(d),++d[n-1],++d[n+0],++d[n+1]);!r&&
2<=w&&8>=w&&0<d[n-2]&&0<d[n-1]&&(--d[n-2],--d[n-1],--d[n+0],r=aa.tc(d),++d[n-2],++d[n-1],++d[n+0]);r&&(p=!1);--d[y]}}else p=3==d[f];2!=h&&5!=h&&8!=h&&11!=h&&14!=h||++d[f];p&&l.push({tag:"N",type:4,hai:4*m})}else f=""+q[64],4==d[m]&&(d[m]-=4,""+aa.vc(d,p)==f&&l.push({tag:"N",type:4,hai:4*m}),d[m]+=4);else for(m=0;34>m;++m)4>d[m]||l.push({tag:"N",type:4,hai:4*m})}l.length||(e&=~ba.da.ac);l.length&&(g[2098693]=g[401412]=l[0],ic.fb(L[401412],a(I(F.md))+" ",4,.7,l[0].hai),l.shift(),++b);l.length&&(g[2098693]=
g[401416]=l[0],ic.fb(L[401416],a(I(F.md))+" ",4,.7,l[0].hai),l.shift(),++b);l.length&&(g[2098693]=g[401417]=l[0],ic.fb(L[401417],a(I(F.md))+" ",4,.7,l[0].hai),l.shift(),++b);if(e&ba.da.oe)if(t.Lc(z.H)&&!q[64]){d=[];for(f=0;f<q[32].length;++f)if(c=q[32][f],m=c>>2,0==m||4==m||8==m||30==m)d[c]={tag:"N",type:10,hai:c};c=[401414,401415,401418,401419,401417];if(l=d[120]||d[121]||d[122]||d[123])g[2098693]=g[c[0]]=l,ic.fb(L[c[0]],a(I(F.Mc))+" ",4,.7,l.hai),c.shift(),++b;if(l=d[0]||d[1]||d[2]||d[3])g[2098693]=
g[c[0]]=l,ic.fb(L[c[0]],a(I(F.Mc))+" ",4,.7,l.hai),c.shift(),++b;if(l=d[16])g[2098693]=g[c[0]]=l,ic.fb(L[c[0]],a(I(F.Mc))+" ",4,.7,l.hai),c.shift(),++b;if(l=d[17]||d[18]||d[19])g[2098693]=g[c[0]]=l,ic.fb(L[c[0]],a(I(F.Mc))+" ",4,.7,l.hai),c.shift(),++b;if(l=d[32]||d[33]||d[34]||d[35])g[2098693]=g[c[0]]=l,ic.fb(L[c[0]],a(I(F.Mc))+" ",4,.7,l.hai),c.shift(),++b}else d={tag:"N",type:10},q[64]&&(d.hai=c),g[2098693]=g[401414]=d,L[401414].innerHTML=I(F.zf),++b;k();L.sa(512);L[2098693].parentNode.style.visibility=
1==b?"":"hidden";L[3670533].parentNode.style.visibility=1<b?"":"hidden";1==b&&(L[2098693].innerHTML=e&ba.da.oe?I(F.zf):e&ba.da.ac?I(F.yf):"?");e&&Xb(O.Gb,0,0);return e}},ck:function(e,c){if(1==z.a||4==z.a){var b=~~(c/4/9);c=~~(c/4)%9;for(var l={},d=0;d<q[32].length;++d){var f=q[32][d],m=f>>2;if(3>b&&2<=c&&m==9*b+c-2||3>b&&1<=c&&m==9*b+c-1||m==9*b+c||3>b&&7>=c&&m==9*b+c+1||3>b&&6>=c&&m==9*b+c+2)m|=hc.Bd(f)<<8,l[m]?l[m].push(f):l[m]=[f]}d=0;g={2360326:{tag:"N"}};e&ba.da.dc&&(g[2360328]={tag:"N",type:6});
f=l[0|9*b+c]||[];m=l[256|9*b+c]||[];e&ba.da.ac&&3==f.length+m.length&&(ic.fb(L[409604],a(I(F.md))+" ",4,.8,(m.length?m:f)[0]),g[2098693]=g[409604]={tag:"N",type:2},++d);e&ba.da.Nc&&(1==m.length&&2==f.length?(g[409606]=[f[0],f[1]],g[409607]=[m[0],f[0]],d+=2):2<=f.length?(g[409607]=[f[0],f[1]],++d):1==m.length&&1==f.length&&(g[409607]=[m[0],f[0]],++d));if(e&ba.da.Fc)for(var p=0;3>p;++p){var h=(p&1)<<8,n=(p&2)<<7;(f=l[h|9*b+c-2])&&(m=l[n|9*b+c-1])&&(g[p?409614:409610]=[f[0],m[0]],++d);(f=l[h|9*b+c-1])&&
(m=l[n|9*b+c+1])&&(g[p?409613:409609]=[f[0],m[0]],++d);(f=l[h|9*b+c+1])&&(m=l[n|9*b+c+2])&&(g[p?409612:409608]=[f[0],m[0]],++d)}g[409607]&&!g[409606]&&(g[409606]=g[409607],delete g[409607]);g[409614]&&!g[409610]&&(g[409610]=g[409614],delete g[409614]);g[409613]&&!g[409609]&&(g[409609]=g[409613],delete g[409613]);g[409612]&&!g[409608]&&(g[409608]=g[409612],delete g[409612]);k();L.sa(1024);rc.o(0,L[2360326]);L[2098693].parentNode.style.visibility=1==d?"":"hidden";L[3671045].parentNode.style.visibility=
1<d?"":"hidden";1==d&&(L[2098693].innerHTML=e&ba.da.Fc?I(F.Li):e&ba.da.Nc?I(F.Mi):e&ba.da.ac?I(F.yf):"?");e&&Xb(O.Gb,0,0)}},dk:function(e){if(1==z.a||4==z.a)g={2360326:{tag:"N"}},e&ba.da.dc&&(g[2360328]={tag:"N",type:6}),k(),L.sa(1024),rc.o(0,L[2360326]),L[2098693].parentNode.style.visibility=L[3671045].parentNode.style.visibility="hidden",e&&Xb(O.Gb,0,0)},gg:function(e){if(4==z.a)xc(),P.Ag(g[e]);else if(g[e]){var c=rc.xb();xc();if(!c)return;yc.R(g[e])}g={}},pk:function(){if(1==z.a){for(var e=[],
c=0;c<q[32].length;++c)U[1024|c].la&X.Fb&&e.push(q[32][c]);if(!(2>e.length)){var b=[g[409606],g[409610],g[409609],g[409608]];for(c=0;c<b.length&&(!b[c]||!(b[c].hai0>>2==e[0]>>2&&b[c].hai1>>2==e[1]>>2||b[c].hai0>>2==e[1]>>2&&b[c].hai1>>2==e[0]>>2));++c);if(c<b.length)c=rc.xb(),xc(),c&&yc.R({tag:"N",type:e[0]>>2==e[1]>>2?1:3,hai0:e[0],hai1:e[1]});else for(c=0;c<q[32].length;++c)U[1024|c].la&X.Fb&&qc.Ab(c,~X.Fb,0)}}}}}();
function Ac(a){var k=~~a.m,g=k&3;if(k&4){a[2]=3;var e=(k&64512)>>10;var c=e%3;e=~~(e/3);e=4*(9*~~(e/7)+e%7);e=[e+((k&24)>>3),e+4+((k&96)>>5),e+8+((k&384)>>7)];e.splice(0,0,e.splice(c,1)[0])}else k&24?(a[2]=k&16?5:1,a[4]=(k&96)>>5,e=(k&65024)>>9,c=e%3,e=4*~~(e/3),e=[e,e+1,e+2,e+3],a[4]=e.splice(a[4],1)[0],e.splice(g^3,0,e.splice(c,1)[0]),k&16&&(e=[a[4]])):k&32?(a[2]=10,e=[(k&65280)>>8]):0==g?(a[2]=4,e=(k&65280)>>8&-4,e=[e+2,e,e+1,e+3]):(a[2]=2,k=(k&65280)>>8,e=k&-4,e=[e,e+1,e+2,e+3],e.splice(k&3,1),
e.splice(1==g?3:g^3,0,k));a[3]=g;a[0]=e};var L=function(){function a(c,b,l){var d=L[c];l?d.innerHTML="<span class=nobr style='pointer-events:none;"+(L.u[c]?"":"color:#888;")+"'>"+(L.u[c]?"":"")+b+"</span>":(d.innerHTML="<span style='pointer-events:none;"+(L.u[c]?"":"color:#888;")+"'>"+b+"<br>"+(L.u[c]?"":"")+"</span>",d.parentNode.style.fontSize="85%")}function k(c){c&&(L.u[c]=!L.u[c]);var b=D[A.Ha]&1;a(1183749,I(F.Bi),b);a(1183750,I(F.yi),b);a(1183751,I(F.Ai),b);a(1183752,I(F.zi),b);a(1183753,I(F.Ci),b);1183750==
c&&L.u[1183750]&&(q.Xc(0),q.Wc())}function g(c){c&&(L.u[c]=!L.u[c]);a(1277961,I(F.ti));a(1277957,I(F.ui));a(1277960,I(F.wi));a(1212429,I(F.xi));D[A.Dc]=D[A.Dc]&~(A.Zd|A.$d|A.ae|A.Ec)|(L.u[1277961]?0:A.Zd)|(L.u[1277957]?0:A.$d)|(L.u[1277960]?0:A.ae)|(L.u[1212429]?A.Ec:0);1212429==c&&(hc.a=D[A.Dc]&A.Ec?3:~~D[A.eb],0==hc.a&&D[A.Ha]&&(hc.a=1),ec());c&&(3==z.a&&Yb.fc(0),2==z.a&&Zb.Ed())}function e(c){for(var b=1;b<arguments.length;++b)arguments[b].parentNode.style.visibility=c}return{b:ya("div",bc,"nosel",
{},{position:"absolute",display:"none",color:"#FFF",fontFamily:"icons2,sans-serif",fontSize:"140%"}),a:0,u:{},Da:function(){for(var c=[2360326,"&times;",2098693,"",3670533," "+I(F.uf),3671045," "+I(F.uf),1572868,"",3678213,"&times;",3686405,"&times;",1675268,"&times;",2359816,I(F.ri),2360328,I(F.pi),2359814,I(F.oi),401414,"",401415,"",401418,"",401419,"",2359815,I(F.si),401412,"",401416,"",401417,"",409610,"",409609,"",409608,"",409614,"",409613,"",409612,"",409606,"",409607,"",409604,
"",1574918,"",1574917,"",425995,"?",495623,I(F.ni),1183749,"",1183750,"",1183751,"",1183752,"",1183753,"",1277961,"",1277957,"",1277960,"",1212429,"",1802246,I(F.Di)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>",1736714,I(F.Ei)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>",1736718,I(F.Fi)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>",1736716,I(F.mi)+" <span style='font-size:25%;vertical-align:50%;'>▼</span>"],b=0;b<c.length;b+=
2){var l=c[b],d=ya("div",L.b,"tbl",{draggable:"false"},{position:"absolute"});L[l]=ya("div",d,"tbc"+(l&2097152?" bblink":""),{id:"m"+l,innerHTML:c[b+1]},{textAlign:"center",verticalAlign:"middle",pointerEvents:"none"});l&262144&&(d.style.display="none");l&524288&&(L[l].style.borderRadius="0.6em")}c=D[A.Dc];L.u[1277961]=!(c&A.Zd);L.u[1277957]=!(c&A.$d);L.u[1277960]=!(c&A.ae);L.u[1212429]=!!(c&A.Ec);L[1572868].classList.add("cblink")},sa:function(c){L.a=126976==c?L.a&3840:c&126976?c|L.a&3840:c|L.a&
102400;c=L.a&126976?L.a&126976:L.a&3840;256==c&&3==z.a&&(c=2048);for(var b in L)if(1572868!=b){var l=L[b];l!=L.b&&l.tagName&&(l.parentNode!=L.b&&(l=l.parentNode),l.style.display=!c||~b&c?"none":"")}L[1572868].parentNode.style.display=L.a&126976?"none":"";b=D[A.Ha]&1;if(4096==c||b)k(),e(1==z.a&&~z.H&t.h?"":"hidden",L[495623]),e("hidden",L[1183751]);32768==c||65536==c?(e(!Ra&&Pb.Vc?"hidden":"",L[495623]),g()):256==c&&e("hidden",L[2360326]);Bc.lc&&Bc.lc();if(1==z.a&&b){L[1572868].parentNode.style.display=
"none";c=[L[495623],L[1183749],L[1183750],L[1183752],L[1183753]];for(b=0;b<c.length;++b)c[b].parentNode.style.display="";k()}},ca:function(){za.style.left="";var c=~~(U[W.wd]/cb),b=~~(U[W.cb]/cb),l=~~((U[W.wd]-U[W.Be]-Q.I[1])/4/cb),d=~~((U[W.cb]-U[W.pe])/2.5/cb);d=Math.max(d,~~((Q.J[4]+Q.Y[4])/cb));var f=0;3==z.a&&(bc.offsetHeight<bc.offsetWidth&&.5*~~(.5*l)<=bc.offsetWidth-~~(Q.lb/cb)?(f=1,c=~~(Q.lb/cb)+~~(.5*l)):bc.offsetWidth<=bc.offsetHeight&&d<=bc.offsetHeight-~~(Q.Bb/cb)&&(f=2,b=~~(Q.Bb/cb)+
d));var m=D[A.Ha]&1,p;for(p in L){var h=L[p];if(h!=L.b&&h.parentNode){var n=h.style;h.parentNode.parentNode==L.b&&(n=h.parentNode.style);var x=((p&3)>>0)+1,u=(p&12)>>2;m&&2360326==p&&(x=1);n.left=c-l*x+"px";n.top=b-d*u+"px";n.width=l+"px";n.height=d+"px";n.fontSize="";h.style.border="solid 1px "+(p&131072?"#222":"rgba(0,0,0,0.25)");p&131072?(h.classList.remove("ts0"),h.classList.add("bgb")):(h.classList.remove("bgb"),h.classList.add("ts0"))}}if(1==z.a){if(f=[L[1183749],L[1183753],L[1183752],L[1183751],
L[1183750],null,L[495623]],m)for(l=~~(Q.lb/cb/8),d=~~(Q.J[1]/cb),c=(U[W.Ka]+13*Q.I[4])/cb+kc.P.canvas.offsetLeft,b=za.offsetHeight-d,m=0;m<f.length;++m)f[m]&&(n=f[m].parentNode.style,n.left=c-l*(m+1)+"px",n.top=b+"px",n.width=l+"px",n.height=d+"px",n.fontSize="50%",f[m].classList.remove("bgb"),f[m].classList.add("ts0"),f[m].style.borderStyle="none")}else if(3==z.a){if(1==f||2==f)L[1572868].style.borderColor=L[1574918].style.borderColor=L[1574917].style.borderColor=3==z.a?"#444":"rgba(0,0,0,0.25)";
2==f?L[1572868].parentNode.style.top=L[1574918].parentNode.style.top=L[1574917].parentNode.style.top=b-d+"px":1==f?(m=~~(1.5*d),l=~~(.5*l),bc.offsetWidth<c&&(c=~~bc.offsetWidth,l=bc.offsetWidth-~~(Q.lb/cb)),za.style.left="-"+~~(l/2)+"px",n=L[1574918].parentNode.style,n.left=c-l+"px",n.top=b-d-2*m+"px",n.width=l+"px",n.height=m+"px",n=L[1574917].parentNode.style,n.left=c-l+"px",n.top=b-d-m+"px",n.width=l+"px",n.height=m+"px",n=L[1572868].parentNode.style,n.left=c-l+"px",n.top=b-d-0*m+"px",n.width=
l+"px",n.height=d+"px"):(n=L[1574918].parentNode.style,n.left=c-4*l+"px",n.top=b-d-2*d+"px",n.width=l/2+"px",n.height=2*d+"px",n=L[1574917].parentNode.style,n.left=c-.5*l+"px",n.top=b-d-2*d+"px",n.width=l/2+"px",n.height=2*d+"px")}L.b.style.left=za.offsetLeft+"px";L.b.style.top=za.offsetTop+"px"},Ma:function(c,b){switch(c){case 2360326:rc.kg();break;case 409606:case 409607:case 409604:case 409610:case 409609:case 409608:case 409614:case 409613:case 409612:case 401412:case 401416:case 401417:case 401414:case 401415:case 401418:case 401419:case 2359815:case 2360328:case 2359816:case 2359814:case 2098693:zc.gg(c);
break;case 3670533:L.sa(8192);break;case 3671045:L.sa(16384);break;case 1572868:4==z.a?P.We(1):L.sa(3==z.a?32768:2==z.a?65536:4096);break;case 3678213:case 3686405:case 1675268:L.sa(126976);break;case 1574917:Yb.fc(1);break;case 1574918:Yb.fc(-1);break;case 1802246:L.sa(126976);c="";for(b=0;4>b;++b)z.O[b]&&(c+="<div class='A"+(0==b?" _selected_":"")+"' id='#tw-"+b+"'><span class=dan"+~~z.uc[b]+">"+fa.$a[~~z.uc[b]]+"</span>"+(ib||1800<=z.rate[b]?"R"+~~z.rate[b]:"")+"　"+z.O[b]+"</div>");!1===L.u[14]&&
(c+="<div class=A id='#tw-4'>("+I(F.vf)+" ON)</div>");!0===L.u[14]&&(c+="<div class=A id='#tw-4'>("+I(F.vf)+" OFF)</div>");Vb.ka(c,"font-size:75%;text-align:left;",0);break;case 1736718:L.sa(126976);Yb.yg();break;case 1736714:L.sa(126976);Yb.xg();break;case 1183749:case 1183750:case 1183751:case 1183752:case 1183753:k(c);break;case 1277961:case 1277957:case 1277960:case 1212429:g(c);break;case 1736716:if(3!=z.a)break;L.sa(126976);Vb.ka("<div class=A id='#edit-T'>TRANING editor</div><div class=A id='#edit-M'>MJLOG editor</div>",
"",0);break;case 425995:3==z.a&&Vb.o("<div style='text-align:left;font-size:75%;'>"+I(F.dh)+"</div>");break;case 495623:if(Pb.Vc){location.reload();break}case 11:L.sa(126976),-1!=z.Ea&&(Pb.Vc||(delete Pb.log,delete Pb.wg),Yb.ua(),Zb.ua(),z.ua()),L.u[14]=!1,z.a=0,Pb.log?(z.a=3,yc.qa()):Pb.wg?z.a=2:(L.b.style.display="none",z.a=1),ec(),b?P.o({tag:"SPLASH"}):Pb.log?(Yb.$j(Pb.log),L.ca(),qc.ca()):Pb.wg?(yc.Pc(),c=D[A.Hb]||"M",ib?yc.R({tag:"HELO",tsssessionid:D[A.La],sx:c}):yc.R({tag:"HELO",name:D[A.ga]||
"NoName",sx:c})):(yc.Pc(),P.o({tag:495623==c?"AUTOLOGIN":"LOGIN"}))}}}}();var rc=function(){var a,k,g,e,c,b,l,d=0,f=ya("div",null,"nosel tbl ts0",{},{position:"absolute",pointerEvents:"none",fontFamily:"sans-serif",textAlign:"right"});f.innerHTML="<div class=tbc style='vertical-align:bottom;padding:0 0.1em;'></div>";return{jk:function(){var m=(z.H&t.B?7:3)-(z.H&t.c?1:0);0==z.ia[0]&&0==z.ia[1]?(k=z.Qe,g=e=z.Re):m<=z.ia[0]?(k=z.Ue,g=e=z.Ve):(k=z.Se,g=e=z.Te);z.pa[1]&t.Gc.vd&&(k=1E3,g=0)},o:function(m,p,h){f.firstChild.innerHTML="";p||(p=Ja("[name=ok]"));rc.ca(p,h);1==z.a&&
(("BUTTON"==l.tagName?l.parentNode:l instanceof Cc?za:l).appendChild(f),0>m?a=-m+1E3:a=(m||k)+g+1E3,b=a-1E3,c=a-1E3,pb().count=function(n){if(0>c)return rc.qa(),!1;a-=n;if(0<=a&&~~(1+c/1E3)==~~(1+a/1E3))return!0;c=a;0<=a?(0>m?Xb(1E3>a?O.Wa:O.Hf,0,0):3E3>a&&Xb(O.xe,0,0),f.firstChild.innerText=~~(a/1E3)):rc.kg();return!0})},ca:function(m,p){if(!(l&&m&&l instanceof Cc^m instanceof Cc)){m&&(l=m);l instanceof Cc&&~l.la&X.ya&&(l=void 0);if(!l)for(m=13;(l=U[1024|m])&&(!l.K||(U[1024|m].la&(X.ya|X.Ia))!=(X.ya|
X.Ia));--m);if(!l)for(m=13;(l=U[1024|m])&&!(l.K&&U[1024|m].la&X.ya);--m);l&&(m=f.style,m.fontSize=Pa.style.fontSize,l instanceof Cc?Da(m,{left:~~((p?l.i:l.X)/cb)+kc.P.canvas.offsetLeft+"px",top:~~((p?l.l:l.$)/cb)+"px",width:~~(Q.I[4]/cb)+"px",height:~~((Q.J[4]+Q.Y[4])/cb)+"px"}):Da(m,{left:l.offsetLeft+"px",top:l.offsetTop+"px",width:(l.offsetWidth||parseInt(l.parentNode.style.width))+"px",height:(l.offsetHeight||parseInt(l.parentNode.style.height))+"px"}))}},kg:function(){if(l instanceof Cc)z.zg(l.ma);
else if(l&&l.name){if(!l.disabled)P[l.name]()}else zc.gg(2360326)},vg:function(){g<e&&(g+=1E3);if(z.pa[1]&t.Gc.vd&&f.parentNode&&l instanceof Cc){var m=Pa.getBoundingClientRect(),p=f.getBoundingClientRect(),h=ya("div",Pa,"nosel ts0",{innerText:"+1"},{position:"absolute",fontSize:Pa.style.fontSize,pointerEvents:"none"});Da(h.style,{left:p.left-m.left+"px",top:p.top-m.top+"px",width:p.width+"px",height:p.height+"px",textAlign:"center",opacity:1,transform:"translate(0,20%)"});setTimeout(function(){Da(h.style,
{transition:"all 250ms ease-in-out 500ms",opacity:0,transform:"translate(-25%,20%)"});sb(h,function(n){n.parentNode&&n.parentNode.removeChild(n)})},1)}},ik:function(){return l},xb:function(){return!!f.parentNode},qa:function(){f.parentNode&&(0>a?++d:d=0,0<z.qg&&z.qg<=d&&location.reload(),a<g&&(g=1E3*~~(0>a?0:a/1E3)),b<a&&rc.vg(),f.parentNode.removeChild(f));l=void 0;c=-1;delete pb().count}}}();for(var qc={b:ya("div",za,"",{},{position:"absolute"}),ca:function(){var a=qc.b.style,k=Q.I[4]/cb,g=~~Math.min(~~(2*k),(bc.offsetHeight-Q.Bb/cb)/2);3==z.a&&(g=0);if(Ob||g<k||D[A.Ha]&1)qc.b.style.display="none";else switch(a.top=za.offsetTop+(U[W.cb]+Q.J[4]+Q.Y[4])/cb+"px",a.display="",~~D[A.be]){case 1:var e=Math.min(2.25*g,bc.offsetHeight-za.offsetHeight);a.width=za.offsetWidth+"px";a.height=e+"px";a.background="linear-gradient(to bottom, rgba(0,0,0,1.0) 0%,rgba(0,0,0,1.0) 50%,rgba(24,24,24,1.0) 100%)";
a.borderTop=a.borderBottom="solid 1px #222";for(var c=0;13>=c;++c)qc[c].style.display="none";for(c=20;28>=c;++c)a=qc[c].style,a.top="0px",a.width=3*k+"px",a.height=e-g+"px",a.display="";qc.Ke(0);qc[30].style.display=qc[31].style.display="none";a=qc[30].style;a.width="50%";a.height=g+"px";a.display="";a.marginTop=e-g+"px";a=qc[31].style;a.width="50%";a.height=g+"px";a.display="";a.marginTop=e-g+"px";break;default:case 2:e=2*k;a.width=7.5*e+1+"px";a.height=2*g+1+"px";a.background="";a.borderTop=a.borderBottom=
"none";var b=q[32];b=b&&b.length?3*~~(b.length/3)+1:13;for(c=20;28>=c;++c)qc[c].style.display="none";for(c=0;13>=c;++c)a=qc[c].style,a.width=e+1+"px",a.height=g+1+"px",a.top=g*(c&1)+"px",a.left=U[W.Ka]/cb+k*c+"px",a.display=c<b?"":"none";qc[30].style.display=qc[31].style.display="none"}},Ab:function(a,k,g){var e=U[1024|a];if(e&&(e.Ga(k,g,!0),(g=!!(e.la&(X.ya|X.Fb))&&e.K)&&e.la&X.Pa&&rc.ca(e),!(e.la&X.Db))){if(!qc[20].style.display){var c=Q.I[4]/cb;e.la&(X.Pa|X.Ia)&&qc.Oe(U[W.Ka]/cb+c*(a+.5))}c="";
e.la&X.Pa?c=g?"#060":"#600":e.la&X.Ia&&(c=g?"#030":"#300");!c&&k&(X.Ia|X.Pa)||(qc[0+a].style.backgroundColor=qc[24].style.backgroundColor=c)}},Oe:function(a){var k=Q.I[4]/cb;a<U[W.Ka]/cb+0*k&&(a+=3*k);U[W.Ka]/cb+14*k<a&&(a-=3*k);a=(~~((a-U[W.Ka]/cb)/k)+.5)*k+U[W.Ka]/cb;for(var g=20;28>=g;++g)qc[g].style.left=~~(a+3*k*(g-24-.5))+"px";return a},Ke:function(a){qc.Oe(~~(qc[24].offsetLeft+qc[24].offsetWidth/2+Q.I[4]/cb*a))}},Dc=0;13>=Dc;++Dc)qc[Dc]=ya("div",qc.b,"",{},{position:"absolute",border:"solid 1px #333",
background:"linear-gradient(135deg, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 50%,rgba(255,255,255,0.15) 100%)"}),ya("div",qc[Dc],"",{},{width:"50%",height:Dc&1?"25%":"20%",backgroundColor:Dc&1?"#333":"#555",pointerEvents:"none"});qc[13].parentNode.removeChild(qc[13]);
for(Dc=20;28>=Dc;++Dc)qc[Dc]=ya("div",qc.b,"",{},{position:"absolute",borderLeftStyle:"none",borderLeft:"solid 1px #333",background:"linear-gradient(135deg, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 50%,rgba(255,255,255,0.10) 100%)"}),ya("div",qc[Dc],"",{},{position:"absolute",marginLeft:"50%",width:"1px",height:"50%",pointerEvents:"none",background:"linear-gradient(to bottom, rgba(195,0,0,1.0) 0%,rgba(255,0,0,1.0) 10%,rgba(0,0,0,0) 100%)"});qc[28].style.borderRight="solid 1px #333";
qc[30]=ya("button",qc.b,"gray",{innerHTML:"&#12296;",name:"CP_L"},{background:"none"});qc[31]=ya("button",qc.b,"gray",{innerHTML:"&#12297;",name:"CP_R"},{background:"none"});qc[30].style.borderRight="none";var O,Ec=O||(O={});Ec.eg=-1;Ec.Wa=0;Ec.pd=1;Ec.um=2;Ec.Hf=3;Ec.Nb=4;Ec.Jf=5;Ec.If=6;Ec.xe=7;Ec.Gb=8;Ec.qd=9;Ec.ue=10;Ec.Uf=11;Ec.ve=24;Ec.Nf=25;Ec.Mf=26;Ec.Lf=27;Ec.Kf=28;Ec.Gf=29;Ec.Ff=30;Ec.Pf=31;Ec.Of=32;Ec.Rf=33;Ec.Qf=34;Ec.Tf=35;Ec.Sf=36;Ec.Oc=37;Ec.cc=38;Ec.we=39;Ec.Ck=1010;Ec.Nd=1011;Ec.Md=1012;Ec.Bk=1013;Ec.Cc=1014;Ec.Bc=1015;Ec.Ak=1016;Ec.Ld=1017;Ec.Kd=1018;Ec.Dk=1019;Ec.Pd=1020;Ec.Od=1021;Ec.Ek=1022;Ec.Rd=1023;Ec.Qd=1024;Ec.Fk=1025;Ec.Td=1026;Ec.Sd=1027;Ec.bd=1028;Ec.cd=1029;
function Xb(){}function Fc(){}function Gc(){}var wc=function(){var a={};return function(k,g,e){if(k==O.eg)a={};else{for(var c in a)if(a[c]==k&&e-5<~~c&&~~c<e+10)return;a[e]=k;Xb(k,g,e)}}}();var Hc,Ic=Hc||(Hc={});Ic.qe=1;Ic.za=2;Ic.qc=4;Ic.oc=Ic.za|Ic.qc;var mc;
(function(a){var k={M:[O.Wa,O.Nd,O.Cc,O.Ld,O.Cc,O.Cc,O.Rd,O.Td,O.Pd,O.Wa,O.qd,O.Wa],F:[O.Wa,O.Md,O.Bc,O.Kd,O.Bc,O.Bc,O.Qd,O.Sd,O.Od,O.Wa,O.qd,O.Wa]};k[""]=k.C=k.M;var g={};a.yb={};a.b=ya("div",bc,"",{},{position:"absolute",pointerEvents:"none",top:"0px"});a.Qa=function(e,c,b){if(!lc.oa){var l=I(F.Wj)[c];if(l){var d=10*-e,f=ya("span",a.b,"tsv nosel",{innerHTML:l},{position:"absolute",fontWeight:"bold",color:"#FFF",opacity:"0",whiteSpace:"nowrap"}),m=za.offsetWidth/40,p=~~(a.yb[W.bg+2*e]/cb)+za.offsetLeft+
kc.P.canvas.offsetLeft,h=~~(a.yb[W.cg+2*e]/cb)+za.offsetTop,n=f.style,x=ka++;b&Hc.qe&&(g[x]=!0);~b&Hc.za&&(n.display="none");pb()[x]=function(u){if(!f.parentNode)return!1;if(0>d)return d+=u,0<d&&(d=0),!0;0==d&&b&Hc.qc&&(Xb(k[z.qb[e]][c],e,0),++d);d+=u;if(250>d)return n.opacity=""+d/250,n.fontSize=m*(4+(250-d)/250*4)+"px",n.left=p-f.offsetWidth/2+"px",n.top=h-f.offsetHeight/2+"px",!0;if(750>d){if("1"==n.opacity)return!0;n.opacity="1";n.fontSize=4*m+"px";n.left=p-f.offsetWidth/2+"px";n.top=h-f.offsetHeight/
2+"px";return!0}return g[x]?(d-=u,!0):1250>d?(n.opacity=""+(1250-d)/500,!0):(f.parentNode.removeChild(f),!1)}}}};a.ua=function(){for(;a.b.firstChild;)a.b.removeChild(a.b.firstChild)};a.Ee=function(){g={}}})(mc||(mc={}));Oa.AudioContext=Oa.AudioContext||Oa.webkitAudioContext;
function Jc(){function a(r){function w(){Ma.removeEventListener("touchend",r,!1);Ma.removeEventListener("mousedown",r,!1);r&&(r(),r=void 0)}Fa(Ma,"touchend",w);Fa(Ma,"mousedown",w)}if(AudioContext){var k={},g=new AudioContext,e,c,b=function(r,w,B){w=g.createBufferSource();w.buffer=k[r].jg;w.connect(e);w.start?w.start(g.currentTime+B/1E3):w.noteOn(g.currentTime+B/1E3);return w},l=function(){Xb=function(r,w,B){if("0"!=D[A.tb]&&!lc.oa&&r!=O.Wa&&e){if(k[r])return b(r,w,B);switch(r){case O.Nd:Xb(O.Nf,
w,B);Xb(O.cc,w,B);break;case O.Md:Xb(O.Mf,w,B);Xb(O.cc,w,B);break;case O.Cc:Xb(O.Lf,w,B);Xb(O.cc,w,B);break;case O.Bc:Xb(O.Kf,w,B);Xb(O.cc,w,B);break;case O.Ld:Xb(O.Gf,w,B);Xb(O.cc,w,B);break;case O.Kd:Xb(O.Ff,w,B);Xb(O.cc,w,B);break;case O.Pd:Xb(O.Pf,w,B);Xb(O.we,w,B);break;case O.Od:Xb(O.Of,w,B);Xb(O.we,w,B);break;case O.Rd:Xb(O.Rf,w,B);Xb(O.Oc,w,B);break;case O.Qd:Xb(O.Qf,w,B);Xb(O.Oc,w,B);break;case O.Td:Xb(O.Tf,w,B);Xb(O.Oc,w,B);break;case O.Sd:Xb(O.Sf,w,B),Xb(O.Oc,w,B)}}}},d=0,f=function(r,
w,B){++d;var J=new XMLHttpRequest;J.open("GET",r,!0);J.responseType="arraybuffer";J.onload=function(){200==this.status&&g.decodeAudioData(this.response,function(Y){for(var T in w)k[w[T]].jg=Y;--d||l();B&&B(Y)})};J.send()};Sa&&ya("audio",Pa,"",{},{position:"absolute",display:"none"});Fc=function(){e.gain.value=~~(D[A.tb]||5)/10};a(function(){var r=~~(D[A.tb]||5)/10;e=g.createGain?g.createGain():g.createGainNode();e.connect(g.destination);e.gain.value=r;c=g.createGain?g.createGain():g.createGainNode();
c.connect(g.destination);c.gain.value=0;e.gain.value=.001;b(O.Nb,0,0);setTimeout(function(){e.gain.value=r},1E3)});var m=function(){var r={},w;for(w in k)(r[k[w].url]=r[k[w].url]||[]).push(w);for(var B in r)f(B,r[B])};Gc=function(){var r=[O.pd,O.Hf,O.Nb,O.Jf,O.If,O.xe,O.Gb,O.qd,O.ue,O.Uf,O.Nf,O.Lf,O.Gf,O.Pf,O.Rf,O.Tf,O.Mf,O.Kf,O.Ff,O.Of,O.Qf,O.Sf,O.Oc,O.cc,O.we,O.ve,O.bd,O.cd],w;for(w in r)k[r[w]]={jg:void 0,url:"https://cdn.tenhou.net/3/res/snd/"+la(2,r[w])+".wav"};k[O.bd].url=k[O.cd].url=k[O.pd].url;
var B=D[A.pc];Sb(B)?mb(B,function(J){if(J)console.log("err",J);else{J=this.response;try{B=JSON.parse(J)}catch(T){alert(T)}for(var Y in B.se)k[Y]&&(k[Y].url=B.se[Y].url)}m()}):m()};Gc()}else{var p={};p[O.pd]=p[O.Gb]=p[O.qd]=p[O.ue]=p[O.Nd]=p[O.Md]=p[O.Cc]=p[O.Bc]=p[O.Ld]=p[O.Kd]=p[O.Pd]=p[O.Od]=p[O.Rd]=p[O.Qd]=p[O.Td]=p[O.Sd]=p[O.ve]=1;for(var h=5,n=function(){this.currentTime&&(this.removeEventListener("timeupdate",n,!1),this.pause(),Fa(this,"timeupdate",function(){this.endTime<this.currentTime&&
(this.pause(),this.Ne=O.Wa)}),--h||(Xb=function(r,w,B){if(r==O.bd||r==O.cd)r=O.pd;"0"==D[A.tb]||lc.oa||r==O.Wa||setTimeout(function(){for(var J=0;5>J&&(h=(h+1)%5,!u[h].paused&&p[u[h].Ne]&&!p[r]);++J);5!=J&&(J=u[h],J.paused||J.pause(),J.currentTime=2*r,J.endTime=2*r+(1==r?3:1),J.Ne=r,J.play())},B)}))},x=~~(D[A.tb]||5)/10,u=[],y=0;5>y;++y)u[y]=ya("audio",Pa,"",{src:"https://cdn.tenhou.net/3/res/snd/se.m4a"},{position:"absolute",display:"none"}),u[y].endTime=0,u[y].Ne=O.Wa,u[y].volume=x,Fa(u[y],"timeupdate",
n);Fc=function(){for(var r=~~(D[A.tb]||5)/10,w=0;w<u.length;++w)u[w].volume=r};a(function(){for(var r=0;r<u.length;++r)u[r].play()});Gc=function(){D[A.pc]&&Vb.o(I(F.lj))}}}Jc();Ra&&Sa&&Fa(Ma,"resume",Jc);if(Oa.gr&&Oa.gr.eworx&&Oa.gr.eworx.AVAudioSessionAdapter){var Kc=Oa.gr.eworx.AVAudioSessionAdapter;(new Kc).setCategoryWithOptions(Kc.Categories.PLAYBACK,Kc.CategoryOptions.MIX_WITH_OTHERS,function(){},function(){})};var Lc=ib?{iH:24,iS:10,iV:6,hR:0,hG:0,hB:0}:{iH:0,iS:10,iV:7,hR:0,hG:0,hB:0},Mc=function(){function a(){this.ob=new Image;this.offsetY=this.offsetX=this.Sa=this.wa=this.Wb=this.Vb=0}a.prototype.Je=function(k,g,e,c,b,l,d){this.ob=k;this.Vb=g;this.Wb=e;this.wa=c;this.Sa=b;this.offsetX=l;this.offsetY=d;return this};return a}(),Nc={},Oc=function(){function a(){this.ob=new Image;this.offsetY=this.offsetX=this.Sa=this.wa=this.Wb=this.Vb=0;this.Ie=-1}a.prototype.Je=function(k,g,e,c,b,l){this.ob=k;this.Vb=
g;this.Wb=e;this.wa=c;this.Sa=b;this.offsetY=this.offsetX=0;this.Ie=l;return this};return a}();Cb("");var Z={};function Pc(a,k){var g=[a];for(k=k||{};g.length;){a=g[g.length-1];g.pop();for(var e=0;e<a.childNodes.length;++e)g.push(a.childNodes[e]);a.id?k[a.id]=a:a.name&&(k[a.name]=a)}Z=k}
var Qc={SPLASH:{xa:["c18","c15"],va:"#000"},AUTOLOGIN:{xa:["c19","c16"],va:"#000"},LOGIN:{xa:["c19","c16"],va:"#000"},LOBBY:{xa:["c20","c15"],va:"#000"},STORE:{xa:["c21","c15"],va:"#000"},CONFIG:{xa:["c22","c15"],va:"#000"},TAIKYOKU:{xa:["c23","c15"],va:"#000"},SAIKAI:{xa:["c23","c15"],va:"#000"},KANSEN:{xa:["c23","c15"],va:"#000"},AGARI:{xa:["c24","c15"],va:"#000"},RYUUKYOKU:{xa:["c25","c15"],va:"#000"},OWARI:{xa:["c26","c15"],va:"#000"},TRAINING:{xa:["c27","c15"],va:"#000"},NINTEI:{xa:["c28","c15"],
va:"#000"}},P={};var X,Rc=X||(X={});Rc.NONE=0;Rc.Eb=1;Rc.Ia=2;Rc.Pa=4;Rc.Db=8;Rc.ya=16;Rc.Fb=32;Rc.Aa=256;Rc.dd=512;Rc.mb=1024;Rc.Pb=2048;Rc.eb=4096;Rc.Ce=8192;function Cc(a){this.K=0;this.L=-1;this.$=this.X=this.pb=this.l=this.i=0;this.ra=1;this.Za=this;this.ha={Za:this,K:0};this.L=a}var W,Sc=W||(W={});Sc.Xd=16;Sc.Yd=17;Sc.Wd=18;Sc.Vd=19;Sc.Cf=32;Sc.pe=33;Sc.Bf=34;Sc.Af=35;Sc.Ef=48;Sc.Si=49;Sc.Ri=50;Sc.Qi=51;Sc.Vi=52;Sc.Wi=53;Sc.Ui=54;Sc.Ti=55;Sc.Zi=56;Sc.$i=57;Sc.Yi=58;Sc.Xi=59;Sc.cj=60;Sc.dj=61;Sc.bj=62;
Sc.aj=63;Sc.bg=64;Sc.cg=65;Sc.Qj=66;Sc.Rj=67;Sc.Sj=68;Sc.Tj=69;Sc.Uj=70;Sc.Vj=71;Sc.Ka=80;Sc.cb=81;Sc.wd=82;Sc.Mj=83;Sc.Nj=84;Sc.Zf=85;Sc.Be=86;Sc.$f=87;Sc.mc=96;Sc.ld=97;Sc.Hi=98;Sc.xf=99;Sc.nc=100;Sc.Ii=101;Sc.Ji=102;Sc.Ki=103;Sc.je=112;Sc.kf=113;Sc.lh=114;Sc.mh=115;Sc.nh=116;Sc.oh=117;Sc.ph=118;Sc.qh=119;var U={Xa:[]};var hc;(hc||(hc={})).a=0;var z,Tc=z||(z={});Tc.a=0;Tc.H=0;Tc.ic=0;Tc.pa=[0,0,0,0];Tc.qb=["","","",""];Tc.uc=[0,0,0,0];Tc.rate=[1500,1500,1500,1500];var Yb=function(){function a(m){if(m){var p=/<([a-zA-Z0-9]+)[^>]*>|[^<]+|<\/(.*)>/g,h=p.exec(m);if(h){var n={};n.tag=h[1];for(var x=/ ([a-zA-Z0-9]+)="([^"]*)"/g,u;u=x.exec(h[0]);)n[u[1]]=u[2];for(;(h=p.exec(m))&&!h[2];)n.childNodes||(n.childNodes=[]),n.childNodes.push(h[1]?a(h[0]):~~h[0]);return n}}}function k(m){for(var p=-1,h=l;0<=--h;){switch(c[h].tag){case "INIT":return h+1;case "N":m=c[h][2];if(2==m||4==m||5==m)p=-1;break;case "D":case "E":case "F":case "G":if(-1!=p)return p;break;case "T":case "U":case "V":case "W":m||
(p=h)}m=!1}return-1}function g(m,p){p&&(c=a(p).childNodes);if(!p||!c)return Vb.o(I(2003),1,function(){Pb.Vc?location.reload():delete Pb.log});var h=!1;for(p=0;40>p;++p){var n=D[A.hd+p];try{n=JSON.parse(n)}catch(B){continue}if(n.log==m){h=!0;break}}h||(L.u[14]=void 0);for(p=0;p<c.length;++p){switch(c[p].tag){case "SHUFFLE":var x=hc.gk(c[p].seed);break;case "GO":yc.Ra(c[p])}if("UN"==c[p].tag)break}for(b=[];p<c.length;++p){n=c[p];h=[0,0,0,0];var u=p;switch(n.tag){case "INIT":b.push(p);break;case "RYUUKYOKU":if("ron3"==
n.type)for(m=0;4>m;++m)n["hai"+m]&&(h[m]=6);break;case "AGARI":for(;n=c[p],h[~~n.who]=n.who==n.fromWho?7:6,n.paoWho&&(h[~~n.paoWho]=11),p+1<c.length&&"AGARI"==c[p+1].tag;++p);break;case "N":Ac(n);h[~~n.who]=n[2];break;default:Yb.Zc(n)}if(h[0]||h[1]||h[2]||h[3])c.splice(u,0,{tag:"VOICE",type:h}),++p}if(x)for(p=0;p<b.length;++p){n=c[b[p]];m=qa(n.seed);m=6==m[3]&&0==m[4];var y;x&&(y=n[5]=x(~~n.oya,m));if(y)if(m){if(z.H&t.c)for(var r=0;6>r;++r)y[r]|=1280;for(m=0;m<(z.H&t.c?3:4);++m){for(r=0;4>r;++r)y[34*
m+r]|=1280;for(;34>r;++r)y[34*m+r]|=m+1<<8}h=0;for(r=b[p]+1;r<c.length&&"INIT"!=c[r].tag;++r)n=c[r],"N"!=n.tag||4!=n[2]&&2!=n[2]&&5!=n[2]&&10!=n[2]||(m=~~n.who,y[h/4*34+h%4^1]|=m+1<<8,++h)}else{var w=!1;u=13*(z.H&t.c?3:4);h=0;m=-1;for(r=b[p]+1;r<c.length&&"INIT"!=c[r].tag;++r)switch(n=c[r],n.tag){case "N":w=4==n[2]||2==n[2]||5==n[2]||10==n[2];break;case "T":case "U":case "V":case "W":m=n.tag.charCodeAt(0)-84,y[w?h++^1:y.length-1-u++]|=m+1<<8,w=!1}for(n=z.H&t.c?3:4;u<y.length-14-h;++u)m=(m+1)%n,y[y.length-
1-u]|=m+1<<8;for(;u<y.length;++u)y[y.length-1-u]|=1280}}for(p=0;p<c.length;++p)Zb.Dd(Pb.tw,c[p]);for(p=0;"INIT"!=c[p].tag;++p)switch(c[p].tag){case "BYE":case "SHUFFLE":case "GO":break;case "UN":case "TAIKYOKU":yc.Ra(c[p]);break;default:throw console.log(p,c[p]);}l=b[~~Pb.ts];delete Pb.ts}function e(m){var p=m.split("-");if(4!=p.length)return m;if(120==p[3].charCodeAt(0)){m=parseInt(p[3].substr(1,4),16);var h=parseInt(p[3].substr(5,4),16),n=parseInt(p[3].substr(9,4),16),x=0;"2010041111gm"<=p[0]&&
(x=~~("3"+p[0].substr(4,6))%(34-~~p[0].substr(9,1)-1));p[3]=la(4,(m^h^f[x]).toString(16))+la(4,(h^f[x]^n^f[x+1]).toString(16))}return p.join("-")}var c,b,l,d={D:!0,E:!0,F:!0,G:!0,T:!0,U:!0,V:!0,W:!0,N:!0,RYUUKYOKU:!0,VOICE:!0},f=[22136,52719,55146,42104,59591,46934,9248,28891,49597,52974,62844,4015,18311,50730,43056,17939,64838,38145,27008,39128,35652,63407,65535,23473,35164,55230,27536,4386,64920,29075,42617,17294,18868,2081];return{Zc:function(m){var p=m.tag;if(1<p.length){var h=m.tag.charCodeAt(1);
48<=h&&57>=h&&(m[0]=~~p.substr(1),m.tag=p.substr(0,1))}return m},$j:function(m){m=e(m);mb("https://tenhou.net/0/log/?"+m,function(p){g(m,p?void 0:this.response)})},fc:function(m){if(c){if(0==arguments.length){for(var p=l;0<=p&&"INIT"!=c[p].tag;--p);if(0<=p)return Yb.mg(c,p,l-p)}else if(0>=m){var h=k(0>m);if(-1==h)return;if(0>m&&l==h+1)for(h=h-1==b[0]?c.length-1:h-2;"AGARI"==c[h-1].tag;--h);var n=[];for(p=0;p<b.length&&!(h<b[p]);++p);var x=b[p-1];for(p=x;p<h;++p)n.push(c[p]);yc.Ra(Yb.mg(c,x,h-x));
l=h;1==h-x&&Uc.set()}else if((p=Ja("[name=ok]"))&&!p.disabled){P.ok();return}if(!(c.length<=l))for(lc.ub(),p=!1;!p&&l<c.length;++l){switch(c[l].tag){case "REACH":2!=c[l].step&&(p=!0);break;case "AGARI":l+1<c.length&&"AGARI"!=c[l+1].tag&&(p=!0);break;default:d[c[l].tag]&&(p=!0)}yc.Ra(c[l])}}},ua:function(){l=0;c=void 0},yg:function(m,p){if(c&&c.length)if(m)l=~~p+1,Yb.fc(0);else{m=-1;for(p=l;0<=p&&(-1==m&&"T"==c[p].tag&&(m=p),"INIT"!=c[p].tag);--p);if(!(0>p)){var h="",n=0;for(++p;p<c.length;++p){var x=
c[p];if("INIT"==x.tag)break;"T"==x.tag&&(h+="<div class='A"+(p==m?" _selected_":"")+"' id='#tj-"+p+"'>"+ ++n+"巡目</div>")}Vb.ka(h,"",0)}}},xg:function(m,p){if(c&&c.length)if(m)l=~~p+1,Yb.fc(0);else{m=0;for(p=l;0<=p;--p)if("INIT"==c[p].tag){m=p;break}var h="",n=-1,x="";for(p=0;p<c.length;++p){var u=c[p];switch(u.tag){case "INIT":n=qa(u.seed);x=n[0];x="東南西北".substr(~~(x/4),1)+(x%4+1)+K("局")+n[1]+K("本場");n=p;break;case "RYUUKYOKU":var y=fa.Vf[u.type];h+="<div class='A"+
(n==m?" _selected_":"")+"' id='#ts-"+n+"'>"+x+"<br>流局"+(y?" "+y:"")+"</div>";break;case "AGARI":y=~~u.who;var r=~~u.fromWho;u=qa(u.ten);h+="<div class='A"+(n==m?" _selected_":"")+"' id='#ts-"+n+"'>"+x+"<br>"+K(y==r?"ツモ:":"ロン:")+z.O[y]+" "+u[1]+(y!=r?"<br>"+K("放銃:")+z.O[r]:"")+"</div>"}}Vb.ka(h,"font-size:70%;text-align:left;",0)}},Ed:function(m,p){m=~~p;if(4==m)L.u[14]=!L.u[14];else if(4>m){for(p=0;p<c.length;++p)Zb.Dd(m,c[p]);Pb.tw=(Pb.tw+m)%4}for(p=0;p<c.length;++p)if("UN"==
c[p].tag){yc.Ra(c[p]);jc.na();Yb.fc(0);break}},mg:function(m,p,h){var n=m[p];if("INIT"!=n.tag)return null;for(var x=[],u=qa(n.hai0);u.length;)x[u.pop()]=1;for(u=qa(n.hai1);u.length;)x[u.pop()]=2;for(u=qa(n.hai2);u.length;)x[u.pop()]=3;for(u=qa(n.hai3);u.length;)x[u.pop()]=4;var y=qa(n.seed),r=qa(n.ten);u=qa(n.chip);for(var w=~~n.oya,B=n[5],J=[[],[],[],[]],Y=[[],[],[],[]],T=-1;p<m.length&&h;++p,--h)switch(n=m[p],n.tag){case "D":case "E":case "F":case "G":var S=n.tag.charCodeAt(0)-68,ma=n[0]==T;T=n[0];
x[T]=0;ma&&Y[S].push(254);Y[S].push(T);break;case "T":case "U":case "V":case "W":S=n.tag.charCodeAt(0)-84;T=n[0];x[T]=S+1;break;case "N":T=-1;S=~~n.who;ma=~~n.m;for(var Ba=n[3],jb=n[0],Qa=0;Qa<jb.length;++Qa)x[jb[Qa]]=0;5!=n[2]&&4!=n[2]&&10!=n[2]&&(Ba=Y[(S+Ba)%4],Ba.pop(),254==Ba[Ba.length-1]&&Ba.pop());if(5==n[2]){for(Qa=0;Qa<J[S].length&&J[S][Qa]!=(ma^24);++Qa);if(Qa==J[S].length)throw console.log("Log2ReiniXML INVALID KAKAN");J[S][Qa]=ma}else J[S].unshift(ma);break;case "REACH":S=~~n.who;ma=~~n.step;
2==ma?(n=qa(n.ten),n.length?r=n:r[S]-=10):(1==ma?Y[S].push(255):(Y[S].push(255),r[S]-=10),++y[2]);break;case "DORA":y.push(~~n.hai)}n=m[p];"AGARI"==n.tag&&n.who==n.fromWho&&(x[~~n.machi]=0);m={tag:"REINIT",seed:""+y,ten:""+r,oya:w,hai0:[],hai1:[],hai2:[],hai3:[]};for(p=0;136>p;++p)x[p]&&m["hai"+(x[p]-1&3)].push(p);B&&(m[5]=B);u.length&&(m.chip=u);for(S=0;4>S;++S)J[S].length&&(m["m"+S]=J[S]);for(S=0;4>S;++S)Y[S].length&&(m["kawa"+S]=Y[S]);return m}}}();var ic=function(){function a(h,n,x){for(var u=3;u<arguments.length;++u){var y=arguments[u],r=y>>8&7;ic[y]=(ic[y]||new Oc).Je(h,n%10*Q.I[r],(Q.J[r]+Q.Y[r])*~~(n/10),Q.I[r],Q.J[r]+Q.Y[r],x);if(5==r||7==r)ic[y].offsetY+=Q.J[r%4]+Q.Y[r%4]-(Q.J[r]+Q.Y[r]);5==r&&(ic[y].offsetX+=Q.I[r%4]-Q.I[r])}}function k(h,n,x,u,y){for(var r=5;r<arguments.length;++r){var w=arguments[r],B=w>>8&7;Nc[w]=(Nc[w]||new Mc).Je(h,n,x,u,y,Q.qb[B],Q.J[B]+Q.Y[B]-y);if(5==B||7==B)Nc[w].offsetY+=Q.J[B%4]+Q.Y[B%4]-(Q.J[B]+Q.Y[B]);5==
B&&(Nc[w].offsetX+=Q.I[B%4]-Q.I[B])}}function g(h,n,x,u,y){var r=ic[12288|h],w=ic[4096|n],B=ic[4096|y];n=B.width;var J=B.height,Y=r.getContext("2d");if(m[h]){var T=ic[4096|h];Y.clearRect(0,0,r.width,r.height);Y.drawImage(T,0,0);delete m[h]}r=Y.getImageData(n*x,J*u,n,J);T=Ma.createElement("CANVAS").getContext("2d");T.canvas.width=n;T.canvas.height=J;T.clearRect(0,0,n+1,J+1);T.drawImage(w,n*x,J*u,n,J,0,0,n,J);w=T.getImageData(0,0,n,J);T.clearRect(0,0,n+1,J+1);T.drawImage(B,0,0);T=T.getImageData(0,0,
n,J);var S=J*n*4;for(B=0;B<S;B+=4)T.data[B]!=w.data[B]&&(r.data[B]+=(T.data[B]-w.data[B])*l,r.data[B+1]+=(T.data[B+1]-w.data[B+1])*d,r.data[B+2]+=(T.data[B+2]-w.data[B+2])*f);if(95==y%100)for(h=~~(h/100),B=0;38>B;++B)30!=B&&Y.putImageData(r,B%10*n,J*~~(B/10),0,Q.J[h]*(4==h?0:1),n,J-Q.J[h]);else Y.putImageData(r,n*x,J*u)}function e(){for(var h=0;h<p.length;++h){var n=p[h];if(n.length){for(var x=0;x<n.length&&ic[4096|n[x]].complete;++x);x==n.length&&(598==n[1]||798==n[1]?g(n[0],n[0],0,0,n[1]):98==n[1]%
100?g(n[0],n[0],0,3,n[1]):95==n[1]%100&&g(n[0],n[0],5,3,n[1]),n.splice(0))}}}function c(h,n){if(2==h&&99==n)return ic[4195];var x=Q.I[h],u=Q.J[h]+Q.Y[h];1==h&&99==n&&(x=Q.I[0],u=Q.J[0]+Q.Y[0]);8==h&&99==n&&(x=Q.I[0],u=Q.J[0]+Q.Y[0]);var y=0,r=ic[4096|100*h+n];r||(r=ic[4096|100*h+n]=Ga(new Image,{load:function(){e();kc.Yc()},error:function(){Tb("IMAGE ONERROR",y++,this.src);10>y&&setTimeout(function(){r.src=r.src},2E3)}}));var w="https://cdn.tenhou.net/5/img/vieww"+(2==h&&98==n?4:h)+la(2,n)+la(3,x)+
".png";if(x&&r.src!=w){var B=ic[12288|100*h+n];if(99!=n&&95!=n&&98!=n&&(!B||B.width!=x*(0==n?10:1)||B.height!=u*(0==n?4:1))){var J=Ma.createElement("CANVAS").getContext("2d");J.canvas.width=x*(0==n?10:1);J.canvas.height=u*(0==n?4:1);B&&J.drawImage(B,0,0,B.width,B.height,0,0,J.canvas.width,J.canvas.height);ic[12288|100*h+n]=J.canvas}r.crossOrigin="Anonymous";r.src=w}B=ic[12288|100*h+n];if(!B)return r;m[100*h+n]=!0;return B}var b,l=-1,d=-1,f=-1,m={},p=[];return{kk:function(){b=la(3,10*Lc.iH)+la(3,10*
Lc.iS)+la(3,10*Lc.iV);var h=D[A.Ua];ib&&!h&&(h="2");switch(h){case "2":h="https://cdn.tenhou.net/ron2/3/res/bg/bg1_1024x768.png";break;case "3":h="https://cdn.tenhou.net/3/res/img/phx_web_00.jpg";break;case "4":h="https://cdn.tenhou.net/3/res/img/drg_web_00.jpg"}Rb(h)?(Pb.jc=!1,za.style.background="url('https://cdn.tenhou.net/4/res/img/1/_bg9_1024x0768_080000.png') center center /cover no-repeat,url('"+h+"') center center /cover no-repeat"):(h&&h.match(/^([0-9]{9})$/)&&(b=h),Pb.jc=!0,za.style.background=
"url('https://cdn.tenhou.net/4/res/img/1/_bg9_1024x0768_080000.png') center center /cover no-repeat,url('https://cdn.tenhou.net/4/res/img/3/_bg0_1024x0768_"+b+".jpg') center center /cover no-repeat");a(c(5,48),0,-1,1328);a(c(7,48),0,-1,1840);for(var n=0;4>=n;++n){h=c(n,0);for(var x=0;34>x;++x){var u=10*(~~(x/9)+1)+x%9+1;a(h,u-10,x,n<<8|u)}a(h,0,4,n<<8|51);a(h,10,13,n<<8|52);a(h,20,22,n<<8|53)}h=ic[12288];a(h,30,-1,48,560);a(h,38,-1,49,561);a(h,39,-1,50,562);h=ic[12388];a(h,30,-1,304,816);a(h,38,-1,
305,817);a(h,39,-1,306,818);h=ic[12488];a(h,30,-1,1584);a(h,38,-1,60,572);h=ic[12588];a(h,38,-1,316,828);h=ic[12688];a(h,30,-1,1084);a(h,38,-1,1073);a(h,39,-1,1074);for(n=0;8>n;n+=2){h=c(n,99);x=Q.I[n]+Q.Y[n];u=0;if(0==n||2==n)u=~~(47*x/43);if(4==n||6==n)u=~~(24*x/43);var y=~~(Q.Y[n]/12*5);k(h,0,0,x-Q.qb[n],u,n<<8|0);k(h,0,u-y,2*y,y,n<<8|3,n<<8|2)}n=Q.J[1]+Q.Y[1];x=2*~~(47*(Q.I[0]+Q.Y[0])/43);u=Q.Y[0]/12;y=Q.Y[0]+~~(5*u);h=c(8,99);var r=0;k(h,0,r+x-Q.J[0],y,Q.J[0],1,513);k(h,0,r+~~(17*u),y,Q.J[0],
5,517);k(h,0,r,y,Q.J[0]+~~(12*u),4,516);k(h,0,r+x-Q.J[1],y,Q.J[1],257,769,1281,1793);k(h,0,r+~~(17*u),y,Q.J[1],261,773,1285,1797);k(h,0,r,y,Q.J[1]+~~(12*u),260,772,1284,1796);h=c(1,99);r=0;k(h,0,r,y,n,256,768,1280,1792);k(h,0,r+n-~~(5*u),2*~~(5*u),~~(5*u),259,771,1283,1795,258,770,1282,1794);p=[[0,95],[100,195],[200,95],[300,195],[400,495],[0,98],[100,198],[200,298],[548,598],[748,798]];a(c(0,95),0,-1,95);a(c(1,95),0,-1,351);a(c(4,95),0,-1,1119);a(c(0,98),0,-1,98);a(c(1,98),0,-1,354);a(c(2,98),0,
-1,610);a(c(5,98),0,-1,1378);a(c(7,98),0,-1,1890);x=h=n=0;(u=D[A.kd])&&u.match(/^([0-9a-f]{6})$/)&&(n=parseInt(u.slice(0,2),16)/255,h=parseInt(u.slice(2,4),16)/255,x=parseInt(u.slice(4,6),16)/255);if(l!=n||d!=h||f!=x)l=n,d=h,f=x,e(),kc.Yc()},fb:function(h,n,x,u){var y=ic[12288|100*x];if(y.height){var r=Q.I[x],w=Q.J[x]+Q.Y[x],B=r*(arguments.length-4),J=1*w;h.innerHTML=n+"<canvas width="+B+" height="+J+" style='width:"+B/cb+"px;height:"+J/cb+"px;pointer-events:none;vertical-align:middle;'></canvas>";
B=h.getElementsByTagName("CANVAS")[0].getContext("2d");B.clearRect(0,0,B.canvas.width+1,B.canvas.height+1);B.globalAlpha=u;for(J=4;J<arguments.length;++J){var Y=arguments[J];if(hc.Bd(Y)){var T=0;Y=~~(Y/4/9)}else Y=hc.xc[Y],48==Y&&(Y=40),T=Y%10,Y=~~(Y/10)-1;B.drawImage(y,T*r,Y*w,r,w,r*(J-4),0,r,w)}}}}}();var Zb=function(){function a(f,m){m=m.split(",");8==m.length?m=[m[(0+f)%4*2],m[(0+f)%4*2+1],m[(1+f)%4*2],m[(1+f)%4*2+1],m[(2+f)%4*2],m[(2+f)%4*2+1],m[(3+f)%4*2],m[(3+f)%4*2+1]]:16==m.length&&(m=[m[(0+f)%4*2],m[(0+f)%4*2+1],m[(1+f)%4*2],m[(1+f)%4*2+1],m[(2+f)%4*2],m[(2+f)%4*2+1],m[(3+f)%4*2],m[(3+f)%4*2+1],m[8+(0+f)%4*2],m[(0+f)%4*2+9],m[8+(1+f)%4*2],m[(1+f)%4*2+9],m[8+(2+f)%4*2],m[(2+f)%4*2+9],m[8+(3+f)%4*2],m[(3+f)%4*2+9]]);return m.join(",")}function k(f){if(!c.length)return 0;g+=f;if(g<e)return 1;
f=c.shift();f.tag?yc.Ra(f):e+=f;return 1}var g,e,c=[],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=["","","",""],d=["","","",""];return{Dd:function(f,m){if(!f)return m;var p=m.tag,h=p.charCodeAt(1);if(1==p.length||48<=h&&57>=h)h=p.charCodeAt(0),78==h?m.who=(4+~~m.who-f)%4:68<=h&&71>=h?m.tag="DEFG".substr((4+(h-68)-f)%4,1)+p.substr(1):84<=h&&87>=h&&(m.tag="TUVW".substr((4+(h-84)-f)%4,1)+p.substr(1));else switch(p){case "UN":p=[m.n0,m.n1,m.n2,m.n3];m.n0=p[(f+0)%4];m.n1=
p[(f+1)%4];m.n2=p[(f+2)%4];m.n3=p[(f+3)%4];m.dan&&(p=m.dan.split(","),m.dan=p.concat(p.splice(0,f)).join(","));m.rate&&(p=m.rate.split(","),m.rate=p.concat(p.splice(0,f)).join(","));m.sx&&(p=m.sx.split(","),m.sx=p.concat(p.splice(0,f)).join(","));m.rc&&(p=m.rc.split(","),m.rc=p.concat(p.splice(0,f)).join(","));m.gold&&(p=m.gold.split(","),m.gold=p.concat(p.splice(0,f)).join(","));break;case "TAIKYOKU":case "KANSEN":m.oya=(4+~~m.oya-f)%4;break;case "REINIT":p=[m.m0,m.m1,m.m2,m.m3],m.m0=p[(f+0)%4],
m.m1=p[(f+1)%4],m.m2=p[(f+2)%4],m.m3=p[(f+3)%4],p=[m.kawa0,m.kawa1,m.kawa2,m.kawa3],m.kawa0=p[(f+0)%4],m.kawa1=p[(f+1)%4],m.kawa2=p[(f+2)%4],m.kawa3=p[(f+3)%4];case "INIT":m.oya=(4+~~m.oya-f)%4;p=[m.hai0,m.hai1,m.hai2,m.hai3];m.hai0=p[(f+0)%4];m.hai1=p[(f+1)%4];m.hai2=p[(f+2)%4];m.hai3=p[(f+3)%4];p=m.ten.split(",");m.ten=p.concat(p.splice(0,f)).join(",");void 0!=m.chip&&(p=m.chip.split(","),m.chip=p.concat(p.splice(0,f)).join(","));break;case "REACH":m.who=(4+~~m.who-f)%4;m.ten&&(p=m.ten.split(","),
m.ten=p.concat(p.splice(0,f)).join(","));break;case "RYUUKYOKU":p=[m.hai0,m.hai1,m.hai2,m.hai3];m.hai0=p[(f+0)%4];m.hai1=p[(f+1)%4];m.hai2=p[(f+2)%4];m.hai3=p[(f+3)%4];m.sc=a(f,m.sc);void 0!=m.owari&&(m.owari=a(f,m.owari));break;case "AGARI":m.who=(4+~~m.who-f)%4;m.fromWho=(4+~~m.fromWho-f)%4;void 0!=m.paoWho&&(m.paoWho=(4+~~m.paoWho-f)%4);m.sc=a(f,m.sc);void 0!=m.owari&&(m.owari=a(f,m.owari));break;case "VOICE":p=m.type;m.type=p.concat(p.splice(0,f));break;case "BYE":m.who=(4+~~m.who-f)%4}if(m.childNodes)for(p=
m.childNodes,h=0;h<p.length;++h)p[h].tag&&Zb.Dd(f,p[h]);return m},ih:function(f){if(f=f.childNodes){lc.oa=!0;for(var m=0;m<f.length;++m)yc.Ra(Yb.Zc(f[m]));yc.Ra({tag:"INITBYLOG"})}else lc.oa=!1;return 1},Xj:function(f){pb().vk||(g=e=0,pb().vk=k);f=f.childNodes;for(var m=0;m<f.length;++m)f[m].tag&&Yb.Zc(f[m]);Array.prototype.push.apply(c,f);return 1},fk:function(){for(var f=0;f<b.length;++f)b[f]=0;for(f=0;4>f;++f)d[f]=l[f]=""},ua:function(){for(;c.length;)c.pop()},Ed:function(f,m){f&&(f=~~m,4==f?L.u[14]=
!L.u[14]:4>f&&(Pb.tw=(Pb.tw+f)%4));Zb.ua();z.ua();yc.Pc();f=D[A.Hb]||"M";ib?yc.R({tag:"HELO",tsssessionid:D[A.La],sx:f}):yc.R({tag:"HELO",name:D[A.ga]||"NoName",sx:f})},Eg:function(f){var m=""+q[48|f];if(d[f]!=m&&(d[f]=m,q[64|f]=aa.vc(q[48|f],q[80|f]),m=""+q[64|f],l[f]!=m)){l[f]=m;for(f=0;f<b.length;++f)b[f]=0;for(m=0;4>m;++m)if(q[64|m])for(f=0;f<q[64|m].length;++f)b[q[64|m][f]]=1;for(f=0;f<U.Xa.length;++f)m=U.Xa[f],m.s&&m.Ga&&m.Ga(~X.mb,b[m.s.Ie]?X.mb:X.NONE,!0)}},Fg:function(f){f.s&&f.Ga&&f.Ga(~X.mb,
b[f.s.Ie]?X.mb:X.NONE,!0)}}}();Da(P,function(){var a=[],k,g={SPLASH:1,LOGIN:1,LOBBY:1,STORE:1};return{b:null,o:function(e,c){if(P.b)"RYUUKYOKU"==k.tag&&"OWARI"==e.tag||"AGARI"==k.tag&&"OWARI"==e.tag||"AGARI"==k.tag&&"AGARI"==e.tag?a.push(e):P.qa(e,c);else{k=e;e=P.b=ya("div",za,"tbc",{innerHTML:"<div></div>"},{position:"relative",textAlign:"center",verticalAlign:"middle"});if(Qc[k.tag]){var b=Qc[k.tag].xa;if(b)for(var l=0;l<b.length;++l)e.classList.toggle(b[l],!0);if(b=Qc[k.tag].va)Pa.style.background=b}P.ca();P[k.tag](k,e.firstChild);
c&&c()}},ca:function(){if(P.b){var e=~~(Q.I[1]/cb);if(e){g[k.tag]&&(e=0);var c=P.b.style;c.paddingLeft=e+"px";c.paddingRight=~~(za.offsetWidth-Q.lb/cb+e)+"px"}}},qa:function(e,c){function b(){for(var l in Z)delete Z[l];P.b&&(rb(P.b),P.b.parentNode.removeChild(P.b),P.b=null,Z={});e instanceof Function?e():e&&P.o(e);Bc.lc&&Bc.lc();c&&c()}P.b&&"none"!=P.b.style.display?(Da(P.b.style,{transition:"all 250ms ease-out 0ms",opacity:"0"}),sb(P.b,b)):b()},ua:function(){a=[]},nop:function(){},ok:function(e){Qb(!0,
"ok");rc.qa();if(a.length)P.qa(a.shift());else if("TRAINING"==k.tag)P.rk(e);else if("SPLASH"==k.tag)L.Ma(11);else if("LOGIN"==k.tag||"AUTOLOGIN"==k.tag){var c=D[A.Hb]||"M";D[A.Mb]?(ib?yc.R({tag:"HELO",tsssessionid:D[A.La],sx:c,gpid:D[A.Mb]}):yc.R({tag:"HELO",name:D[A.ga]||"NoName",sx:c,gpid:D[A.Mb]}),D.removeItem(A.Mb)):ib?"AUTOLOGIN"==k.tag&&D[A.La]?yc.R({tag:"HELO",tsssessionid:D[A.La],sx:c}):Vb.o("<table align=center cellpadding=0 cellspacing=0 style='padding:auto;'><tr><td align=right>Email:</td><td align=left><input name=email placeholder=\"メールアドレス\" style='font-size:100%;' value='"+
(D[A.La]?"######@###########":"")+"'/></td></tr><tr><td align=right>Password:</td><td align=left><input type=password name=password placeholder=\"パスワード\" style='font-size:100%;' value='"+(D[A.La]?"##########":"")+"'/></td></tr><tr><td align=right>Voice:</td><td align=left><input id=sxm class=radio type=radio name=sx value=M "+("F"!=c?"checked":"")+"/><label class=radio for=sxm>"+I(F.tf)+"</label><input id=sxf class=radio type=radio name=sx value=F "+("F"==c?"checked":"")+
"/><label class=radio for=sxf>"+I(F.sf)+"</label></td></tr></table>",3,function(b){b=b.getElementsByTagName("INPUT");var l=b[0].value,d=b[1].value;b[2].checked?(D.removeItem(A.Hb),c="M"):D[A.Hb]=c="F";if("######@###########"==l&&"##########"==d)yc.R({tag:"HELO",tsssessionid:D[A.La],sx:c});else{if(!l&&!d)return yc.R({tag:"HELO",sx:c});Nb("//ron2.jp/3/member/","email="+encodeURIComponent(l)+"&password="+encodeURIComponent(d),function(f){if(f||!this.response.match(/^tsssessionid=([0-9a-f]{32})$/))return z.ERR({code:1029});
D[A.La]=RegExp.$1;yc.R({tag:"HELO",tsssessionid:D[A.La],sx:c})})}},function(){Qb(!1,0)}):yc.R({tag:"HELO",name:D[A.ga]||"NoName",sx:c});Qb(!0,0)}else"OWARI"==k.tag?(2!=z.a||Pb.Vc||delete Pb.wg,L.Ma(495623)):"NINTEI"==k.tag?P.yd():(1==z.a&&yc.R({tag:"NEXTREADY"}),3==z.a&&Yb.fc(1))},lang:function(){var e="",c;for(c in tb.Rb)e+="<div class=A id='#lang-"+c+"'>"+c+"</div>";Vb.ka(e,"",0)},"#lang":function(e,c){var b=tb.wc();e=e?c:tb.wc();Vc.firstChild.innerHTML=e;tb.wc(e);b!=e&&location.reload()},cfg:function(){yc.Pc();
P.o({tag:"CONFIG"})},exit:function(){L.Ma(495623)}}}());Da(P,function(){function a(b,l){return b?"<span style='color:"+(0<b?"#0FF":"#F00")+";'>"+(0<b?"+":"")+b+(void 0!=l?l:"")+"</span>":""}function k(b){for(var l=b.sc?qa(b.sc):[],d=["","","",""],f=0;4>f;++f)d[f]+="<span style='font-weight:bold;color:#888;'>"+z.Tc[f]+"</span> ",l.length||(d[f]+=(ib?"":fa.$a[z.uc[f]])+(ib||1800<=z.rate[f]?" <span style='color:#888;'>R</span>"+~~z.rate[f]:"")+"<br>"),d[f]+="<span class=popup_un"+f+" style='font-weight:bold;color:#CCC;'>"+Ca(z.O[f])+"</span><br>";f=2.4;if(8==
l.length||16==l.length)d[0]+=l[0]+"<span style='font-size:80%;opacity:0.70;'>00</span>"+(l[1]?" "+a(l[1],"<span style='font-size:80%;opacity:0.70;'>00</span>"):""),d[1]+=l[2]+"<span style='font-size:80%;opacity:0.70;'>00</span>"+(l[3]?" "+a(l[3],"<span style='font-size:80%;opacity:0.70;'>00</span>"):""),d[2]+=l[4]+"<span style='font-size:80%;opacity:0.70;'>00</span>"+(l[5]?" "+a(l[5],"<span style='font-size:80%;opacity:0.70;'>00</span>"):""),d[3]+=l[6]+"<span style='font-size:80%;opacity:0.70;'>00</span>"+
(l[7]?" "+a(l[7],"<span style='font-size:80%;opacity:0.70;'>00</span>"):"");16==l.length&&(++f,d[0]+="<br>"+l[8]+"枚"+(l[9]?" "+a(l[9],"枚"):""),d[1]+="<br>"+l[10]+"枚"+(l[9]?" "+a(l[11],"枚"):""),d[2]+="<br>"+l[12]+"枚"+(l[9]?" "+a(l[13],"枚"):""),d[3]+="<br>"+l[14]+"枚"+(l[9]?" "+a(l[15],"枚"):""));l="";b.ba&&(l=qa(b.ba),l=K("")+l[0]+" "+K("")+l[1]);return"<table cellpadding=0 cellspacing=0 style='margin:0.5em 0;width:100%;text-align:center;'><tr><td rowspan=1 style='width:33%;height:"+
f/2+"em;font-family:icons2,sans-serif;'>"+l+"</td><td rowspan=2 style='width:34%;'><div id=sc02 style='height:"+f+"em;padding:0.2em 0;'"+(z.O[2]?" class=bbg5>"+d[2]:"'>")+"</div></td><td rowspan=1 style='width:33%;height:"+f/2+"em;' class=gray>"+t.za(z.H,ib)+"</td></tr><tr><td rowspan=2><div id=sc03 style='height:"+f+"em;padding:0.2em 0;'"+(z.O[3]?" class=bbg5>"+d[3]:"'>")+"</div></td><td rowspan=2><div id=sc01 style='height:"+f+"em;padding:0.2em 0;'"+(z.O[1]?" class=bbg5>"+d[1]:"'>")+"</div></td></tr><tr><td rowspan=2><div id=sc00 style='height:"+
f+"em;padding:0.2em 0;'"+(z.O[0]?" class=bbg5>"+d[0]:"'>")+"</div></td></tr><tr><td rowspan=1 id=d34 style='height:"+f/2+"em;'></td><td rowspan=1 id=d35 style='height:"+f/2+"em;'></td></tr></table>"}function g(b,l){return z.O[l].length?"<tr><td align=center class=bbg5 style='padding:0.5em;'>"+Ca(z.O[l])+"<table cellpadding=0 cellspacing=0 align=center><tr><td align=right style='width:6em;'>"+b[2*l]+"<span style='font-size:80%;opacity:0.70;'>00</span></td><td align=right style='width:5em;'>"+a(b[2*
l+1].toFixed(1))+"</td>"+(16==b.length?"<td align=right style='width:4em;'>"+a(b[2*l+8],"枚")+"</td>":"")+"<td style='width:3em;'></td></tr></table></td></tr>":""}function e(b,l){for(var d,f=0;d=Z["yaku"+f];++f)d.childNodes[0].style.opacity=d.childNodes[1].style.opacity=0;Z.sc00.style.opacity=Z.sc01.style.opacity=Z.sc02.style.opacity=Z.sc03.style.opacity=Z.total.style.opacity=0;Z.ok.disabled=!0;var m=!!b.doraHaiUra;m&&(Z.d35.style.opacity=0);var p=!!b.yakuman,h=-(p?3E3:750),n=0;pb().bn=function(x){if(0>
h)return h+=x,0<h&&(h=0),1;0==h&&Xb(p&&0==n?O.cd:O.Uf,0,0);var u=Math.min(1,h/(p?3E3:600)),y=Z["yaku"+n];y.childNodes[0].style.opacity=y.childNodes[1].style.opacity=u;n==f-1&&(m&&(Z.d35.style.opacity=u),Z.sc00.style.opacity=Z.sc01.style.opacity=Z.sc02.style.opacity=Z.sc03.style.opacity=Z.total.style.opacity=u);h+=x;1==u&&(n++,h=-(~z.H&t.Qb&&m&&n==f-1?1200:250));return n<f?1:(l(),0)}}var c={TAIKYOKU:"對局",SAIKAI:"再開",KANSEN:"觀戰"};return{TAIKYOKU:function(b,l){var d="TAIKYOKU"==
b.tag;l.innerHTML="<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>"+c[b.tag]+"</div>"+k(b)+(d?"<button name=ok style='padding:0 2em;'>OK</button>":"<button disabled>"+decodeURIComponent(b.msg||"WAIT")+"</button>");Pc(l);d&&rc.o(-z.$c-5E3)},AGARI:function(b,l){var d="";Xb(O.ue,0,0);b.ten=qa(b.ten);b.chip=qa(b.chip);for(var f=b.who!=b.fromWho,m=0,p=0;p<b.chip.length;p+=2)m+=b.chip[p+1];m=m?m+K(f?"枚":"枚∀"):"";var h;f?h=b.ten[1]+K("点"):z.H&t.c&&z.pa[0]&t.Cb.kj?
h=~~(b.ten[1]/2)+"点∀":h=fa.Ig[(z.H&t.c?0:2)+(z.Ea==b.who?1:0)][b.ten[1]]+K(z.Ea==b.who?"点∀":"点");d+="<div id=total style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:250%;'>";var n=[];if(b.yakuman){b.yakuman=qa(b.yakuman);d+=K("役滿")+h+m;for(p=0;p<b.yakuman.length;p+=1)n.push([fa.De[b.yakuman[p]],2*p<b.chip.length?b.chip[2*p+1]+K("枚"):""]);for(p*=2;p<b.chip.length;p+=2)n.push([fa.De[b.chip[p]],b.chip[p+1]+K("枚")])}else{b.yaku=qa(b.yaku);var x=fa.ne[b.ten[2]],
u=0;for(p=0;p<b.yaku.length;p+=2)u+=b.yaku[p+1];if(30==b.ten[0]&&4==u||60==b.ten[0]&&3==u)!f&&z.H&t.c?b.ten[1]==(z.Ea==b.who?8E3:6E3)&&(x=fa.ne[1]):b.ten[1]==(z.Ea==b.who?12E3:8E3)&&(x=fa.ne[1]);~z.H&t.Qb&&(d+=(x?"":b.ten[0]+K("符")+u+K("飜"))+K(x)+h+m);for(f=p=0;p<b.yaku.length;p+=2)m=b.yaku[p+1]+K(z.H&t.Qb?"点":"飜"),f<b.chip.length&&b.yaku[p]==b.chip[f]&&(m+=b.chip[f+1]+K("枚"),f+=2),n.push([fa.De[b.yaku[p]],m])}d+="</div><table cellpadding=0 cellspacing=0 style='width:100%;font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:150%;'><tr>";
p=4>n.length?0:Math.ceil(n.length/2);for(f=0;f<n.length;++f){if(0==f||f==p)d+="<td width=50% align=center valign=top><table cellpadding=0 cellspacing=0>";d+="<tr id=yaku"+f+">";d+="<td align=left style='position:relative;'>"+n[f][0]+"</td>";d+="<td align=left style='position:relative;'>　"+n[f][1]+"</td>";d+="</tr>";if(f==p-1||f==n.length-1)d+="</table></td>"}d+="</tr></table>";n=qa(b.doraHai);for(p=b.doraHaiUra?qa(b.doraHaiUra):[];5>n.length;)n.push(136);for(;5>p.length;)p.push(136);d+=k(b)+
"<button name=ok style='padding:0 2em;'>OK</button>";l.innerHTML=d;Pc(l);ic.fb(Z.d34,"",0,1,n[0],n[1],n[2],n[3],n[4]);ic.fb(Z.d35,"",0,1,p[0],p[1],p[2],p[3],p[4]);3!=z.a&&e(b,function(){Z.ok.disabled=!1;if(!b.owari){var y=(z.H&t.B?7:3)-(z.H&t.c?1:0);rc.o(0==z.ia[0]&&0==z.ia[1]?-z.$c:y<=z.ia[0]?-z.Id:-z.Hd)}})},RYUUKYOKU:function(b,l){l.innerHTML="<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>"+(b.type?fa.Vf[b.type]:"流局")+"</div>"+k(b)+"<button name=ok style='padding:0 2em;'>OK</button>";
Pc(l);2!=z.a||b.owari||(Z.ok.disabled=!0);b.owari||(b=(z.H&t.B?7:3)-(z.H&t.c?1:0),rc.o(0==z.ia[0]&&0==z.ia[1]?-z.$c:b<=z.ia[0]?-z.Id:-z.Hd))},OWARI:function(b,l){z.ua();jc.na();b=ta(b.sc);for(var d=[0,1,2,3],f=1;4>f;++f)if(!(b[2*d[f-1]+1]>=b[2*d[f]+1])){var m=d[f];d[f]=d[f-1];d[f-1]=m;f=0}b="<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>終局</div><table cellpadding=0 cellspacing=0 width=75% align=center style='text-align:center;margin-top:1m;margin-bottom:0.5em;'>"+g(b,
d[0])+g(b,d[1])+g(b,d[2])+g(b,d[3])+"</table>";l.innerHTML=b+"<button name=ok style='padding:0 2em;'>OK</button>";Pc(l);P.b.style.opacity="0";qb(function(){Da(P.b.style,{transition:"all 1500ms ease-out 0ms",opacity:""});sb(P.b,rb)},1)}}}());P.KANSEN=P.SAIKAI=P.TAIKYOKU;Da(P,function(){function a(d){var f=Ja("#a29").childNodes,m=f.length;b=(b+d+m)%m;for(d=0;d<m;++d)f[d].style.display=d==b?"":"none";Ja("#a30").innerHTML=f[b].firstChild.innerHTML+K(" / "+I(F.qj))}function k(d){A.Ta(A.he,~~d.target.checked,0)}function g(){Ja("#cfgDefaultSE").checked?(Z.cfgUseDefaultSE0.style.display="none",Z.cfgSE.value="",e()):Z.cfgUseDefaultSE0.style.display=""}function e(){var d=Z.cfgSE.value;Sb(d)?(D[A.pc]=d,Gc()):(D.removeItem(A.pc),Gc(),d&&Vb.o(I(F.Wf)))}function c(d){A.Ta(A.Ud,
~~d.target.checked,0)}var b=0,l=va(function(){hc.a=~~D[A.eb];0==hc.a&&D[A.Ha]&&(hc.a=1);ec();z.ua();z.connected=15;for(var d=[],f=~~(Date.now()/1E3),m=0;65>m;++m)d.push((f+m)%34*4+(f&1));f=[0,1,14,22][f%4];z.H=1;z.UN({tag:"UN",n0:"COM",n1:"COM",n2:"COM",n3:"COM",sx:",,,"});z.Da({tag:"REINIT",seed:"2,1,1,"+~~(6*Math.random())+","+~~(6*Math.random())+","+~~(137*Math.random()),ten:"123,234,345,456",oya:"0",hai0:d.slice(0,10).join(","),hai1:d.slice(13,23).join(","),hai2:d.slice(26,36).join(","),hai3:d.slice(39,
49).join(","),m0:"27905",m1:"28929",m2:"29953",m3:"30977",kawa0:d.slice(26,26+f).join(","),kawa1:d.slice(39,39+f).join(","),kawa2:d.slice(0,0+f).join(","),kawa3:d.slice(13,13+f).join(",")});U.ca();D[A.Ha]&1?(L.b.style.display="",L[1572868].innerHTML="",L.sa(126976)):L.b.style.display="none"},1);return{CONFIG:function(d,f){Wc.style.display="none";l();d="<div id=a30 style='font-size:125%;pointer-events:none;'>　</div><hr><div id=a29 style='height:12em;'><div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+
(I(F.sj)+"</span><span class=bth>"+I(F.vj)+":</span><div class=select-wrapper><button name=sco></button></div><br>"+K(I(F.Ij))+"<br><br><input class=checkboxt type=checkbox id=cfgSelShowID /><label class=bth for=cfgSelShowID>"+I(F.pj)+"</label><br>"+K(I(F.Fj))+"<br></div>");d+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+I(F.Xf)+"</span><span class=bth>"+I(F.mj)+":</span><div class=select-wrapper><button name=cpt></button></div><br>"+K(I(F.Dj))+"<br><br><span class=bth>"+
I(F.rj)+":</span><div class=select-wrapper><button name=dtp></button></div><br>"+K(I(F.Ej))+"<br></div>";d+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+I(F.Xf)+"</span><span class=bth>"+I(F.tj)+":</span><div class=select-wrapper><button name=lth></button></div><br>"+K(I(F.Gj))+"<br><br><br><span class=bth>"+I(F.zj)+":</span><div class=select-wrapper><button name=yam></button></div><br></div>";d+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+
I(F.wj)+"</span><br><input class=checkboxt type=checkbox id=cfgDefaultSE /><label class=bth for=cfgDefaultSE>"+I(F.oj)+"</label> <div class=select-wrapper><button name=sevol></button></div><br><br><div id=cfgUseDefaultSE0>"+I(F.xj)+"<input name=cfgSE style='width:100%;font-size:125%;'/><br></div></div>";d+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+I(F.Aj)+"</span><br><div class=select-wrapper><button name=tblimg></button></div><br><br><div id=cfgUseDefaultIMG0>"+
I(F.Bj)+":"+K("(.jpg|.png|.gif)")+"<input name=cfgBGIMG style='width:100%;font-size:125%;' placeHolder='https://your.domain.com/file.(jpg|png|gif)'/><br></div><div id=cfgUseDefaultIMG1><div class=select-wrapper><button name=iH style='width:4em;'></button></div><div class=select-wrapper><button name=iS style='width:4em;'></button></div><div class=select-wrapper><button name=iV style='width:4em;'></button></div><br></div></div>";d+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+
I(F.Cj)+"</span><br><br><div class=bth>"+I(F.Kj)+":</div><div class=select-wrapper><button name=hR style='width:4em;'></button></div><div class=select-wrapper><button name=hG style='width:4em;'></button></div><div class=select-wrapper><button name=hB style='width:4em;'></button></div><br>"+K(I(F.Hj))+"<br></div>";ib&&(d+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>スキンβ</span><br><br><div class=select-wrapper><button name=skin></button></div><br><br>※予告なく仕様が変更される場合があります<br></div>");
d+="<div style='display:none;padding:0.5em;text-align:left;'><span style='display:none;'>"+I(F.uj)+"</span><br><input class=checkboxt type=checkbox id=cfgDefaultAutoWin /><label class=bth for=cfgDefaultAutoWin>"+I(F.nj)+"</label> <br><br></div>";f.innerHTML=d+"</div><hr><button name=cfgPrev class=ra1 style='width:33%;'>&laquo;</button><button name=cfgNext class=ra2 style='width:33%;'>&raquo;</button><button name=cfgClose style='width:34%;'>CLOSE</button>";Pc(f);Ja("#cfgSelShowID").checked=!!D[A.he];
Z.sco.disabled=!Ra;Fa(Z.cfgSE,"change",e);Fa(Ja("[name=cfgBGIMG]"),"change",P["#iV"]);Fa(Ja("#cfgSelShowID"),"change",k);Fa(Ja("#cfgDefaultSE"),"change",g);Fa(Ja("#cfgDefaultAutoWin"),"change",c);D[A.pc]?Z.cfgSE.value=D[A.pc]:Ja("#cfgDefaultSE").checked=!0;Rb(D[A.Ua])&&(Ja("[name=cfgBGIMG]").value=D[A.Ua]);Ja("#cfgDefaultAutoWin").checked=!!D[A.Ud];P["#sco"]();P["#yam"]();P["#sevol"]();P["#tblimg"]();P["#cpt"]();P["#hB"]();P["#iV"]();P["#dtp"]();P["#lth"]();if(ib)P["#skin"]();a(0);g()},sco:function(){Vb.ka("<div class=A id='#sco-0'>"+
I(F.td)[0]+"</div><div class=A id='#sco-1'>"+I(F.td)[1]+"</div><div class=A id='#sco-2'>"+I(F.td)[2]+"</div>","",0)},"#sco":function(d,f){var m=D[A.ze];d=~~(d?f:m);A.Ta(A.ze,d,0);Ra&&Oa.screen.orientation.lock&&Oa.screen.orientation.lock(1==d?"portrait":2==d?"landscape":"any");Z.sco.innerHTML=I(F.td)[d]},yam:function(){Vb.ka("<div class=A id='#yam-0'>"+I(F.bb)[0]+"</div><div class=A id='#yam-1'>"+I(F.bb)[1]+"</div><div class=A id='#yam-2'>"+I(F.bb)[2]+"</div>","",0)},"#yam":function(d,f){var m=D[A.eb];
d=~~(d?f:m);A.Ta(A.eb,d,0);Z.yam.innerHTML=I(F.bb)[d];m!=d&&l()},sevol:function(d){for(var f="",m=~~(D[A.tb]||5),p=0;10>=p;++p)f+="<div class='A"+(p==m?" _selected_":"")+"' id='#"+d.name+"-"+p+"'>"+p+(0==p?"<div class=desc>(off)</div>":5==p?"<div class=desc>(default)</div>":"")+"</div>";Vb.ka(f,"",0)},"#sevol":function(d,f){var m=~~(D[A.tb]||5);m=~~(d?f:m);A.Ta(A.tb,m,5);Z.sevol.innerHTML=I(F.yj)+":"+m;Fc();arguments.length&&Xb(O.Gb,0,0)},hB:function(d){for(var f="iH"==d.name?36:16,m=~~Z[d.name].innerText.substr(2),
p="",h=0;h<f;++h)p+="<div class='A"+(h==m?" _selected_":"")+"' id='#"+d.name+"-"+h+"'>"+h+(h==Lc[d.name]?"<div class=desc>(default)</div>":"")+"</div>";Vb.ka(p,"",0)},"#iV":function(d,f){var m=D[A.Ua]||"";if(Ja("#cfgUseDefaultIMG1").style.display)if(Ja("#cfgUseDefaultIMG0").style.display)m.match(/^\d$/)||(D.removeItem(A.Ua),m="2"),Z.tblimg.innerHTML=I(F.rd)+m;else{var p=Ja("[name=cfgBGIMG]").value;p?Rb(p)?D[A.Ua]=p:d&&d.target==Ja("[name=cfgBGIMG]")&&Vb.o(I(F.Wf)):D.removeItem(A.Ua)}else{var h=la(3,
10*Lc.iH)+la(3,10*Lc.iS)+la(3,10*Lc.iV),n=m&&m.match(/^\d{9}$/)?m:h;p=~~n.substr(0,3);var x=~~n.substr(3,3),u=~~n.substr(6,3);if(d)switch(f=10*~~f,d){case "#iH":p=f;break;case "#iS":x=f;break;case "#iV":u=f}n=la(3,p)+la(3,x)+la(3,u);D[A.Ua]=n;Z.iH.innerHTML=K("H:")+~~(p/10);Z.iS.innerHTML=K("S:")+~~(x/10);Z.iV.innerHTML=K("V:")+~~(u/10)}D[A.Ua]==(ib?2:h)&&D.removeItem(A.Ua);m!=D[A.Ua]&&ec()},"#hB":function(d,f){var m=D[A.kd],p=m||"000000",h=parseInt(p.substr(0,2),16),n=parseInt(p.substr(2,2),16),
x=parseInt(p.substr(4,2),16);if(d)switch(f=17*~~f,d){case "#hR":h=f;break;case "#hG":n=f;break;case "#hB":x=f}p=la(2,h.toString(16))+la(2,n.toString(16))+la(2,x.toString(16));A.Ta(A.kd,p,"000000");Z.hR.innerHTML=K("R:")+~~(h/17);Z.hG.innerHTML=K("G:")+~~(n/17);Z.hB.innerHTML=K("B:")+~~(x/17);m!=D[A.kd]&&ec()},tblimg:function(){Vb.ka("<div class=A id='#tblimg-1'>"+I(F.rd)+"1</div>"+(ib?"<div class=A id='#tblimg-2'>"+I(F.rd)+"2</div>":"")+"<div class=A id='#tblimg-0'>URL</div>","",0)},"#tblimg":function(d,
f){var m=ib?2:1,p=D[A.Ua]||"";Rb(p)?m=0:p.match(/^\d{9}$/)?m=1:p.match(/^\d$/)&&(m=~~p);d=~~(d?f:m);Ja("#cfgUseDefaultIMG0").style.display=0==d?"":"none";Ja("#cfgUseDefaultIMG1").style.display=1==d?"":"none";Z.tblimg.innerHTML=0==d?"URL":I(F.rd)+d;if(2>d)P["#iV"]();else A.Ta(A.Ua,d,ib?"2":""),ec()},cpt:function(){Vb.ka("<div class=A id='#cpt-0'>"+I(F.sd)[0]+"</div><div class=A id='#cpt-1'>"+I(F.sd)[1]+"</div><div class=A id='#cpt-2'>"+I(F.sd)[2]+"</div>","",0)},"#cpt":function(d,f){d=~~(d?f:D[A.be]);
A.Ta(A.be,d,0);qc.ca();Z.cpt.innerHTML=I(F.sd)[d]},dtp:function(){Vb.ka("<div class=A id='#dtp-0'>"+I(F.bb)[0]+"</div><div class=A id='#dtp-1'>"+I(F.bb)[1]+"</div><div class=A id='#dtp-2'>"+I(F.bb)[2]+"</div>","",0)},"#dtp":function(d,f){var m=D[A.Ha];3==m&&(m=0);d=~~(d?f:m);Z.dtp.innerHTML=I(F.bb)[d];0==d&&Ob&&(d=3);A.Ta(A.Ha,d,0);m!=d&&l()},lth:function(){Vb.ka("<div class=A id='#lth-0'>"+I(F.bb)[0]+"</div><div class=A id='#lth-1'>"+I(F.bb)[1]+"</div><div class=A id='#lth-2'>"+I(F.bb)[2]+"</div>",
"",0)},"#lth":function(d,f){var m=D[A.me];d=~~(d?f:m);A.Ta(A.me,d,0);Z.lth.innerHTML=I(F.bb)[d];m!=d&&l()},skin:function(){Vb.ka("<div class=A id='#skin-none'>なし</div><div class=A id='#skin-takamiya20221224'>高宮プロ(βテスト版)</div>","",0)},"#skin":function(d,f){var m=D[A.ud]||"takamiya20221224";d=d?f:m;A.Ta(A.ud,d,"takamiya20221224");Z.skin.innerHTML="takamiya20221224"==d?"高宮プロ(βテスト版)":"なし";m!=
d&&Vb.o(I(F.Jj),3,function(){location.reload()})},cfgPrev:function(){a(-1)},cfgNext:function(){a(1)},cfgClose:function(){P.o({tag:"AUTOLOGIN"})}}}());P["#iH"]=P["#iS"]=P["#iV"];P.iH=P.iS=P.iV=P.hR=P.hG=P.hB;P["#hR"]=P["#hG"]=P["#hB"];Da(P,function(){function a(){for(var e=[],c=~~D[A.jd],b=0;40>b;++b){var l=(c+40-1-b)%40;try{e.push(JSON.parse(D["log"+l]))}catch(d){}}return e}function k(e,c){for(var b,l=0;l<c.length;++l){var d=c[l];b="";d&&(b=(ib?"https://ron2.jp/3/?log=":"https://tenhou.net/0/?log=")+d.log+"&tw="+(4-~~(d&&d.oya))%4);var f="";b&&(f+="<a href='"+b+"' class=bt3 target=_blank style='padding:0;margin:0;border-style:none;'>");f+="<div style='position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;border:solid 1px #000;'>";
f+="<table cellpadding=0 cellspacing=0 width=100% height=100%><tr>";f+="<td rowspan=3 class=gray width=6% >"+(l+1)+".</td>";if(d){f+="<td colspan=2>";f+=K(I(F.hf)+" | ")+d.log.substr(4,2)+"/"+d.log.substr(6,2)+K(" | ");f+=t.za(d.type,ib);var m=d.lobby;m&&(f+=" "+(1E4>m?"L":"C")+la(4,m));f+="</td>";f+="</tr><tr>";m=d.uname;var p=~~d.oya;if(d=d.sc){d=d.split(",");for(var h=0;h<d.length;++h)d[h]=Number(d[h]);for(h=0;4>h;++h)f+="<td width=47% >",m[h]&&(f=h?f+("ABCD".substr((h+4-p)%4,1)+":"):f+(~~(m[1]&&
d[3]>d[1])+~~(m[2]&&d[5]>d[1])+~~(m[3]&&d[7]>d[1])+1+"位 "),f+=Mb(Ca(m[h]))+"("+pa(d[2*h+1].toFixed(1))+")"),f+="</td>",1==h&&(f+="</tr><tr>")}else if(m)for(h=0;4>h;++h)f+="<td width=47% >"+Mb(Ca(m[h]))+"</td>",1==h&&(f+="</tr><tr>")}f+="</tr></table>";f+="</div>";b&&(f+="</a>");ya("div",e,"",{innerHTML:f},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[0].onclick=P.logOpen}ya("div",e,"gray",{innerHTML:I(F.hh)},{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}function g(e,
c){c=c.split("\n");c[b-1]||c.pop();for(var b=0;b<c.length;++b){var l=c[b].split(" "),d=l[0],f=~~l[1];c[b]={type:parseInt(d.split("-")[1],16),lobby:~~d.split("-")[2],log:d,oya:(4-f)%4,uname:[l[2+f%4],l[2+(1+f)%4],l[2+(2+f)%4],l[2+(3+f)%4]],sc:[0,l[6+f%4],0,l[6+(1+f)%4],0,l[6+(2+f)%4],0,l[6+(3+f)%4]].join()}}e.innerHTML="";b=ya("div",e,"",{innerHTML:"<a class=bt3 href='https://tenhou.net/mjlog.html' target=_blank style='padding:1em 0;'>"+I(F.fh)+"</a>"},{textAlign:"center"});b.childNodes[0].onclick=
function(){P.Cg(e);return!1};b=ya("div",e,"bt3",{innerHTML:I(F.gh)},{textAlign:"center",padding:"0.5em 0"});k(e,c.reverse())}return{Cg:function(e){e.innerHTML="";var c=ya("div",e,"select-wrapper",{innerHTML:"<button name=exana style='height:1.75em;'>Analyze/AI</button>"},{"float":"right"});c=ya("div",e,"",{innerHTML:"<a class=bt3 href='https://tenhou.net/mjlog.html' target=_blank style='padding:1em 0;'>"+I(F.eh)+"</a>"},{textAlign:"center"});c.childNodes[0].onclick=function(){e.innerHTML="<br>L O A D I N G ...";
mb("https://tenhou.net/0/log/find.cgi"+(ib?"?tsssessionid="+D[A.La]:"?un="+D[A.ga])+"&raw=1",function(b){if(b)return alert("DOWNLOAD ERROR");g(e,this.response)});return!1};k(e,a())},logOpen:function(e){if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&(e=e.target,e=e.href.split(/\?log=|&tw=/),1!=e.length))return Pb.log=e[1],Pb.TW=Pb.tw=~~e[2],Pb.ts=0,L.Ma(11),!1},exana:function(e){Vb.ka("<div class='A' id='#"+e.name+"-0'>NAGA<div class=desc>© 2021 DWANGO Co., Ltd.</div></div><div class='A' id='#"+
e.name+"-1'>Custom URL</div>","",0)},"#exana":function(e,c){function b(l){for(var d=a(),f=[],m=0;m<d.length;++m)f.push(d[m].log+"%25tw="+(4-~~d[m].oya)%4);Oa.open(l+"?lang="+tb.wc()+"&tenhou="+f.join(","),Ra?"_system":"_blank")}0==c?b("https://naga.dmv.nico/naga_report/order_form/"):1==c&&Vb.o("Analyzer URL:<input type=text size=22 value='https://' style='font-size:100%;margin:0.25em'/><br>",3,function(l){l=l.getElementsByTagName("INPUT")[0];b(l.value);return!0})}}}());Da(P,function(){function a(){Z.wgF0.innerText=c&8?"Ⓟ":c&2?"四":c&4?"三":"－";Z.wgF1.innerText=c&16?"東":c&32?"南":"－";Z.wgF2.innerText=c&64?"雀":c&128?"特":c&256?"鳳":"－"}function k(){var b=Ja("#klist");if(b){b.innerHTML="";var l=0;if(e)for(var d=0;d<e.length;++d){var f=e[d],m=~~f[3],p=[f[4],f[7],f[10],f[13]];if(c&14){if(c&2&&m&t.c)continue;if(c&4&&~m&t.c)continue;if(c&8&&!ja(p[0])&&!ja(p[1])&&!ja(p[2])&&!ja(p[3]))continue}if(c&48){if(c&16&&m&t.B)continue;
if(c&32&&~m&t.B)continue}if(c&448&&0==g){if(c&64&&!t.$b(m))continue;if(c&128&&t.Kc(m)&&2!=t.fe(m))continue;if(c&256&&t.Kc(m)&&3!=t.fe(m))continue}var h="";h+="<a href='"+((ib?"https://ron2.jp/3/?wg=":"https://tenhou.net/0/?wg=")+f[0])+"' class=bt3 target=_blank style='padding:0;margin:0;border-style:none;'>";h+="<div style='position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;border:solid 1px #000;'>";h+="<table cellpadding=0 cellspacing=0 width=100% height=100%>";h+="<tr><td rowspan=3 class=gray width=6%>"+
(l+1)+".</td>";var n=[~~f[5],~~f[8],~~f[11],~~f[14]],x=[~~f[6],~~f[9],~~f[12],~~f[15]];h+="<td colspan=2>"+K(I(F.jf)+" | ")+f[2]+K(" | ")+t.za(m,ib)+"</td></tr><tr>";for(f=0;4>f;++f)p[f]&&(h+="<td width=47%>",ib||(h+="<span class=dan"+n[f]+">"+fa.$a[n[f]]+"</span>"),h+=K("R")+x[f]+K("/"),h+=Mb(p[f]),h+="</td>",1==f&&(h+="</tr><tr>"));h+="</tr></table>";h+="</div>";h+="</a>";ya("div",b,"",{innerHTML:h},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[0].onclick=P.wgOpen;++l}l||(b.innerHTML=
"<br>"+I(F.jh));ya("div",b,"gray",{innerHTML:I(F.kh)},{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}}var g,e,c=ib?8:256;return{tk:function(b){g=b;a();Z.wgF2.style.display=0==g?"":"none";mb("https://mjv.jp/0/wg/"+(1E4>g?la(4,g):g)+".js",function(l){if(l)return console.log(l);l=this.response;e=l.substr(3,l.length-3-2);try{e=JSON.parse(e)}catch(f){return}for(l=0;l<e.length;++l){e[l]=e[l].split(",");for(var d=0;4>d;++d)e[l][4+3*d]&&(e[l][4+3*d]=decodeURIComponent(escape(atob(e[l][4+3*d]))))}k();
ib&&P.uk(e)})},wgF0:function(){c=c&-15|(c&2?4:c&4?8:c&8?0:2);a();k()},wgF1:function(){c=c&-49|(c&16?32:c&32?0:16);a();k()},wgF2:function(){c=c&-449|(c&64?128:c&128?256:c&256?0:64);a();k()},wgOpen:function(b){if(!(b.shiftKey||b.altKey||b.ctrlKey||b.metaKey))return b=b.target,Pb.wg=b.href.split("?wg=")[1],Pb.TW=Pb.tw=0,L.Ma(11),!1}}}());var Xc=ib?[t.h|t.Aa|t.Ob,t.h|t.B|t.Aa|t.Ob,t.h|t.c|t.B|t.Aa|t.Ob]:[t.h|0,t.h|t.aa|0,t.h|t.aa|0|t.sb,t.h|t.B|0,t.h|t.B|t.aa|0,t.h|t.B|t.aa|0|t.sb,t.h|t.c|0,t.h|t.c|t.aa|0,t.h|t.c|t.B|0,t.h|t.c|t.B|t.aa|0,t.h|t.Z,t.h|t.aa|t.Z,t.h|t.aa|t.Z|t.sb,t.h|t.B|t.Z,t.h|t.B|t.aa|t.Z,t.h|t.B|t.aa|t.Z|t.sb,t.h|t.c|t.Z,t.h|t.c|t.aa|t.Z,t.h|t.c|t.B|t.Z,t.h|t.c|t.B|t.aa|t.Z,t.h|t.v,t.h|t.aa|t.v,t.h|t.aa|t.v|t.sb,t.h|t.B|t.v,t.h|t.B|t.aa|t.v,t.h|t.B|t.aa|t.v|t.sb,t.h|t.c|t.v,t.h|t.c|t.aa|t.v,t.h|t.c|t.B|t.v,t.h|t.c|
t.B|t.aa|t.v,t.h|t.Z|t.v,t.h|t.aa|t.Z|t.v,t.h|t.aa|t.Z|t.v|t.sb,t.h|t.B|t.Z|t.v,t.h|t.B|t.aa|t.Z|t.v,t.h|t.B|t.aa|t.Z|t.v|t.sb,t.h|t.c|t.Z|t.v,t.h|t.c|t.aa|t.Z|t.v,t.h|t.c|t.B|t.Z|t.v,t.h|t.c|t.B|t.aa|t.Z|t.v,t.h|t.v|t.ea,t.h|t.v|t.fa,t.h|t.v|t.ea|t.fa,t.h|t.v|t.B|t.ea,t.h|t.v|t.B|t.fa,t.h|t.v|t.B|t.ea|t.fa,t.h|t.v|t.c|t.ea|t.fa,t.h|t.v|t.B|t.c|t.ea|t.fa],Yc=[t.h|t.Va|t.ab|0,t.h|t.B|t.Va|t.ab|0,t.h|t.Va|t.ab|t.Z,t.h|t.B|t.Va|t.ab|t.Z,t.h|t.Va|t.ab|t.v,t.h|t.B|t.Va|t.ab|t.v,t.h|t.Va|t.ab|t.Z|t.v,t.h|
t.B|t.Va|t.ab|t.Z|t.v],Zc=ib?"4353,4361,4377":"1,9";
Da(P,function(){function a(v,C){return(v=v.replace(new RegExp("[^"+fa.ag+"]","g"),""))&&v!=C.replace(new RegExp("[^"+fa.ag+"]","g"),"")}function k(){return(""+(D[A.ye]||Zc)).split(",")}function g(v){if(ic[4096]&&ic[4096].complete&&ic[4196]&&ic[4196].complete&&ic[4296]&&ic[4296].complete&&ic[4396]&&ic[4396].complete&&ic[4496]&&ic[4496].complete)return!0;v&&Vb.o(I(F.wh));return!1}function e(v){var C=Ja("#a29").childNodes,E=C.length;Qa=(Qa-1+v+E-1)%(E-1)+1;for(v=1;v<E;++v)C[v].style.display=v==Qa?"":
"none";Ja("#a30").innerHTML=C[Qa].firstChild.innerHTML;Ja("[name=panePrev]").innerHTML=2>Qa?"<span class=tblink>&laquo;</span>":"　";Ja("[name=paneNext]").innerHTML=2>Qa?"<span class=tblink>&raquo;</span>":"　";Ja("#a31").style.display=C[Qa].classList.contains("nohdr")?"none":"";E=C[Qa].classList;E.contains("init_tlist")&&(E.remove("init_tlist"),P.Hg(Z.tlist));E.contains("init_hlist")&&(E.remove("init_hlist"),P.Cg(Z.hlist));E.contains("init_klist")&&(E.remove("init_klist"),n());Ja(".c20").dataset.panesel=
C[Qa].dataset.pane||""}function c(v){v=v.replace(/[^\d]/g,"");return(new Date(v.substr(0,4),v.substr(4,2)-1,v.substr(6,2),v.substr(8,2),v.substr(10,2),v.substr(12,2))).getTime()}function b(v){v=v.replace(/[^\d]/g,"");return v.replace(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)/,function(C,E,R,M,N,G){return E+"."+R+"."+M+"("+I(F.Vg)[(new Date(E,R-1,M)).getDay()]+") "+N+":"+G})}function l(){var v=P[1];Z.expdisp.innerHTML=K(I(F.Ah)+":")+(v?v.replace(/(\d\d\d\d)(\d\d)(\d\d)/,"$1.$2.$3"):"- - - -")}function d(){function v(na,
ha){na=E[na].childNodes[1];na.className="";na.innerHTML=ha}function C(na,ha,ea){v(na,ha==ea?"1.00":(ha/ea).toFixed(3).substr(1))}if(Z.pftab){Z.pftab.style.display="none";Z.pftab_.style.display="";for(var E=Z.pftab.getElementsByTagName("TR"),R=1;R<E.length;++R)if(!(2>E[R].childNodes.length)){var M=E[R];M.style.borderBottom="1px solid #444";M=E[R].childNodes[0];M.className="gray";M.style.textAlign="left";M=E[R].childNodes[1];M.innerHTML="-";M.className="gray";M.style.textAlign="right"}E[16].childNodes[0].innerHTML=
"";if(R=~~k()[4]){M=4;var N=0,G="";switch(r(T,R)){case 4:M=4;N=0;var V=P[17];G=I(F.Eh);break;case 3:M=3;N=0;V=P[16];G=I(F.Dh);break;case 601:M=4;N=0;V=P[18];break;case 602:M=4;N=2;V=P[19];break;case 603:M=4;N=5;V=P[20];break;case 611:M=4;N=0;V=P[21];break;case 612:M=4;N=2;V=P[22];break;case 613:M=4;N=5;V=P[23];break;case 623:M=3;N=5;V=P[24];break;case 633:M=3;N=5;V=P[25];break;case 2004:M=4;N=0;V=P[33];break;case 2003:M=3,N=0,V=P[32]}E[16].childNodes[0].innerHTML=G;V&&(Z.pftab.style.display="",Z.pftab_.style.display=
"none",G=~~V[4]+~~V[5]+~~V[6]+~~V[7])&&(C(1,V[4],G),C(2,V[5],G),C(3,V[6],G),4==M&&C(4,V[7],G),C(5,V[8],G),v(6,G),v(7,(0<V[3]?"+":"")+(V[3]/G).toFixed(1)),v(8,((~~V[4]+2*~~V[5]+3*~~V[6]+4*~~V[7])/G).toFixed(2)),t.$b(R)&&(R=1*V[3]+V[0]*N,v(9,(0<R?"+":"")+(R/G).toFixed(1)),v(10,(~~V[0]/G).toFixed(2))),C(11,V[10],V[9]),C(12,V[11],V[9]),C(13,V[12],V[9]),C(14,V[13],V[9]),v(15,~~V[2]))}}}function f(v){function C(hb){for(var Za,xb=1;xb<arguments.length;++xb)Za=N[hb].childNodes[xb],Za.className="",Za.innerHTML=
arguments[xb]}function E(hb,Za,xb){C(hb,Za,(xb?xb:"- ")+K(tb.nb(xb)))}function R(hb,Za,xb,vc){C(hb,Za==xb?"1.00":(Za/xb).toFixed(3).substr(1),(vc?vc:"- ")+K(tb.nb(vc)))}var M=Z.rnktab;if(M){Z.rnktab.style.display="none";Z.rnktab_.style.display="";for(var N=M.getElementsByTagName("TR"),G=1;G<N.length;++G){M=N[G];var V=M.childNodes;if(!(2>V.length)){16!=G&&18!=G&&(M.style.borderBottom="solid 1px #444");V[0].style.textAlign="left";V[0].className="gray";for(var na=1;na<V.length;++na)M=V[na],M.className=
"gray",M.style.textAlign="right",M.style.paddingLeft="0.5em",1!=G&&6!=G&&(M.innerHTML="-")}}C(18,K("-"));M=~~k()[3];yc.bc!=M&&(yc.bc=M,yc.R('<PXR V="'+M+'" />'));if(M&&(Z.rnktab.style.display="",Z.rnktab_.style.display="none",v&&(v=v.v2.split(","),15==v.length||21==v.length))){G=~~v[0];V=~~v[1];na=~~v[2];var ha=~~v[3],ea=G+V+na+ha,oa=v[4],wa=1500;switch(r(T,M)){case 4:wa=P[17][2];break;case 3:wa=P[16][2];break;case 601:wa=P[18][2];break;case 602:wa=P[19][2];break;case 603:wa=P[20][2];break;case 611:wa=
P[21][2];break;case 612:wa=P[22][2];break;case 613:wa=P[23][2];break;case 623:wa=P[24][2];break;case 633:wa=P[25][2];break;case 2004:wa=P[33][2]||wa;break;case 2003:wa=P[32][2]||wa}var Ea=~~v[6],Xa=~~v[7],Ia=~~v[8],La=~~v[9],Ta=~~v[10],Ya=~~v[11],ab=~~v[12],bb=~~v[13],fb=~~v[14];if(ea){var gb=M&t.c?30*G+0*V+-30*na:30*G+10*V+-10*na+-30*ha,Db=M&t.c?G+2*V+3*na:G+2*V+3*na+4*ha,Eb=G+V,Lb=M&t.c?na:ha;E(2,pa(oa),Xa);E(7,pa((oa/ea).toFixed(1)),Ia);E(3,pa(gb),La);E(8,(Db/ea).toFixed(2),Ta);R(11,G,ea,Ya);~M&
t.c&&R(12,Eb,ea,ab);R(13,Lb,ea,bb)}if(21==v.length){oa=v[15];Ya=v[16];var Fb=~~v[17],kb=~~v[18];ab=~~v[19];bb=~~v[20];E(4,pa(oa),Fb);E(9,pa((oa/ea).toFixed(1)),kb);E(5,pa(Ya),ab);E(10,pa((Ya/ea).toFixed(2)),bb)}oa="-";15==v.length&&Ia&&(oa=Xa+Ia+La+Ta);21==v.length&&kb&&(oa=Fb+kb);E(15,~~wa,fb);E(16,oa,Ea);C(18,G+K(" + ")+V+K(" + ")+na+(M&t.c?"":K(" + ")+ha)+K(" = ")+ea)}}}function m(v,C){var E=Ma.getElementById(v);if(E){C=ma[C];var R=C.gt,M="-";259==R?M="東風公式ルール":
267==R?M="東南公式ルール":R&&(M=R&t.B?"東南":"東風",M+=R&t.c?"サンマ":"戦",M=M+" "+(R&t.ab?"喰ナシ":"喰あり"),M+=R&t.Va?"赤ナシ":"赤あり",M+=" ",t.ed(T,R)&&(M+="速"),R&t.Aa&&(M+="暗"),R&t.fa&&(M+="祝"));var N="【-】",G=K(I(F.cf)),V=C.gspan;N=I(F.ce).replace("5",V);G=I(F.ee).replace("5",V);var na=C.ts?b(C.ts):"-",ha=C.te?b(C.te):"-";R="<div class='nobr' style='font-size:150%;padding-top:0.25em;width:22em;overflow:hidden;'>"+
C.title+"</div><hr>";R+="<table cellpadding=0 cellspacing=0 style='margin:0 auto;text-align:left;'><tr><td><table cellpadding=0 cellspacing=0><tr><td colspan=3>"+K(I(F.ff)+"JST")+"<br></td></tr><tr><td>"+K(I(F.gf))+"</td><td>&nbsp;</td><td>"+na+"</td></tr><td>"+K(I(F.ef))+"</td><td></td><td>"+ha+"</td></tr></td></tr></table></td><td style='padding:0 0 0 1em;'><table cellpadding=0 cellspacing=0><tr><td>"+K(I(F.df))+"<br>"+M+"</td></tr><tr><td style='padding-top:0.25em;'></td></tr></table></td></tr></table>";
R+=K(I(F.af))+G+"<br>";G=M="- -";na="-";ha=[];if(C&&C.sc){ha=C.sc;for(var ea=0;ea<ha.length;++ea)ha[ea]=pa(Number(ha[ea]).toFixed(1))}C&&C.rank&&(M=Math.max(1,C.rank[0]),G=C.rank[2],void 0!==C.max&&(na=pa(Number(C.max).toFixed(1))));M="<span class=c13>"+M+"</span>"+tb.nb(M);ha.length&&ha.length<V&&(M=K("("+M+")"));M+=K("<span style='font-size:50%;'> /"+G+"</span>");R=R+("<div style='display:inline-block;font-size:300%;padding:0.1em 0;'>"+M+"</div>　<div style='display:inline-block;'>")+(K(I(F.bf))+
"<br>"+na+"</div><br>");R+=K(N)+ha.join(" ")+"<br>";var oa=Ja("#"+v+" .c13");N=oa?~~oa.innerText:"-";E.innerHTML=R;if(C&&C.rank&&N!=C.rank[0]){oa=Ja("#"+v+" .c13");oa.style.opacity=0;oa.innerText=~~oa.innerText+50;var wa=function(){var Ea=Number(oa.style.opacity)+.02;oa.style.opacity=1<Ea?1:Ea;oa.innerText=~~oa.innerText-1;1>Ea&&setTimeout(wa,20)};wa()}}}function p(v,C){var E=ma[C];if(!E||T!=E.lobby)return!1;mb("//wp.ron2.jp/3/ranking?lobby="+E.lobby+"&rule="+E.gt+"&ts="+E.ts+"&te="+E.te+"&gspan="+
E.gspan+"&un="+encodeURIComponent(P[0]),function(R){if(R)return console.log(this);R=this.response;try{var M=JSON.parse(R)}catch(N){return}ma[C].rank=M.rank;ma[C].sc=M.sc;ma[C].max=M.max;m(v,C);u(S,C)});return!0}function h(){ra&&(clearTimeout(ra),ra=void 0);m("a25",0);m("a26",1);Z.ev0info&&(Z.ev0info.disabled=!ma[0].href);Z.ev1info&&(Z.ev1info.disabled=!ma[1].href);var v=0|p("a25",0);v|=p("a26",1);10100<=T&&10109>=T&&(v|=p("a26",T));v&&(ra=setTimeout(h,6E4))}function n(){sa&&(clearTimeout(sa),sa=void 0);
Ja("#klist")&&(P.tk(T),sa=setTimeout(n,6E4))}function x(v){if(Z.csmain){var C=~~v.players,E=~~v.premiumonly,R=~~v.joinfee,M=v.rule,N=parseInt(M[2],16);var G=N&t.B?"東南":"東風";G+=N&t.c?"サンマ":"戦";G=G+" "+(N&t.ab?"喰ナシ":"喰あり");G+=N&t.Va?"赤ナシ":"赤あり";G+=" ";t.ed(T,N)&&(G+="速");N&t.Aa&&(G+="暗");N&t.fa&&(G+="祝");var V="",na=~~M[3],ha=~~M[4],ea=~~M[5],oa=~~M[6],wa=P[0];v.ib=!!v.join;ib&&!v.ib&&
v.premiumonly&&ja(wa)&&(v.ib=!0);v.ib&&(wa=(N&t.c?P[16]:P[17])[0],na&&ha?v.ib=na<=wa&&wa<=ha:na?v.ib=na<=wa:ha&&(v.ib=wa<=ha));v.ib&&(N=(N&t.c?P[16]:P[17])[2],ea&&oa?v.ib=ea<=N&&N<=oa:ea?v.ib=ea<=N:oa&&(v.ib=N<=oa));na&&ha&&na==ha?V+=fa.$a[na]+"限定":na&&ha?V+=fa.$a[na]+"～"+fa.$a[ha]:na?V+=fa.$a[na]+"以上":ha&&(V+=fa.$a[ha]+"以下");V.length&&(ea||oa)&&(V+=" & ");ea&&oa?V+="R"+ea+"～R"+oa:ea?V+="R"+ea+"以上":oa&&(V+="R"+oa+"以下");V.length||(V+="段位R指定なし");
V+="<br>";V=R?V+"だれでもOK":E?V+(C?"固定 "+C+" 名(有効期限3日以上)":"有効期限3日以上"):V+(C?"固定 "+C+" 名":"だれでもOK");C=R?"有効期限"+R+"日分":C?"- - -":E?"なし":"無料";v="<div style='font-size:150%;padding-top:0.25em;'>"+Ka(v.title)+"</div><hr><table cellpadding=0 cellspacing=0 style='margin:0 auto;text-align:left;'><tr><td><table cellpadding=0 cellspacing=0><tr><td colspan=3>"+
K(I(F.ff)+"JST")+"<br></td></tr><tr><td>"+K(I(F.gf))+"</td><td>&nbsp;</td><td>"+b(M[0])+"</td></tr><td>"+K(I(F.ef))+"</td><td></td><td>"+b(M[1])+"</td></tr></td></tr><tr><td colspan=3 style='padding-top:0.25em;'>"+K(I(F.df))+"<br>"+G+"</td></tr></table></td><td style='padding:0 0 0 1em;'><table cellpadding=0 cellspacing=0><tr><td>"+K(I(F.Wg))+"<br>"+C+"<br></td></tr><tr><td style='padding-top:0.25em;'>"+K(I(F.Ug))+"<br>"+V+"</td></tr></table></td></tr></table>";Z.csmain.innerHTML=v}}function u(v,
C){if(Z.csranking){var E=I(F.cf),R=I(F.Tg),M="",N="-",G=[],V="- -";if("object"===typeof C)if(C=(C.rankingcs||"").split(","),C[0]=C[0]||v.ranking,"sc3m"==C[0]||"sc3c0m"==C[0]||"sc3c2m"==C[0]||"sc3c5m"==C[0])E=I(F.Yg),"sc3c2m"==C[0]&&(R=I(F.Ye)),"sc3c5m"==C[0]&&(R=I(F.Ze)),M=I(F.Xg),C[8]&&(V=C[8]),C[6]&&(N=pa(Number(C[6]).toFixed(1))),C[3]&&G.push(pa(Number(C[3]).toFixed(1))),C[2]&&G.push(pa(Number(C[2]).toFixed(1))),C[1]&&G.push(pa(Number(C[1]).toFixed(1))),G.length&&G.push("= "+pa((1*C[1]+1*C[2]+
1*C[3]).toFixed(1)));else{if("sc5m"==C[0]||"sc5c0m"==C[0]||"sc5c2m"==C[0]||"sc5c5m"==C[0])E=I(F.ee),"sc5c2m"==C[0]&&(R=I(F.Ye)),"sc5c5m"==C[0]&&(R=I(F.Ze)),M=I(F.ce),C[9]&&(V=C[9]),C[7]&&(N=pa(Number(C[7]).toFixed(1))),C[5]&&G.push(pa(Number(C[5]).toFixed(1))),C[4]&&G.push(pa(Number(C[4]).toFixed(1))),C[3]&&G.push(pa(Number(C[3]).toFixed(1))),C[2]&&G.push(pa(Number(C[2]).toFixed(1))),C[1]&&G.push(pa(Number(C[1]).toFixed(1))),G.length&&G.push("= "+pa((1*C[1]+1*C[2]+1*C[3]+1*C[4]+1*C[5]).toFixed(1)))}else{v=
ma[C];E=v.gspan;M=I(F.ce).replace("5",E);E=I(F.ee).replace("5",E);v.max&&(N=pa(Number(v.max).toFixed(1)));if(v.sc)for(C=0;C<v.sc.length;++C)G[C]=pa(Number(v.sc[C]).toFixed(1));v.rank&&(V=Math.max(1,v.rank[0]))}G=G.length?G.join(" "):"--";R="<div style='display:inline-block;text-align:left;'>"+K(I(F.af))+"　"+E+"<br>"+K(I(F.bf))+"　"+N+"　"+K(I(F.Sg))+"　"+R+"</div>";R+="<div style='font-size:375%;padding:0.1em 0;'>"+V+tb.nb(V)+"</div>";R+=K(M)+" "+G+"<br>";Z.csranking.innerHTML=R}}
function y(v){return"<div style='margin:0.5em 0;'><div class=select-wrapper><button name=rule id=rule"+v+" style='width:11.5em;text-align:left;'></button></div><button name=join id=join"+v+" disabled>"+I(F.gd)+"</button></div>"}function r(v,C){if(1==v)return C&t.c?2003:2004;if(t.$b(C))switch(C){case t.h|t.v|t.ea:return 601;case t.h|t.v|t.fa:return 602;case t.h|t.v|t.ea|t.fa:return 603;case t.h|t.v|t.B|t.ea:return 611;case t.h|t.v|t.B|t.fa:return 612;case t.h|t.v|t.B|t.ea|t.fa:return 613;case t.h|
t.v|t.c|t.ea|t.fa:return 623;case t.h|t.v|t.B|t.c|t.ea|t.fa:return 633}else return C&t.c?3:4}function w(v){return v?(t.za(v,ib)+"　　　").substr(0,6)+"&nbsp;&nbsp;"+Ba[v]:"SELECT GAME"}function B(v){return v.replace(/,/g,"</td><td>").replace(/\|/g,"</td></tr><tr><td>").replace(/>\(/g,"><table cellpadding=0 cellspacing=0 width=100% style='border-collapse:collapse;'><tr><td>").replace(/\)</g,"</td></tr></table><")}function J(){P["#rule0"]();for(var v=0;3>v;++v)Z["lnj"+v]&&(Z["lnj"+v].innerText=
~~Ba.Xb[0]),Z["lng"+v]&&(Z["lng"+v].innerText=~~Ba.Tb[0]);for(v=0;v<Bb.length;++v){var C=Bb[v];ma[0].gt==C&&(Z.ev0lnj&&(Z.ev0lnj.innerText=~~Ba.Xb[v]),Z.ev0lng&&(Z.ev0lng.innerText=~~Ba.Tb[v]));ma[1].gt==C&&(Z.ev1lnj&&(Z.ev1lnj.innerText=~~Ba.Xb[v]),Z.ev1lng&&(Z.ev1lng.innerText=~~Ba.Tb[v]))}}function Y(v,C,E,R,M,N,G,V,na,ha){if(!C)return 0;v=c(v.t);E=c(E);R=c(R);R<=v?(C.innerText=I(F.Pg),C.disabled=!0):G?(C.innerText=I(F.Xe),C.disabled=!0):V?v<E?(M=(E-v)/1E3,C.innerText=I(F.Hc)[0]+(86400<M?(M/24/
60/60).toFixed(1)+I(F.Hc)[1]:3600<M?(M/60/60).toFixed(1)+I(F.Hc)[2]:60<M?(M/60).toFixed(1)+I(F.Hc)[3]:5*~~(M/5)+I(F.Hc)[4]),C.disabled=!0):N?(C.innerText="- - -",C.disabled=!0):(C.innerText=I(F.gd),C.disabled=!!jb[M]):na?(C.innerText=I(F.Qg),C.disabled=!1):ha?(C.innerText=I(F.Rg),C.disabled=!1):(C.innerText=I(F.Xe),C.disabled=!0);return v<E-6E4||R<v||E<v&&v<R-3E4?3E4:5E3}var T,S,ma={0:{title:"準備中",ts:"",te:"",gt:0,gspan:0,href:""},1:{title:"準備中",ts:"",te:"",gt:0,gspan:0,
href:""}},Ba={n:[],Xb:[],Tb:[]},jb={},Qa=location.search.match(/^\?(C[0-9]{8})/)?2:ib?3:2,ra,sa,$a;return{yd:function(){jb={};var v="";if(D[A.fd]){var C=D[A.fd].split(",");D.removeItem(A.fd);36E5>Date.now()-C[1]&&(10001==C[0]&&(v="C00014237"),10002==C[0]&&(v="C00025628"))}v.match(/^(C[0-9]{8})$/)?(T=~~("1"+RegExp.$1.substr(1,4)),yc.R({tag:"CS",lobby:RegExp.$1})):location.search.match(/^\?L([1-9][0-9]{3})/)?(yc.R({tag:"LOBBY",id:RegExp.$1}),T=~~RegExp.$1):location.search.match(/^\?(C[0-9]{8})/)?(T=
~~("1"+RegExp.$1.substr(1,4)),yc.R({tag:"CS",lobby:RegExp.$1})):(T=0,ib&&(T=1),P.o({tag:"LOBBY"}))},LOBBY:function(v,C){Vc.style.display="none";Wc.style.display="";Wc.disabled=!1;yc.bc=0;if(Pb.tr||Pb.tredit)return P.TRAINING({file:Pb.tr||Pb.tredit},C);v="<div id=a29 style='height:16em;'><div id=a31><table cellpadding=0 cellspacing=0 style='width:100%;white-space:nowrap;text-align:right;'><tr><td><table cellpadding=0 cellspacing=0 style='width:100%;'><tr><td style='text-align:left;'>"+(K(I(F.Gh)+":")+
"<span id=lnn0>"+~~Ba.n[0]+"</span> "+K(I(F.Hh)+":")+"<span id=lnn2>"+~~Ba.n[2]+"</span> "+K(I(F.Fh)+":")+"<span id=lnn3>"+~~Ba.n[3]+"</span> </td><td class=c11></td></tr><tr><td colspan=2> <span id=iddisp>"+Ca(P[0])+"</span>  <span id=expdisp></span> <span class=c12></span></td></tr></table></td><td rowspan=2 style='width:1px;padding-left:0.25em;' class=c10></td></tr></table><div style='display:none;'></div><hr></div>");v+="<div data-pane=d0 style='display:none;'><span style='display:none;'>　</span><div id=lbinfo style='height:3em;'>"+
K((Ra?"":I(F.Ih))+" "+I(F.Jh))+"</div><br><div class=select-wrapper><button name=testplay>"+I(F.yh)+"</button></div><br><br><br>"+K(I(F.Kh))+"</div>";ib&&1==T&&(v+="<div data-pane=d1 style='display:none;height:13rem;'><span style='display:none;'>プロ情報</span><div style='position:relative;height:100%;'><div class=sscl id=plist style='position:relative;height:100%;border:solid 1px #444;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div></div></div>");
0<=T&&1E4>T&&(v+="<div data-pane=d2 style='display:none;padding:0.25em 0;'><span style='display:none;'>"+(1<T?"個室L"+la(4,T):1==T?"公式卓":"対戦")+"</span>"+y(0)+y(1)+y(2)+"</div>");1E4<=T&&2E4>T&&(v+="<div data-pane=d3 style='display:none;'><span style='display:none;'>大会C"+la(4,T%1E4)+"</span><div id=csmain style='height:9em;'></div><span style='font-size:150%;padding:0 1em;'>"+K(I(F.Jc))+"<span id=lnj0>"+~~Ba.Xb[0]+"</span>"+K(I(F.rb))+" "+K(I(F.Ic))+"<span id=lng0>"+
~~Ba.Tb[0]+"</span>"+K(I(F.rb))+"</span>",v+="<button name=join id=joincs0 disabled>　</button></div>");1E4<=T&&2E4>T&&(v+="<div data-pane=d3 style='display:none;'><span style='display:none;'>大会C"+la(4,T%1E4)+"</span><div id=csranking style='height:9em;'></div><span style='font-size:150%;padding:0 1em;'>"+K(I(F.Jc))+"<span id=lnj1>"+~~Ba.Xb[0]+"</span>"+K(I(F.rb))+" "+K(I(F.Ic))+"<span id=lng1>"+~~Ba.Tb[0]+"</span>"+K(I(F.rb))+"</span>",v+="<button name=join id=joincs1 disabled>　</button></div>");
1<T&&(v+="<div data-pane=d4 style='display:none;'><span style='display:none;'>"+(1E4>T?"個室L":"大会C")+la(4,T%1E4)+"</span><div style='height:8.5em;border:1px solid #444;text-align:left;margin-bottom:0.5em;position: relative;'><button name=chatInput style='font-size:100%;position:absolute;right:0;top:8.5em;'>&middot;&middot;&middot;</button><div id=chat style='height:100%;font-size:75%;overflow-y:scroll;user-select:text;'><div>#ENTER LOBBY "+T+"</div></div></div>",1E4>T?v+=y(3):2E4>
T&&(v+="<span style='font-size:150%;padding:0 1em;'>"+K(I(F.Jc))+"<span id=lnj2>"+~~Ba.Xb[0]+"</span>"+K(I(F.rb))+" "+K(I(F.Ic))+"<span id=lng2>"+~~Ba.Tb[0]+"</span>"+K(I(F.rb))+"</span><button name=join id=joincs2 disabled>　</button>"),v+="</div>");ib&&1==T&&(v+="<div data-pane=d5 class='nohdr' style='display:none;'><span style='display:none;'>イベントA</span><div id=a25 style='height:12em;'></div><button name=ev0info disabled>詳細</button><span style='font-size:150%;padding:0 0.5em;'>"+
K(I(F.Jc))+"<span id=ev0lnj>-</span>"+K(I(F.rb))+" "+K(I(F.Ic))+"<span id=ev0lng>-</span>"+K(I(F.rb))+"</span><button name=join id=a23 disabled>"+I(F.gd)+"</button></div>",v+="<div data-pane=d6 class='nohdr' style='display:none;'><span style='display:none;'>イベントB</span><div id=a26 style='height:12em;'></div><button name=ev1info disabled>詳細</button><span style='font-size:150%;padding:0 0.5em;'>"+K(I(F.Jc))+"<span id=ev1lnj>-</span>"+K(I(F.rb))+" "+K(I(F.Ic))+"<span id=ev1lng>-</span>"+
K(I(F.rb))+"</span><button name=join id=a24 disabled>"+I(F.gd)+"</button></div>");1>=T&&(v+=B("<div data-pane=d7 style='display:none;'><span style='display:none;'>"+I(F.Oi)+"</span>"+y(3)+"<table cellpadding=0 cellspacing=0 id=rnktab style='margin:0 auto;'><tr><td valign=top style='min-width:10em;'>(,"+I(F.Oa)[0]+","+I(F.Oa)[1]+"|"+I(F.Oa)[2]+",,|"+I(F.Oa)[3]+",,|"+I(F.Oa)[4]+",,|"+I(F.Oa)[5]+",,)</td><td style='width:0.5em;'></td><td valign=top style='min-width:7em;'>(,"+I(F.Oa)[6]+","+I(F.Oa)[7]+
"|,,|,,|,,|,,)</td><td rowspan=2 style='width:1em;'></td><td rowspan=2 valign=top style='min-width:11em;'>("+I(F.Oa)[8]+",,|"+I(F.Oa)[9]+",,|"+I(F.Oa)[10]+",,|<div style='border-bottom:1px solid transparent;'>&nbsp;</div>|"+I(F.Oa)[12]+",,|"+I(F.Oa)[13]+",,)</td></tr><tr><td colspan=3 align=right style='padding:0;'><table cellpadding=0 cellspacing=0 style='border-collapse:collapse;'><tr><td style='padding-right:0.5em;'>"+I(F.Oa)[14]+",</td></tr></table></tr></table><div id=rnktab_><br><br>"+K(I(F.Df))+
"</div></div>"));if(0==T||1==T)v+=B("<div data-pane=d8 style='display:none;'><span style='display:none;'>"+I(F.Pi)+"</span>"+y(4)+"<table cellpadding=0 cellspacing=0 id=pftab style='margin:0 auto;'><tr><td valign=top style='min-width:6.5em;'>("+I(F.Ja)[0]+",|"+I(F.Ja)[1]+",|"+I(F.Ja)[2]+",|"+I(F.Ja)[3]+",|"+I(F.Ja)[4]+",)</td><td style='width:1em;'></td><td valign=top style='min-width:8em;'>("+I(F.Ja)[5]+",|"+I(F.Ja)[6]+",|"+I(F.Ja)[7]+",|"+I(F.Ja)[8]+",|"+I(F.Ja)[9]+",)</td><td style='width:1em;'></td><td valign=top style='min-width:6.5em;'>("+
I(F.Ja)[10]+",|"+I(F.Ja)[11]+",|"+I(F.Ja)[12]+",|"+I(F.Ja)[13]+",|"+I(F.Ja)[14]+",)</td></tr><tr><td colspan=5 class=gray style='font-size:75%;padding:0.2em;'></td></tr></table><div id=pftab_><br><br>"+K(I(F.Df))+"</div></div>");v+="<div data-pane=d9 class='nohdr init_hlist' style='display:none;height:100%;'><span style='display:none;'>"+I(F.hf)+"</span><div style='position:relative;height:100%;'><div class=sscl id=hlist style='position:relative;height:100%;border:solid 1px #444;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div></div></div>";
v+="<div data-pane=d10 class='nohdr init_klist' style='display:none;height:100%;'><span style='display:none;'>"+I(F.jf)+"</span><div style='position:relative;height:100%;'><div class=sscl id=klist style='position:relative;height:100%;border:solid 1px #444;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div><button name=wgF0 class='ra0 bgb' style='position:absolute;left:0em;bottom:0em;'>－</button><button name=wgF1 class='ra0 bgb' style='position:absolute;left:2em;bottom:0em;'>－</button><button name=wgF2 class='ra0 bgb' style='position:absolute;left:4em;bottom:0em;'>－</button></div></div>";
ib||(v+="<div data-pane=d11 class='nohdr init_tlist' style='display:none;height:100%;'><span style='display:none;'>Trainingβ</span><div style='position:relative;height:100%;'><div class=sscl id=tlist style='position:relative;height:100%;border:solid 1px #444;overflow-y:scroll;'></div><div class=sblink style='visibility:hidden;'>▼</div></div></div>");v=ib?v+("<div data-pane=d12 style='display:none;padding-top:2em;'><span style='display:none;'>Tools</span> <button name=openurl>OpenURL</button> <button name=openmember>会員ページ</button><br><br> <button name=webranking>ランキング</button> <button name=purchase>"+
I(F.le)+"</button><div style='font-size:75%;margin:1em;'>"+K("Powered by tenhou.net")+"</div></div>"):Ra?v+("<div data-pane=d12 style='display:none;padding-top:2em;'><span style='display:none;'>Tools</span> <button name=openurl>OpenURL</button> <button name=help>"+I(F.mf)+"</button> <button name=hairi>"+I(F.nf)+"</button><br><br><button name=webranking>ランキング</button> <button name=purchase>"+I(F.le)+"</button><br><br></div>"):v+("<div data-pane=d12 style='display:none;padding-top:0.5em;'><span style='display:none;'>Tools</span><div style=\"padding:0.25em 0;\"> <button name=openurl>OpenURL</button> <button name=help>"+
I(F.mf)+"</button> <button name=hairi>"+I(F.nf)+'</button></div><div style="padding:0.25em 0;"><button name=webranking>ランキング</button> <button name=purchase>'+I(F.le)+'</button></div><div style="padding:0.25em 0;"> <button name=showad>広告表示テスト</button></div></div>');Va&&(v+="<div data-pane=d13style='display:none;'><span style='display:none;'>Caution</span><div style='padding:1em 4em;'>"+I(F.sh)+"</div></div>");v+="</div><hr>";var E=!!Object.keys(jb).length;
C.innerHTML=v+("<table cellpadding=0 cellspacing=0 style='width:100%;'><tr><td style='position:relative;vertical-align:middle;'><button name=panePrev class=ra1 style='font-size:300%;width:50%;height:1.5em;'>　</button><button name=paneNext class=ra2 style='font-size:300%;width:50%;height:1.5em;'>　</button><div id=a30 style='position:absolute;top:0;font-size:300%;width:100%;padding:0.25em 0;pointer-events:none;'>　</div></td><td style='width:9.5em;'><button name=cancel style='width:100%;height:2.5em;"+
(E?"":"display:none;")+"'>CANCEL</button><button name=logout style='width:100%;height:2.5em;"+(E?"display:none;":"")+"'>LOGOUT</button></td></tr></table>");v=P[2];E=P[ib?33:17];var R=P[ib?32:16];ib?(E.length||(E=[0,0,1500]),R.length||(R=[0,0,1500]),Ja(".c11").innerHTML=K("四麻R")+~~E[2]+" "+K("三麻R")+~~R[2],Ja(".c12").innerHTML=K("BP:")+P[34],v=P[0],Ja(".c10").innerHTML="<div style='position:relative;display:inline-block;overflow:hidden;width:2rem;height:2rem;border-radius:10%;border:0.08rem solid #444;vertical-align:middle;font-size:0.2rem;'><img src='https://cdn.tenhou.net/ron2/3/res/480x480/_"+
Aa(v).replace(/%/g,"").toUpperCase()+".jpg' style='height:100%;'/><div style='position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,0.1);'></div></div>"):v||E.length||R.length?(E.length||(E=[0,0,1500]),R.length||(R=[0,0,1500]),Ja(".c10").innerHTML="<table cellpadding=0 cellspacing=0 align=right><tr><td class=gray>四麻:</td><td>"+fa.$a[E[0]]+"</td><td class=gray>R</td><td>"+~~E[2]+"</td><td style='padding:0 0 0 0.25em;'>"+E[1]+"</td><td class=gray>/</td><td>"+Ab[~~E[0]]+
"</td><td class=gray>pt</td></tr><tr><td class=gray>三麻:</td><td>"+fa.$a[R[0]]+"</td><td class=gray>R</td><td>"+~~R[2]+"</td><td style='padding:0 0 0 0.25em;'>"+R[1]+"</td><td class=gray>/</td><td>"+Ab[~~R[0]]+"</td><td class=gray>pt</td></tr></table>"):Ja(".c10").innerHTML="<table cellpadding=0 cellspacing=0 align=right><tr><td class=gray>"+I(F.Ch)+"</td></tr></table>";Pc(C);P["#rule0"]();d();f();l();J();e(0);1E4<=T&&2E4>T&&(x(S),yc.R("<DATE />"),u(S,{rankingcs:""}),yc.bc=-1,yc.R('<PXR V="-1" />'));
ib&&(Ja(".init_klist")&&(n(),Ja(".init_klist").classList.remove("init_klist")),h(),mb("//wp.ron2.jp/3/eventconfig.json",function(M){if(M)return console.log(M);M=this.response;try{ma=JSON.parse(M)}catch(G){console.trace(G,M)}for(M=0;2>M;++M){var N=ma[M];N.href||(N.href="//ron2.jp/3/sc/?"+[(1E4>N.lobby?"L":"C")+("0000"+N.lobby%1E4).substr(-4),("0000"+N.gt.toString(16)).substr(-4),Jb(new Date(N.ts)).substr(0,12),Jb(new Date(N.te)).substr(0,12),N.gspan].join("-"))}h();J();yc.R("<DATE />")}))},rh:function(v){Ba.n=
v.n.split(",");Ba.Xb=v.j.split(",");Ba.Tb=v.g.split(",");Z.lnn0&&(Z.lnn0.innerText=~~Ba.n[0],Z.lnn2.innerText=~~Ba.n[2],Z.lnn3.innerText=~~Ba.n[3]);J();return 1},Lg:function(v){var C=v.lobby;C&&(4==C.length?(T=~~C,P.o({tag:"LOBBY"})):9==C.length&&(T=~~("1"+C.substr(1,4))));C=Ma.getElementById("chat");var E=v.text;E&&E.length&&(E=decodeURIComponent(E));var R=v.hidden;if(C&&E&&E.length&&"1"!=R){R=v.uname;var M=v.color&&v.color.match(/[0-9A-Fa-f]{6}/)?"#"+v.color:R?"":"#FF0";R&&R.length&&(E=decodeURIComponent(R)+
": "+E);v=Ma.createElement("DIV");M&&(v.style.color=M);v.innerText=E;R=C.scrollHeight;M=C.scrollTop+1.1*C.clientHeight;C.appendChild(v);R<=M&&(C.scrollTop=C.scrollHeight)}if(E&&E.match(/^\/prompt /)){C=E.split(" ");var N=C[1];E=~~C[2];var G=C[3],V=C[4];v="";for(R=5;R<C.length;++R)v+=C[R]+(R!=C.length-1?" ":"");v=Ca(v).replace(/&lt;br&gt;/g,"<br>");Vb.o(v,3,function(){yc.R({tag:"CHAT",text:"/prompt "+N+" "+G})},function(){yc.R({tag:"CHAT",text:"/prompt "+N+" "+V})},E,G,V)}else"/attention please"==
E&&(Qa=4,e(0));return 1},Mg:function(v){v&&(S=v,S.rule=(""+(S.rule||"")).split(","),S.csrule=(""+(S.csrule||"")).split(","),S.join=~~S.join,S.joinfee=~~S.joinfee,S.players=~~S.players,S.premiumonly=~~S.premiumonly);if(Z.joincs0)return x(S),yc.R("<DATE />"),1;P.o({tag:"LOBBY"},function(){yc.ub()})},Zg:function(v){var C=0,E=Z.joincs0;E&&(C=Y(v,E,S.rule[0],S.rule[1],parseInt(S.rule[2],16),parseInt(S.csrule[0],16)&t.Cb.Ni,a(Ka(S.title),P[0]),S.ib,S.joinfee,S.premiumonly),Z.joincs1.innerText=Z.joincs2.innerText=
E.innerText,Z.joincs1.disabled=Z.joincs2.disabled=E.disabled);E=[0,0];for(var R=0;2>R;++R){var M=Ja("#"+["a23","a24"][R]);if(M){var N=ma[R];T==N.lobby?E[R]=Y(v,M,N.ts,N.te,N.gt,!1,!1,!0,0,!1):(M.innerText="ENTER",M.disabled=!1)}}v=Math.max(C,E[0],E[1]);C&&(v=Math.min(v,C));E[0]&&(v=Math.min(v,E[0]));E[1]&&(v=Math.min(v,E[1]));v&&($a&&(clearTimeout($a),$a=void 0),$a=setTimeout(function(){Z.testplay&&yc.R("<DATE />")},v));return 1},gj:f,hj:function(v){Z.joincs0&&u(S,v)},panePrev:function(){e(-1)},paneNext:function(){e(1)},
testplay:function(){Vb.ka(ib?"<div class=A id='#testplay-"+(t.Aa|t.Ob)+"'>４人打 東風戦</div><div class=A id='#testplay-"+(t.Aa|t.Ob|t.c)+"'>３人打 東風戦</div><div class=A id='#testplay-"+(t.Aa|t.Ob|t.Va)+"'>４人打 東風戦 公式ルール</div>":"<div class=A id='#testplay-"+t.aa+"'>"+t.za(t.aa,ib)+"<div class=desc>(４人打 東風 喰断アリ 赤アリ 速)</div></div><div class=A id='#testplay-0'>"+
t.za(0,ib)+"<div class=desc>(４人打 東風 喰断アリ 赤アリ)</div></div><div class=A id='#testplay-"+t.c+"'>"+t.za(t.c,ib)+"<div class=desc>(３人打 東風 喰断アリ 赤アリ)</div></div><div class=A id='#testplay-"+(t.ea|t.fa)+"'>"+t.za(t.ea|t.fa,ib)+"<div class=desc>(４人打 東風 喰断アリ 赤アリ 祝儀)</div></div><div class=A id='#testplay-"+(t.c|t.ea|t.fa)+
"'>"+t.za(t.c|t.ea|t.fa,ib)+"<div class=desc>(３人打 東風 喰断アリ 赤アリ 祝儀)</div></div><div class=A id='#testplay-"+(t.c|t.Qb)+"'>東天紅 三麻β<div class=desc>(３人打 東天紅)</div></div>","font-size:80%;text-align:left;",0)},"#testplay":function(v,C){g(!0)&&(v=~~C,Qb(!0,3,1),Z.cancel.style.display="",Z.logout.style.display="none",yc.R({tag:"JOIN",t:T+","+v}))},rule:function(v){P["#rule0"]("#"+
v.id)},"#rule0":function(v,C){for(var E=0;E<Bb.length;++E)Ba[Bb[E]]=~~Ba.Xb[E]+":<div class=n2r>"+~~Ba.Tb[E]+"</div>";var R=[],M=P[2],N=P[ib?33:17],G=P[ib?32:16],V="";v&&void 0===C&&(V+="<div class=A id='"+v+"-0'>SELECT GAME</div>");var na=Xc;~~D[A.Ae]&&(na=na.concat(Yc));for(E=0;E<na.length;++E){var ha=!0,ea=na[E],oa=ea&t.c?G:N;if(0==T)switch(t.ge(ea)){case 0:ha=13<=oa[0]&&1800<=oa[2]?!1:!0;break;case 1:ha=16<=oa[0]&&2E3<=oa[2]?!1:9<=oa[0]||60<=M;break;case 2:ha=13<=oa[0]&&1800<=oa[2]?!0:!1;break;
case 3:ha=16<=oa[0]&&2E3<=oa[2]?M:!1;break;case 6:ha=13<=oa[0]&&1800<=oa[2]?M:!1}else if(1!=T&&1E4>T&&t.ge(ea))continue;ha?(R[ea]=1,V&&(V+="<div class='A nobr' id='"+v+"-"+ea+"'>"+w(ea)+"</div>")):V&&"#rule3"==v&&(V+="<div class='A nobr' id='"+v+"-"+ea+"'>"+t.za(ea,ib)+"</div>")}0==T&&v&&"#rule3"!=v&&V&&(9<=N[0]||60<=M||(V+="<div class=A id='"+v+"-"+t.Z+"'>※四麻上級卓</div>"),9<=G[0]||60<=M||(V+="<div class=A id='"+v+"-"+(t.c|t.Z)+"'>※三麻上級卓</div>"),
13<=N[0]&&1800<=N[2]||(V+="<div class=A id='"+v+"-"+t.v+"'>※四麻特上卓</div>"),13<=G[0]&&1800<=G[2]||(V+="<div class=A id='"+v+"-"+(t.c|t.v)+"'>※三麻特上卓</div>"),13<=N[0]&&1800<=N[2]&&M||(V+="<div class=A id='"+v+"-"+(t.ea|t.v)+"'>※四麻雀荘戦</div>"),13<=G[0]&&1800<=G[2]&&M||(V+="<div class=A id='"+v+"-"+(t.c|t.ea|t.v)+"'>※三麻雀荘戦</div>"),16<=N[0]&&2E3<=N[2]&&M||(V+="<div class=A id='"+v+"-"+(t.Z|
t.v)+"'>※四麻鳳凰卓</div>"),16<=G[0]&&2E3<=G[2]&&M||(V+="<div class=A id='"+v+"-"+(t.c|t.Z|t.v)+"'>※三麻鳳凰卓</div>"));1!=T&&v&&void 0===C&&(V+="<div class=A id='"+v+"-showall'>※喰断ナシON/OFF</div>");if(V)Vb.ka(V,"text-align:left;",0);else if(v&&"showall"==C)A.Ta(A.Ae,~~!~~D[A.Ae],0);else{M=k();if(v){if(M[~~v.slice(-1)]==C)return;M[~~v.slice(-1)]=~~C}for(E=0;6>E;++E)if(Z["rule"+E]&&Z["join"+E]){ea=~~M[E];if(!t.Lc(ea)&&~ea&t.h){switch(ea){case t.Z:case t.c|
t.Z:Vb.o(I(F.th));break;case t.v:case t.c|t.v:Vb.o(I(F.xh));break;case t.Z|t.v:case t.c|t.Z|t.v:Vb.o(I(F.uh));break;case t.ea|t.v:case t.c|t.ea|t.v:Vb.o(I(F.vh))}ea=0}if(3==E&&ea&&!R[ea])M[E]=ea,Z["join"+E].disabled=!0,Z["rule"+E].innerHTML=t.za(ea,ib);else{R[ea]||(ea=0);jb[ea]||(Z["join"+E].disabled=!ea);if(!ib&&ea&t.sb)if(0==T)switch(t.ge(ea)){case 0:~P[3]&1&&(Z["join"+E].disabled=!0);break;case 1:~P[3]&2&&(Z["join"+E].disabled=!0);break;case 2:~P[3]&4&&(Z["join"+E].disabled=!0);break;case 3:~P[3]&
8&&(Z["join"+E].disabled=!0)}else Z["join"+E].disabled=!0;M[E]=ea;Z["rule"+E].innerHTML=w(ea)}}D[A.ye]=M;"#rule3"==v&&f();"#rule4"==v&&d()}},join:function(v){if(g(!0)){for(var C=P[2],E=P[0],R,M=0;2>M;++M)if(v.id==["a23","a24"][M])if(R=~~ma[M].lobby,T==R){if(!ja(E)&&3>=C)return z.ERR({code:1020});R=ma[M].gt;v.disabled=!0}else{R=10001==R?"C00014237":10002==R?"C00025628":"";9==R.length&&yc.R({tag:"CS",lobby:R});Qa=2;v.disabled=!0;return}if(!R)if("joincs0"!=v.id&&"joincs1"!=v.id&&"joincs2"!=v.id)for(C=
k(),R=C[~~v.id.slice(-1)],M=0;6>M;++M)R==C[M]&&Z["rule"+M]&&(Z["rule"+M].disabled=Z["join"+M].disabled=!0);else if(S.ib)R=parseInt(S.rule[2],16),Z.joincs0.disabled=Z.joincs1.disabled=Z.joincs2.disabled=!0;else{if(S.joinfee&&ib){Vb.o(I(F.$e).replace("###",S.joinfee),3,function(){mb("//b.ron2.jp/csreg?lobby="+T+"&tsssessionid="+D[A.La],function(G){if(G)return console.log(G);G=Kb(this.response);z.ERR({code:G.res});1027==G.res&&(P[1]=G.expire,l(),P.yd())})});return}if(S.joinfee){var N=D[A.ga];if(!N||
!N.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)){Vb.o(I(F.Ng));return}Vb.o(I(F.$e).replace("###",S.joinfee),3,function(){mb("https://b.mjv.jp/csreg?lobby="+T+"&uname="+N,function(G){if(G)return console.log(G);G=Kb(this.response);z.ERR({code:G.res});1027==G.res&&(P[1]=G.expire,l(),P.yd())})});return}if(S.premiumonly&&ib){z.ERR({code:1020});return}if(S.premiumonly){N=D[A.ga];if(!N||!N.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)){Vb.o(I(F.Og));return}z.ERR({code:1020});return}}Qb(!0,1);Z.cancel.style.display=
"";Z.logout.style.display="none";yc.R({tag:"JOIN",t:T+","+R});jb[R]=1}},openurl:function(){Vb.o(I(F.Bh)+"<br><input type=text size=20 style='font-size:100%;'/>",3,function(v){v=v.getElementsByTagName("INPUT")[0];Pb.nk(v.value)})},cancel:function(){Qb(!1,"rule","join",1);Z.cancel.style.display="none";Z.logout.style.display="";jb={};P["#rule0"]();yc.R({tag:"JOIN"})},logout:function(){Qb(!0,3,1);L.Ma(11)},openmember:function(){Oa.open("//ron2.jp/3/member/?tsssessionid="+D[A.La],"_blank")},purchase:function(){if(ib)Oa.open("//ron2.jp/3/member/?tsssessionid="+
D[A.La],"_blank");else{var v=D[A.ga];v&&v.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?Ra&&(Oa.store||Oa.CdvPurchase)?P.o({tag:"STORE"}):Oa.open("https://tenhou.net/reg/?ID"+RegExp.$1,"_blank"):Vb.o("ログイン画面の「新規ID」からIDを取得してください")}},showad:function(){Oa.adBreak({type:"reward",name:"showad_lobby_reward",beforeAd:function(){console.log("beforeAd")},afterAd:function(){console.log("afterAd")},beforeReward:function(v){console.log("beforeReward");
v()},adDismissed:function(){console.log("adDismissed")},adViewed:function(){console.log("adViewed");alert("正常に広告が再生されました。")},adBreakDone:function(v){console.log("adBreakDone",v);v&&"frequencyCapped"==v.breakStatus&&alert("[error:frequencyCapped] しばらくしてから表示してください。")}})},hairi:function(){Oa.open("https://tenhou.net/2/",Ra?"_system":"_blank")},help:function(){Oa.open("https://tenhou.net/man/",
Ra?"_system":"_blank")},chatInput:function(){Vb.o("CHAT:<input type=text size=15 style='font-size:100%;'/>",3,function(v){v=v.getElementsByTagName("INPUT")[0];(v=v.value)&&yc.R({tag:"CHAT",text:v})})},ev0info:function(){Oa.open(ma[0].href,"_blank")},ev1info:function(){Oa.open(ma[1].href,"_blank")},webranking:function(){Oa.open(ib?"//ron2.jp/3/ranking.html":"https://tenhou.net/sc/","_blank")},mk:function(v){if(!ib&&!Z.joincs0&&Ja("#a31")){var C=Ja("#a31").childNodes;if(C&&!(2>C.length))if(v&&"join"==
v.name){v=~~v.id.slice(-1);v=~~k()[v];var E=C[1],R=~~P[17][0],M=~~P[16][0],N="";if(t.Kc(v)){var G=[0,0,0,0];switch(t.fe(v)){case 0:G[0]=20;G[1]=10;break;case 1:G[0]=40;G[1]=10;break;case 2:G[0]=50;G[1]=20;break;case 3:G[0]=60,G[1]=30}v&t.c?(G[0]+=G[1],G[1]=0,G[2]=zb[M]):G[3]=zb[R];v&t.B&&(G[0]*=1.5,G[1]*=1.5,G[2]*=1.5,G[3]*=1.5);N+=fa.$a[v&t.c?M:R]+K("[");N=v&t.c?N+(K("1"+tb.nb(1))+"+"+G[0]+"   "+K("2"+tb.nb(2))+"+"+G[1]+"   "+K("3"+tb.nb(3))+(0>G[2]?"":"+")+G[2]):N+(K("1"+tb.nb(1))+"+"+G[0]+"   "+
K("2"+tb.nb(2))+"+"+G[1]+"   "+K("3"+tb.nb(3))+"+0   "+K("4"+tb.nb(4))+(0>G[3]?"":"+")+G[3]);N+=K("]")+" "}N+=Gb((t.ie(v)?"１局":v&t.B?"東南":"東風")+(t.Kc(v)?v&t.c?"+3局サドンデス":"+4局サドンデス":"打ち切り"));N+=" "+Gb(K("ウマ")+(t.ie(v)?"×":t.$b(v)?v&t.c?"0-30":"10-30":v&t.c?"0-20":"10-20"));N+=" "+Gb(K("1本場")+(t.ie(v)?"--":t.$b(v)&&~v&t.B?v&t.c?"1000":"1500":v&t.c?"200":"300"));N+=" "+
Gb(K("明槓ドラ")+(t.Kc(v)?"後":"先"));N+=" "+Gb(K("喰断")+(v&t.ab?"×":"○"));N+=" "+Gb(K("祝儀")+(~v&t.fa?"×":v&t.ea?"1枚5000点":"1枚2000点"));N+=" "+Gb(K("東西場")+(t.$b(v)&&~v&t.B?"○":"×"));N+=" "+Gb(K("和了止め")+"○");N+=" "+Gb(K("聴牌止め")+"○");t.$b(v)&&(N+=" "+Gb(K("段位変動")+"ナシ"));E.innerHTML=N;C[0].style.display="none";C[1].style.display=
""}else C[1].innerHTML="",C[0].style.display="",C[1].style.display="none"}},sk:function(v){var C=k();C[3]=C[4]=v;D[A.ye]=C},uk:function(v){var C={};if(v)for(var E=0;E<v.length;++E)for(var R=v[E],M=R[3],N=0;4>N;++N)ja(R[4+3*N])&&(C[R[4+3*N]]=M);var G=Ja("#plist");G&&mb("//wp.ron2.jp/3/lobby_stat_live/L0001.ini",function(V){function na(Ia,La,Ta){Ta="G"!=Ta?K("待機中"):C[La]?t.za(C[La],ib):"対戦中";return(Ia&&0==Ia%wa?"</tr><tr>":"")+"<td style='color:#FFF;"+(4>=ha.length?"text-align:left;":
"")+(12>=ha.length||1>Ia/wa?"":"padding-top:0.4em;")+(4>=ha.length&&Ia%wa?"padding-left:1em;'":"")+"'><div style='position:relative;display:inline-block;overflow:hidden;width:"+ea+"rem;height:"+ea+"rem;border-radius:10%;border:0.08rem solid #444;vertical-align:middle;font-size:"+ea/10+"rem;'><img src='https://cdn.tenhou.net/ron2/3/res/480x480/_"+Aa(La).replace(/%/g,"").toUpperCase()+".jpg' style='height:100%;'/>"+(!La||4>=ha.length?"":"<div class=ts1 style='position:absolute;width:100%;padding:"+
ea/10*.15+"rem 0 0 0;bottom:0;background:rgba(0,0,0,0.8);text-align:center;'>"+La+"</div><div class=ts1 style='position:absolute;width:100%;padding:"+ea/10*.15+"rem "+ea/10*.5+"rem;top:0;background:rgba(0,0,0,0.5);'>"+Ta+"</div>")+"</div>"+(4>=ha.length?"<div class=ts1e style='display:inline-block;font-size:"+oa+"rem;vertical-align:middle;'>"+La+(La?"<br>":"")+Ta+"</div>":"")+"</td>"}if(V)return console.log(V);var ha=(this.response||"").split(/\r?\n/).map(function(Ia){return Ka(Ia)}).filter(function(Ia){return ja(Ia)}),
ea=10>=ha.length?6:5.1,oa=2>=ha.length?1.2:4>=ha.length?1:ea/9,wa=4>=ha.length?2:12>=ha.length?ha.length+1>>1:6;V="<table cellpadding=0 cellspacing=0 style='"+(4>=ha.length?"margin:auto;":"width:100%;")+"height:100%;'><tr>";for(var Ea=0;Ea<ha.length;++Ea)V+=na(Ea,ha[Ea].slice(0,-2),ha[Ea].slice(-1));for(var Xa=Math.max(1,Math.ceil(ha.length/wa));Ea<wa*Xa;++Ea)V+=na(Ea,"",K("準備中"));G.innerHTML=V+"</tr></table>"})}}}());P["#rule1"]=P["#rule2"]=P["#rule3"]=P["#rule4"]=P["#rule5"]=P["#rule0"];Da(P,{NINTEI:function(a,k){a=a.nintei;var g="%E6%96%B0%E4%BA%BA %EF%BC%99%E7%B4%9A %EF%BC%98%E7%B4%9A %EF%BC%97%E7%B4%9A %EF%BC%96%E7%B4%9A %EF%BC%95%E7%B4%9A %EF%BC%94%E7%B4%9A %EF%BC%93%E7%B4%9A %EF%BC%92%E7%B4%9A %EF%BC%91%E7%B4%9A %E5%88%9D%E6%AE%B5 %E4%BA%8C%E6%AE%B5 %E4%B8%89%E6%AE%B5 %E5%9B%9B%E6%AE%B5 %E4%BA%94%E6%AE%B5 %E5%85%AD%E6%AE%B5 %E4%B8%83%E6%AE%B5 %E5%85%AB%E6%AE%B5 %E4%B9%9D%E6%AE%B5 %E5%8D%81%E6%AE%B5 %E5%A4%A9%E9%B3%B3%E4%BD%8D".split(" "),e=!1,c=-1,b="",l="20201010";a.match(/%E3%82%B5%E3%83%B3%E3%83%9E/)&&
(e=!0);a.match(/ ((?:%[0-9A-F]{2})+)%0A%0A/)&&(c=g.indexOf(RegExp.$1));a.match(/%0A%0A([^ ]+) %E6%AE%BF%0A/)&&(b=decodeURIComponent(RegExp.$1));a.match(/%0A%0A(\d{4})%E5%B9%B4(\d{2})%E6%9C%88(\d{2})%E6%97%A5%0A/)&&(l=RegExp.$1+RegExp.$2+RegExp.$3);a=decodeURIComponent(a);0<c&&b&&(a=(e?I(F.Uh):I(F.Vh)).replace(/\$UNAME/g,b).replace(/\$DAN/g,decodeURIComponent(g[c])).replace(/\$YYYY/g,l.substr(0,4)).replace(/\$MM/g,l.substr(4,2)).replace(/\$DD/g,l.substr(6,2)));a=a.replace(/\n/g,"<br>");k.innerHTML=
"<div style='font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;'>認定</div><div style='text-align:left;margin:1em 0;display:inline-block;'>"+a+"</div><button name=ok style='padding:0 2em;'>OK</button>";Pc(k);P.b.style.opacity="0";qb(function(){Da(P.b.style,{transition:"all 3000ms ease-out 0ms",opacity:""});sb(P.b,rb)},1)}});
Da(P,function(){function a(g){for(var e=0;3>e;++e)Z["pane"+e].style.display=e==g?"":"none"}var k=new Image;setTimeout(function(){k.src="https://cdn.tenhou.net"+(ib?"/ron2/3/res/logo_20220719.png":"/3/res/img/bglogow_0921x0651.png")},1);return{LOGIN:function(g,e){Vc.style.display="";Wc.style.display="none";for(var c=0;4>c;++c)jc.Me[c].style.display="none";L.b.style.display="none";z.ua();c="";location.search.match(/^\?(L[1-9][0-9]{3})/)?c=K(I(F.qf))+RegExp.$1:location.search.match(/^\?(C[0-9]{8})/)&&
(c=K(I(F.pf))+RegExp.$1.substr(0,5));c="<div style='position:relative;padding:0.5em 0em;'><img id=a27 src='"+k.src+"' style='width:18em;'/><span style='position:absolute;bottom:2em;'>"+c+"</span></div><div id=pane0><button name=clearid>"+I(F.Mh)+"</button><div class=select-wrapper><button name=sx></button></div><div class=select-wrapper><button name=mvlb>"+(c?I(F.Oh):I(F.Nh))+"</button></div><button name=ok style='padding:0 1em;'>OK</button></div><div id=pane1><button class=w100 name=ok>"+I(F.Qh)+
"</button><br><button name=regid>"+I(F.rf)+"</button><button name=idcont>"+I(F.Ph)+"</button><br></div><div id=pane2><button name=regemail>"+I(F.rf)+"</button><button name=ok>LOGIN</button><br></div>";e.innerHTML=c;Pc(e);a(-1);Z["pane"+(ib?2:D[A.ga]?0:1)].style.display="";P["#sx"]();if("AUTOLOGIN"==g.tag||D[A.Mb])P.b.style.display="none",P.ok()},clearid:function(){Vb.o("<hr><input type=text readonly value='"+(D[A.he]?"ID########-########":D[A.ga])+"' style='border:none;width:100%;text-align:center;font-size:100%;'/><hr>"+
I(F.Lh),3,function(){D.removeItem(A.ga);a(1)})},sx:function(){Vb.ka("<div class=A id='#sx-M'>"+I(F.tf)+"</div><div class=A id='#sx-F'>"+I(F.sf)+"</div>","",0)},"#sx":function(g,e){"F"==(g?e:"F"==D[A.Hb]?"F":"")?(Z.sx.innerHTML=I(F.Rh),D[A.Hb]="F"):(Z.sx.innerHTML=I(F.Sh),D.removeItem(A.Hb))},mvlb:function(){Vb.ka("<a class=A href='?L0000' >"+I(F.gi)+I(F.hi)+"</a><a class=A href='?C00112233' >"+I(F.ai)+I(F.bi)+"</a><a class=A href='?C00223344' >"+I(F.ci)+I(F.di)+"</a><a class=A href='?C00334455' >"+
I(F.ei)+I(F.fi)+"</a><div class=A id='#sellb' >"+I(F.ki)+I(F.li)+"</div><a class=A href='https://tenhou.net/make_lobby.html' target=_blank>"+I(F.ii)+I(F.ji)+"</a>","font-size:80%;",0)},"#sellb":function(){var g="0000";location.search.match(/^\?(L[1-9][0-9]{3}|C[0-9]{8})/)&&(g=RegExp.$1.substr(1));Vb.o(I(F.Wh)+"<div style='font-size:75%;'>"+I(F.qf)+"L<span style='color:#F00;'>8141</span> / "+I(F.pf)+"C<span style='color:#F00;'>00112233</span></div><input type=text size=15 value='"+g+"' style='font-size:100%;'/><br>",
3,function(e){e=e.getElementsByTagName("INPUT")[0];e=e.value;e.match(/^L?(\d{4})$/)?location.href="?L"+RegExp.$1:e.match(/^C?(\d{8})$/)&&(location.href="?C"+RegExp.$1)})},regid:function(){Vb.o(I(F.Zh)+"<br><input type=text size=22 style='font-size:100%;'/><br>",3,function(g){g=g.getElementsByTagName("INPUT")[0];var e=g.value;if(e)return mb("https://b.mjv.jp/regid?q=1&uname="+encodeURIComponent(e),function(c){if(c)return console.log(c);c=Kb(this.response);0!=c.res?z.ERR({code:c.res}):(e=decodeURIComponent(c.uname),
Vb.o(e+"<br><br>"+I(F.Th),3,function(){mb("https://b.mjv.jp/regid?uname="+encodeURIComponent(e),function(b){if(b)return console.log(b);b=Kb(this.response);1012!=b.res?z.ERR({code:b.res}):(D[A.ga]=b.id,Vb.o("<hr><input type=text readonly value='"+D[A.ga]+"' style='border:none;width:100%;text-align:center;font-size:100%;'/><hr>"+I(1012)),a(0))})}))}),!0})},idcont:function(){Vb.o(I(F.Xh)+"<br><input type=text size=22 placeholder='ID00000000-aabbccdd' style='font-size:100%;margin:0.25em'/><br><div id=info></div><small class=gray>"+
I(F.Yh)+"</small>",3,function(g){g=g.getElementsByTagName("INPUT")[0];var e=g.value;g=Ma.getElementById("info");if("ID00000000"!=e.substr(0,10)&&e.match(/^ID[0-9A-F]{8}\-[0-9a-zA-Z]{8}$/))g.innerHTML="";else return g.innerHTML="<span style='font-size:75%;color:#F00'>"+I(F.$h)+"</span>",!1;D[A.ga]=e;a(0);return!0})},regemail:function(){function g(b,l){var d=Ja("#a22");d.innerHTML="loading";var f=Ja("INPUT[type=submit]");f.disable=!0;Nb(b,l,function(m){if(m)return alert(m);d.innerHTML=this.response;
f.value="//ron2.jp/3/member/?tos"!=b?"OK":"ja"==tb.wc()?"同意する":"AGREE";Na(d);if(m=Ja("INPUT[name=tsssessionid]"))D[A.La]=m.value})}function e(){P.o({tag:"LOGIN"})}var c="";Vb.o("loading",3,function(b){for(var l=b.getElementsByTagName("INPUT"),d={},f=0;f<l.length;++f)l[f].name&&l[f].value&&(d[l[f].name]=encodeURIComponent(l[f].value));if(d.email&&d.email_){if(!/^[a-z0-9]+[a-z0-9\._-]*@[a-z0-9_-]+[a-z0-9\._-]+$/.test(Ka(d.email))||d.email!=d.email_)return alert("メールアドレスを確認してください。+記号や大文字は使用できません。"),
!1;g("//ron2.jp/3/member/?email=","email="+d.email+"&email_="+d.email_)}else if(d.digit6&&d.eid)g("//ron2.jp/3/member/?mailsended="+d.eid,"digit6="+d.digit6);else if(d.uname&&d.eid)g("//ron2.jp/3/member/?"+d.eid,"uname="+d.uname),c=d.uname;else if(d.password&&d.password_&&d.eid){if(6>Ka(d.password).length||d.password!=d.password_)return alert("パスワードをもう一度確認してください"),!1;g("//ron2.jp/3/member/?"+d.eid,"password="+
d.password+"&password_="+d.password_+"&uname="+c)}else if(d.eid)g("//ron2.jp/3/member/?mailsended="+d.eid);else if(b.getElementsByTagName("TEXTAREA").length)g("//ron2.jp/3/member/?email=",null);else return e();return!1},e);P.qa(function(){g("//ron2.jp/3/member/?tos")})}}}());P.AUTOLOGIN=P.LOGIN;Da(P,{SPLASH:function(a,k){var g=Oa.tenhouEventInfo,e=4>g.length?2:5,c=.5>Math.random()?0:2;a="<table cellpadding=0 cellspacing=0 align=center width=100% style='font-size:0;'><tr>";for(var b=0;b<e;++b){var l=g.splice(Math.floor(Math.random()*g.length),1)[0],d=b!=c&&5==e?1:2,f=l.href,m=l.img?l.img:l.href+"title.jpg";"https://"!=f.substr(0,8)&&(f="https://tenhou.net"+f);"https://"!=m.substr(0,8)&&(m="https://cdn.tenhou.net"+m);a+="<td rowspan="+d+" colspan="+d+" width="+25*d+"% ><a href='"+f+"' target=_blank><img src='"+
m+"' border=0 style='width:100%;'/></a></td>";2==b&&(a+="</tr><tr>");g.length<e-b-1&&g.push(l)}a+="</tr></table><div style='padding:0.75em 0;'><small>";Oa.info&&(a+=Oa.info);Oa.tenhouAnnounce&&(a+=Oa.tenhouAnnounce);g=location.href.replace(/^https?:/,"tenhouapp:");e="https://tenhou.net/4/"+location.search;a+="</small></div><div style='position:relative;'><button disabled name=ok style='width:6em;'>OK</button>";Ra||ib||(a+="<a href='"+g+"' style='position:absolute;border:1px solid #444;border-radius: 0.2em;top:0.75em;padding:0.5em;color:#888;right:0;'>アプリで開く</a>");
Ra||ib||(a+="<div style='position:absolute;left:0;top:1.25em;'><span style='position:absolute;color:#F00;font-weight:bold;font-size:75%;top:-2em;'>NEW!</span><a href='"+e+"' style='border:1px solid #444;border-radius:0.2em;padding:0.5em;color:#888;'>Desktop4K版で開く</a></div>");k.innerHTML=a+"</div>";Pc(k);setTimeout(function(){Ja("[name=ok]").disabled=!1},1E3)}});Ra&&Da(P,function(){var a,k=Oa.store;!k.register&&Oa.CdvPurchase&&(k=Oa.CdvPurchase.store);return{STORE:function(g,e){a=-1;g="<div><br><br>"+I(F.ej)+"<br><br><div class=select-wrapper><button name=iap>SELECT PRODUCT</button></div><br><br><button name=storePurchase style='width:8em;'>"+I(F.fj)+"</button><br></div><br><br><hr><button name=exit style='width:6em;'>CLOSE</button>";e.innerHTML=g;Pc(e)},storePurchase:function(){if(-1!=a&&D[A.ga].match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)){var g=a,e;for(e in k.products){var c=
k.products[e];c&&c.id&&c.id==a&&c.offers&&c.offers[0]&&(g=c.offers[0])}Qb(!0,2);k.order(g)}},iap:function(){var g="",e;for(e in k.products){var c=k.products[e];c&&c.title&&(g+="<div class=A id='#iap-"+e+"'>"+Gb(c.title)+"<br>"+(c.price||c.offers&&c.offers[0]&&c.offers[0].pricingPhases&&c.offers[0].pricingPhases[0]&&c.offers[0].pricingPhases[0].price)+"</div>")}Vb.ka(g,"font-size:75%;",0)},"#iap":function(g,e){g=k.products[~~e];a=g.id;Z.iap.innerHTML=g.title+" "+(g.price||g.offers&&g.offers[0]&&g.offers[0].pricingPhases&&
g.offers[0].pricingPhases[0]&&g.offers[0].pricingPhases[0].price)}}}());
Ra&&Fa(Ma,"deviceready",function(){var a=Oa.store;!a.register&&Oa.CdvPurchase&&(a=Oa.CdvPurchase.store);if(1.3>(Oa.storeVersion||0)){var k="net.tenhou.catalog20170119.";a.register({id:k+"ex30",type:a.CONSUMABLE});a.register({id:k+"ex60",type:a.CONSUMABLE});a.register({id:k+"ex120",type:a.CONSUMABLE});a.register({id:k+"ex180",type:a.CONSUMABLE});a.register({id:k+"ex300",type:a.CONSUMABLE})}else if(a.initialize){var g=Oa.CdvPurchase.Platform;k="net.tenhou.catalog20170211.";a.register({id:k+"ex30",type:a.NON_RENEWING_SUBSCRIPTION,
platform:g.GOOGLE_PLAY});a.register({id:k+"ex60",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.GOOGLE_PLAY});a.register({id:k+"ex120",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.GOOGLE_PLAY});a.register({id:k+"ex180",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.GOOGLE_PLAY});a.register({id:k+"ex300",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.GOOGLE_PLAY});a.register({id:k+"ex600",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.GOOGLE_PLAY});a.register({id:k+"ex30",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.APPLE_APPSTORE});
a.register({id:k+"ex60",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.APPLE_APPSTORE});a.register({id:k+"ex120",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.APPLE_APPSTORE});a.register({id:k+"ex180",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.APPLE_APPSTORE});a.register({id:k+"ex300",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.APPLE_APPSTORE});a.register({id:k+"ex600",type:a.NON_RENEWING_SUBSCRIPTION,platform:g.APPLE_APPSTORE})}else k="net.tenhou.catalog20170211.",a.register({id:k+"ex30",type:a.NON_RENEWING_SUBSCRIPTION}),
a.register({id:k+"ex60",type:a.NON_RENEWING_SUBSCRIPTION}),a.register({id:k+"ex120",type:a.NON_RENEWING_SUBSCRIPTION}),a.register({id:k+"ex180",type:a.NON_RENEWING_SUBSCRIPTION}),a.register({id:k+"ex300",type:a.NON_RENEWING_SUBSCRIPTION}),a.register({id:k+"ex600",type:a.NON_RENEWING_SUBSCRIPTION});a.when("product").approved(function(e){D[A.ga].match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?(a.validator="https://tenhou.net/reg/via_cordova.cgi?id="+RegExp.$1,e.verify()):e.finish()});a.when("product").verified(function(e){e.finish()});
a.when("product").unverified(function(e){e.finish()});a.when("product").finished(function(){Qb(!1,2)});try{a.when("product").cancelled(function(){Qb(!1,2)})}catch(e){}a.error(function(e){"6777001"==e.code||"6777002"==e.code?a=void 0:"6777006"==e.code?Qb(!1,2):Tb("------ error",JSON.stringify(e));Qb(!1,2)});a.ready(function(){});a.initialize?a.initialize():a.refresh()});Da(P,function(){function a(u){return u.replace(/\s+$/,"")}function k(u){return wb(u).replace(/(\d)([mpsz])(?![mpsz])/g,function(y,r,w){y=("m"==w?10:"p"==w?20:"s"==w?30:40)+~~r;10==y&&(y=51);20==y&&(y=52);30==y&&(y=53);40==y&&(y=69);r=~~(.6*Q.I[0]);return"<img src='https://cdn.tenhou.net/6/img/edit"+la(3,r)+0+la(2,y)+".png' style='background:"+(69==y?"#444":"#EEE")+";vertical-align:middle;' width='"+r/cb+"px' />"})}function g(u){var y=u>>2;return(27>y&&16==u%36?"0":y%9+1)+"mpsz".substr(y/9,1)}function e(u){Z.trtitle.innerHTML=
p.title||"天鳳トレーニング";Z.trprogress.innerHTML="<span class=gray style='float:right;font-weight:bold;'>"+(u?"A":"Q")+la(2,m?m[0]+1:1)+"/"+la(2,m?m.container.length:1)+"</span>";Z.trmain.innerHTML=k((p[u?"explanation":"question"]||"").replace(/\n/g,"<br>"));Z.trmain.style.height=(u?14:8)+"em";Z.ok.disabled=!1;switch(u){case 0:x=!1;P.b.classList.remove("hide");Z.ok.innerHTML="OK";yc.Pc();z.ua();z.connected=15;u=P[17]||"";yc.Ra({tag:"UN",n0:P[0]||"自家",n1:"下家",
n2:"対面",n3:"上家",dan:~~u[0]+",0,0,0",rate:parseFloat(u[2])+",0,0,0",sx:("F"==D[A.Hb]?"F":"M")+",M,M,M"});z.Ea=0;jc.na();var y=[qa(yb(p.hai0)),qa(yb(p.hai1)),qa(yb(p.hai2)),qa(yb(p.hai3))];u=[];p.packet&&Array.prototype.push.apply(u,JSON.parse(JSON.stringify(p.packet)));2==y[0].length%3&&u.push({tag:"T"+y[0].pop()});var r=(p.seed?p.seed:"0,0,0,0,0,").split(",");p.kyoku&&(r[0]=p.kyoku);p.honba&&(r[1]=p.honba);p.nagare&&(r[2]=p.nagare);p.dora&&(r[5]=r[5]=yb(p.dora));yc.Ra({tag:"TRAININGINIT",
seed:""+r,ten:p.ten,oya:~~p.oya,hai0:""+ua(y[0]),m0:p.m0,kawa0:yb(p.kawa0),hai1:""+ua(y[1]),m1:p.m1,kawa1:yb(p.kawa1),hai2:""+ua(y[2]),m2:p.m2,kawa2:yb(p.kawa2),hai3:""+ua(y[3]),m3:p.m3,kawa3:yb(p.kawa3)});for(y=0;y<u.length;++y)yc.Ra(Yb.Zc(u[y]));break;case 1:Z.ok.innerHTML="NEXT"}P.We(1)}function c(u){if(h)return u();mb("https://tenhou.net/3/tr/auth.cgi?"+D[A.ga],function(y){if(y)return z.ERR({code:1200});h=this.response;u()})}function b(u){p=m=void 0;n=u.match(/\.json$/)?u:"free-sample.json";mb("https://tenhou.net/3/tr/"+
n+"?"+h,function(y){if(y)return alert("問題ファイルを読み込めませんでした");y=this.response;try{p=JSON.parse(y)}catch(J){alert("JSONに不具合があるため読み込めませんでした\n\n"+J);return}if("membersonly"==p.error||"subscribe"==p.error){y=D[A.ga];if(!y||!y.match(/^ID[0-9A-F]{8}-[0-9A-Za-z]{8}$/))return z.ERR({code:1200});"membersonly"==p.error?Vb.o("この問題は有料会員に公開されています。<br><br>会費のお支払いをお願いいたします。",
3,P.purchase,P.exit):Vb.ka("<div style='margin:0.5em;'>購読期間と料金を選択してください。</div><div class=A id='#trs-1'>1日間 - 有効期限7日分</div><div class=A id='#trs-7'>7日間 - 有効期限8日分</div><div class=A id='#trs-21'>21日間 - 有効期限9日分</div>","",0)}else if(p.container)m=p,P["#trjump"](0,0);else if(Pb.tredit){if(!Z.json)if(90>
P[2])alert("編集機能を利用するには有効期限の残り日数が90日以上必要です。");else{ac.style.height=$b=0;Pa.style.overflow="";for(var r="<br><hr><br><table class=trtab width=100%><tr><td class=bth width=1>表題</td><td width=100%><input name=title style='width:100%;'></td></tr><tr><td class=bth width=1>問題</td><td width=100%><textarea name=question maxlength=1024 rows=10 style='width:100%;'></textarea></td></tr><tr><td class=bth width=1>回答</td><td width=100%><input name=answer style='width:100%;'><br>"+
K("カンマ区切 例)8m,8p,r2p(リーチ2p)")+"</td></tr><tr><td class=bth width=1>解説</td><td width=100%><textarea name=explanation maxlength=4096 rows=10 style='width:100%;'></textarea></td></tr><tr><td class=bth width=1>補足</td><td width=100%><textarea name=comment maxlength=4096 rows=10 style='width:100%;'></textarea></td></tr></table><hr><table class=trtab width=100%><tr><td class=bth width=1>局</td><td><input name=kyoku><br>"+K("0:東1局 ... 7:南4局")+
"</td></tr><tr><td class=bth width=1>本場</td><td><input name=honba></td></tr><tr><td class=bth width=1>供託</td><td><input name=nagare></td></tr><tr><td class=bth width=1>ドラ</td><td><input name=dora></td></tr><tr><td class=bth width=1>親</td><td><input name=oya><br>"+K("0:自家 1:下家 2:対面 3:上家")+"</td></tr></table>",w=["自家","下家","対面","上家"],B=0;4>B;++B)r+="<br><hr><br><span class=bth>■"+
w[B]+"</span><br><table class=trtab width=100%><tr><td class=bth width=1>点数</td><td width=100%><input name=ten"+B+" style='width:100%;'></td></tr>",B||(r+="<tr><td class=bth width=1>手牌</td><td width=100%><input name=hai"+B+" style='width:100%;'></td></tr>"),r+="<tr><td class=bth width=1>副露</td><td width=100%><input name=m"+B+" style='width:100%;'></td></tr><tr><td class=bth width=1>河</td><td width=100%><input name=kawa"+B+" style='width:100%;'></td></tr></table>";
r=r+"<br><hr><br><div id=verify></div><br><hr><br><span class=bth>■JSON</span><br><textarea name=json maxlength=8192 rows=40 style='width:100%;font-size:75%;'>"+(JSON.stringify(p,null,"\t")+"</textarea>");cc.innerHTML=r;r=cc.getElementsByTagName("TEXTAREA");for(w=0;w<r.length;++w)Fa(r[w],"change","json"==r[w].name?f:d);r=cc.getElementsByTagName("INPUT");for(w=0;w<r.length;++w)Fa(r[w],"change",d);Pc(cc,Z)}123==u.charCodeAt(0)&&(y=p,p=JSON.parse(u),p.title=p.title||y.title,p.question=p.question||
y.question,p.answer=p.answer||y.answer,p.explanation=p.explanation||y.explanation,p.comment+=y.comment,y=JSON.stringify(p));Z.json.value=y;f()}else P["#trjump"](0,0)})}function l(){var u="■合計得点<br>'"+(Z.ten0.value+"' + '"+Z.ten1.value+"' + '"+Z.ten2.value+"' + '"+Z.ten3.value+"' = "+(~~Z.ten0.value+~~Z.ten1.value+~~Z.ten2.value+~~Z.ten3.value)+"<br><br>");u+="■使用枚数<br>";var y=yb(Z.hai0.value);y+=","+yb(Z.dora.value);for(var r=0;4>r;++r){y+=","+yb(Z["kawa"+
r].value);var w=Z["m"+r].value;if(w){w=w.split(",");for(var B=0;B<w.length;++B){var J={m:w[B]};Ac(J);var Y=J[0];if(1==Y.length)switch(J[2]){case 4:case 5:case 2:J=Y[0]>>2,Y=[J,J+1,J+2,J+3]}Y&&(y+=","+Y)}}}r=[];for(B=0;38>B;++B)r[B]=0;y=y.split(",");for(B=0;B<y.length;++B)J=y[B],""!=J&&255!=J&&254!=J&&(136==J?r[30]++:16==J?r[0]++:52==J?r[1]++:88==J?r[2]++:r[10*~~(J/4/9)+~~(J/4)%9+1]++);r[30]="-";for(B=0;38>B;++B)u+=k(30==B?"0z":ub(36*~~(B/10)+(B%10?B%10*4-1:16)))+r[B]+" ",9==B%10&&(u+="<br>");Z.verify.innerHTML=
u}function d(){if(Z.json){var u=p.packet;p={};p.title=a(Z.title.value);p.question=a(Z.question.value);p.answer=a(Z.answer.value);p.explanation=a(Z.explanation.value);p.comment=a(Z.comment.value);""==p.comment&&delete p.comment;var y="0 0 0 0 0 ".split(" ");"0"!=Z.kyoku.value&&(y[0]=Z.kyoku.value);"0"!=Z.honba.value&&(y[1]=Z.honba.value);"0"!=Z.nagare.value&&(y[2]=Z.nagare.value);""!=Z.dora.value&&(y[5]=yb(Z.dora.value));p.seed=""+y;p.oya=Z.oya.value;p.ten=[Z.ten0.value,Z.ten1.value,Z.ten2.value,Z.ten3.value];
Z.hai0.value&&(p.hai0=vb(yb(Z.hai0.value).split(",")));for(y=0;4>y;++y)""!=p.ten[y]&&(p.ten[y]=~~(p.ten[y]/100)),Z["m"+y].value&&(p["m"+y]=Z["m"+y].value),Z["kawa"+y].value&&(p["kawa"+y]=vb(yb(Z["kawa"+y].value).split(",")));p.ten=""+p.ten;u&&(p.packet=u);Z.json.value=JSON.stringify(p,null,"\t").replace(/"packet": \[[^\]]*\]/,"'packet': "+JSON.stringify(u));e(0);l()}}function f(){if(Z.json){try{p=JSON.parse(Z.json.value)}catch(r){alert("JSONに不具合があるため読み込めませんでした\n\n"+
r);return}var u=(p.seed?p.seed:"0,0,0,0,0,").split(",");Z.title.value=p.title||"";Z.question.value=p.question||"";Z.answer.value=p.answer||"";Z.explanation.value=p.explanation||p.description||"";Z.comment.value=p.comment||"";Z.kyoku.value=p.kyoku||u[0];Z.honba.value=p.honba||u[1];Z.nagare.value=p.nagare||u[2];Z.dora.value=p.dora||vb(u.slice(5));Z.oya.value=p.oya||0;u=(p.ten?p.ten:",,,").split(",");for(var y=0;4>y;++y)Z["ten"+y].value=""!=u[y]?100*u[y]:"",y||(Z["hai"+y].value=p["hai"+y]||""),Z["m"+
y].value=p["m"+y]||"",Z["kawa"+y].value=p["kawa"+y]||"";e(0);l()}}var m,p,h,n="",x=!1;return{TRAINING:function(u,y){z.a=4;yc.qa();y.innerHTML="<div style='width:100%;'><table width=100% cellpadding=0 cellspacing=0><tr><td align=left class=gray id=trtitle></td><td id=trprogress align=right></td></tr></table><hr><div style='position:relative;'><div id=trmain class=vscl style='line-height:1.2em;height:8em;overflow-y:scroll;text-align:left;'><br><br>"+K("<center>左下のメニューからトレーニングを終了して<br><br>もう一度開いてください。</center>")+
"</div><div class=sblink style='visibility:hidden;'>▼</div></div><hr><table width=100% cellpadding=0 cellspacing=0><tr><td align=left width=1><button name=trmenu style='font-family:cwTeX-Q-Kai-T,icons2,serif;'></button></td><td class=ra0 style='border:1px solid #444;' width=100%><span class='bt3 ra0' style='color:#444;font-size:150%;'>卓表示<span></td><td align=right width=1><button name=ok style='width:6em;' disabled>OK</button></td></tr></table></div>";Pc(y);P.b.classList.add("flipinhs");
c(function(){b(u.file)})},We:function(u){Qb(!1,"ok");P.b.style.display=u?"":"none";L.b.style.display=u?"none":"";L[1572868].innerHTML=" 問題"},rk:function(u){u&&"NEXT"!=Z.ok.innerHTML&&!pc.P.canvas.style.display?(P.We(0),2==q[32].length%3&&xc({tag:"T"}),Z.ok.innerHTML="CLOSE"):(P.b.classList.add("hide"),Ha(P.b,"animationend",function(){m&&(m[0]=(m[0]+1)%m.container.length,p=m.container[m[0]]);e(0)}))},Ag:function(u){console.log("sendTrainingAns",u);switch(u.tag){case "REACH":x=!0;yc.Ra({tag:"REACH",
who:0,step:1});return;case "D":var y=(x?"r":"")+g(u.p);break;case "N":y="N",u.type&&(y+="-"+u.type),u.hai0&&(y+="-"+u.hai0),u.hai1&&(y+="-"+u.hai1),u.hai2&&(y+="-"+u.hai2)}if(y){u=p.answer.split(",");for(var r=0;r<u.length&&u[r]!=y;++r);r<u.length&&(y="")}setTimeout(function(){if(y)e(1);else{Xb(O.ve,0,0);var w=ya("div",za,"flipinqs tsv",{innerHTML:"○"},{position:"absolute",left:"50%",top:"50%",fontSize:"1600%",fontWeight:"bold",pointerEvents:"none",marginTop:"-0.5em",marginLeft:"-0.5em"});setTimeout(function(){w.classList.add("hide");
Fa(w,"animationend",function(){w.parentNode.removeChild(w);e(1)})},1E3)}},1E3)},trmenu:function(){Vb.ka("<div class=A id='#trmenu-0'>他の問題に移動</div><div class=A id='#trmenu-1'>トレーニング終了</div>","",0)},"#trmenu":function(u,y){if("1"==y)Pb.tredit?location.reload():P.exit();else{u="";if(m)for(var r in m.container)u+="<div class=A id='#trjump-"+r+"'>Q"+la(2,~~r+1)+"</div>";else p.title&&(u+="<div class=A id='#trjump-0'>"+p.title+"</div>");
Vb.ka(u,"text-align:left;",0)}},"#trjump":function(u,y){m&&(u=~~y,p=m.container[u],m[0]=u);e(0)},"#trs":function(u,y){mb("https://tenhou.net/3/tr/subscribe.cgi?file="+n+"&auth="+h+"&type="+y,function(r){if(r)return console.log(r);r=this.response;r=JSON.parse(r);if("insufficient"==r.error)return z.ERR({code:1020});"ok"==r.error&&b(n)})},Hg:function(u,y){if(y){var r={},w=y.subscribing;if(w)for(var B=0;B<w.length;++B)r[w[B].file]=w[B].expire;u.innerHTML="";var J={free:"<span style='color:#088;font-weight:bold;'>【無料】</span>",
member:"<span style='color:#088;font-weight:bold;'>【会員無料】</span>",subscribing:"<span style='color:#880;font-weight:bold;'>【購読中】</span>"};w=y.all;for(B=0;B<w.length;++B)w[B].sg=1E3*(w[B].type||"undefined").length+B;w.sort(function(ma,Ba){return ma.sg-Ba.sg});for(B=0;B<w.length;++B){y=w[B];var Y=y.file,T=r[Y];Y="https://tenhou.net/0/?training="+Y;var S="<div style='position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;'>";
S+="<div class=nobr style='overflow:hidden;text-overflow:ellipsis;'>"+(J[T?"subscribing":y.type]||"")+" ";y.tip&&(S+="<span style='color:#F00;font-weight:bold;font-size:75%;'>"+y.tip+"</span> ");S+=y.title+"</div>";S+="<div class=nobr style='color:#CCC;overflow:hidden;text-overflow:ellipsis;font-size:75%;'>";S+="<span style='color:#000;background-color:#666;'>レベル:"+(y.level||"初中")+"</span> ";S+="問題数:"+y.n+" ";y.type&&(S+="毎月２～３回更新 ");
T&&(S+="購読終了:"+T+" ");S+="</div>";S+="<div class=nobr style='color:#666;overflow:hidden;text-overflow:ellipsis;'>"+(y.memo||"")+"</div>";S+="</div>";S+="<a href='"+Y+"' class=bt3 target=_blank></a>";ya("div",u,"",{innerHTML:S},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[1].onclick=P.trOpen}ya("div",u,"gray",{innerHTML:"●「長押し」または「右クリック」から別タブで開く/URLのコピーなどが行えます"},
{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}else u.innerHTML=K("<br>Loading ..."),r=(r=D[A.ga])&&r.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?RegExp.$1:"00000000",mb("https://tenhou.net/3/tr/free-index.json?"+r,function(ma){if(ma)return console.log(ma);ma=this.response;try{ma=JSON.parse(ma)}catch(Ba){return}P.Hg(u,ma)})},trOpen:function(u){if(!(u.shiftKey||u.altKey||u.ctrlKey||u.metaKey)){var y=D[A.ga];if(!y||!y.match(/^ID[0-9A-F]{8}-[0-9A-Za-z]{8}$/))return z.ERR({code:1200}),!1;u=u.target;
u=u.href.split(/\?training=/);if(1!=u.length)return P.o({tag:"TRAINING",file:u[1]}),!1}}}}());(function(){function a(){g=0}var k=null,g=0;Ga(Oa,{touchstart:a,touchend:a,touchcancel:a,mousedown:a,mouseup:a,mouseover:a,mouseout:a,keydown:a,blur:a});setInterval(function(){var e=Date.now();g||(g=e);e=36E5-(e-g);0>e&&(location.reload(),g=e=0);2E4>e?(k||(k=ya("div",za,"ts0",{},{position:"absolute",left:"0px",top:"0px"})),k&&(k.innerText="ENTERING POWERSAVING MODE "+~~(e/1E3))):k&&k.parentNode&&(k.parentNode.removeChild(k),k=null)},1E3)})();var oc=ya("div",za,"nosel ts0",{},{position:"absolute",fontSize:"60%",pointerEvents:"none",display:"none"}),q=function(){var a=0;return{Da:function(){oc.innerHTML=I(F.Oj);for(var k=0;4>k;++k)q[32|k]=[],q[48|k]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q[80|k]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q[16|k]=[],delete q[64|k]},qk:function(k){for(var g=[],e=0;e<q[32|k].length;++e)g.push(e);Ib(g,q[32|k]);for(e=0;e<q[32|k].length;++e)if(g[e]!=e){var c=
U[1024|k<<8|g[e]],b=U[1024|k<<8|e];lc.xd(0,b,0);b.zb(!0,k&&!L.u[1277960]?136:q[32|k][g[e]]);c=lc.Qa(0,c.i+b.s.offsetX,c.l+b.s.offsetY,b.i+b.s.offsetX,b.l+b.s.offsetY,.04,b.s,.5,b,1);k||wc(O.Nb,0,c)}Hb(q[32|k])},Bg:function(k){L.sa(256);rc.qa();if(1==z.a||!L.u[1277960]){var g=0;k&2&&(g=Math.max(g,q[33].length));k&4&&(g=Math.max(g,q[34].length));k&8&&(g=Math.max(g,q[35].length));g*=30;for(var e=0;e<g;e+=30)Xb(O.Nb,0,e);var c=0;e=0;pb()[ka++]=function(b){for(e+=b;c<e&&c<g;c+=30)for(b=1;4>b;++b)if(!(~k&
1<<b)){var l=~~(c/30),d=U[1024|b<<8|l];d.K&&(l=q[32|b][l],kc.gb(),d.Ca(0),d.L=b,d.s=ic[b<<8|hc.xc[l]],d.Ca(1),kc.hb())}return c<g}}},Pe:function(k){kc.gb();for(var g=0,e=q[32|k],c=0;14>c;++c){var b=U[1024|k<<8|c];if(b.K){var l=U[1024|k<<8|g];l.zb(!0,k&&!L.u[1277960]?136:e[g]);l.i=b.i;l.l=b.l;l.Ga(~X.mb,b.la&X.mb,!1);l.Ca(1);++g;a|=1<<k}else g<e.length&&e.splice(g,1)}for(;14>g;++g)b=U[1024|k<<8|g],b.K&&b.Ca(0);kc.hb()},Xc:function(k){if((k||L.u[1183750])&&(!k||L.u[1277960])){kc.gb();for(var g=q[32|
k],e=[],c=[],b=[],l=-1,d=0;d<g.length;++d){var f=U[1024|k<<8|d];f.K&&(b.push({Ad:d,la:f.la,i:f.i,l:f.l}),c.push(g[d]),0==k&&f==rc.ik()&&(l=e.length),e.push(e.length))}Ib(e,c);for(d=0;d<e.length;++d)if(g[b[d].Ad]=c[e[d]],f=U[1024|k<<8|b[e[d]].Ad],e[d]==d){if(f.i!=f.X||f.l!=f.$)a|=1<<k}else{var m=U[1024|k<<8|b[d].Ad];m.zb(!0,k&&!L.u[1277960]?136:c[e[d]]);f=b[e[d]];m.i=f.i;m.l=f.l;m.Ga(~(X.ya|X.Eb|X.mb),f.la&(X.ya|X.Eb|X.mb),!1);m.Ca(1);a|=1<<k}kc.hb();-1!=l&&rc.ca(U[1024|k<<8|b[e[l]].Ad])}},Wc:function(){for(var k=
0;4>k;++k)if(!(~a&1<<k)){for(var g=[],e=0,c=0,b=0;14>b;++b){var l=U[1024|k<<8|b];if(l.K){var d=l.i-l.X,f=l.l-l.$;if(0!=d||0!=f)g.length&&e!=d&&c!=f&&(U.kc(0,200,g),g=[]),e=d,c=f,g.push(l)}}g.length&&U.kc(0,200,g)}a=0}}}();
function xc(a){if(1==z.a||4==z.a)if(!P.b||P.b.style.display){var k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0];if(a)if("REACH"==a.tag)for(var g=aa.hk(),e=0;e<q[32].length;++e){var c=g[q[32][e]>>2];k[e]|=c&&c.length?X.ya:X.Eb}else if("T"==a.tag&&q[64])for(e=q[32].length-1,k[e]|=X.ya,--e;0<=e;--e)k[e]|=X.Eb;else if("N"!=a.tag||3!=a[2]&&1!=a[2])if("e"==a.tag||"f"==a.tag||"g"==a.tag||"E"==a.tag||"F"==a.tag||"G"==a.tag){var b=~~a.t,l=a[0]>>2;g=~~(l/9);c=[0,0,0,0,0,0,0,0,0];if(b&ba.da.Nc)for(e=0;e<q[32].length;++e){var d=
q[32][e]>>2;l==d&&(c[d%9]|=3)}if(b&ba.da.Fc){if(3>g)for(e=0;e<q[32].length;++e)d=q[32][e]>>2,g==~~(d/9)&&(c[d%9]|=1);e=l%9;6>=e&&c[e+1]&&c[e+2]&&(c[e+1]|=2,c[e+2]|=2);1<=e&&7>=e&&c[e-1]&&c[e+1]&&(c[e-1]|=2,c[e+1]|=2);2<=e&&c[e-2]&&c[e-1]&&(c[e-2]|=2,c[e-1]|=2)}for(e=0;e<q[32].length;++e)if(d=q[32][e]>>2,g!=~~(d/9)||~c[d%9]&2)k[e]|=X.Eb}else for(e=0;14>e;++e)k[e]|=X.ya;else for(g={},1==(a[0][2]>>2)-(a[0][1]>>2)?(0<(a[0][1]>>2)%9&&(g[(a[0][1]>>2)-1]=1),8>(a[0][2]>>2)%9&&(g[(a[0][2]>>2)+1]=1)):g[a[0][0]>>
2]=1,e=0;e<q[32].length;++e)k[e]|=g[q[32][e]>>2]?X.Eb:X.ya;else rc.qa(),L.sa(256);kc.gb();for(e=0;14>e;++e)qc.Ab(e,~(X.ya|X.Eb|X.Fb),k[e]);kc.hb();a&&rc.o(0,void 0,"T"==a.tag)}};var Q;
(function(a){a.I=[0,0,0,0,0,0,0,0];a.J=[0,0,0,0,0,0,0,0];a.Y=[0,0,0,0,0,0,0,0];a.qb=[0,0,0,0,0,0,0,0];a.vb=[0,0,0,0,0];a.wb=[0,0,0,0,0];a.yc=[0,0,0,0];a.zc=[0,0,0,0];a.Fe=[0,0,0,0];a.Ge=[0,0,0,0];a.lb=0;a.Bb=0;a.Jd=0;a.zd=0;a.Cd=!1;a.ca=function(k,g,e){function c(){b[1]=~~(2360*b[0]/31/56);d[0]=d[1]=d[4]=Math.min(~~(12*b[0]/31),~~(12*b[1]/40));l[0]=l[4]=~~(47*b[0]/31)-d[0];l[1]=~~(37*b[1]/40)-d[1];b[4]!=b[0]&&(d[4]=~~(12*b[4]/31),l[4]=~~(47*b[4]/31)-d[4]);b[2]=b[6]=b[0];d[2]=d[6]=d[0];l[2]=l[6]=l[0];
b[3]=b[1];d[3]=d[1];l[3]=l[1];b[5]=b[7]=~~(380*l[1]/460);d[5]=d[7]=~~(44*b[5]/19)-l[1];l[5]=l[7]=l[1];var h=2*l[1],n=2*b[0];f=m=0;1==hc.a||3==hc.a?(f=Math.max(f,n+17*b[0]+2*b[1]+n),m=Math.max(m,h+17*l[1]+2*l[0]+d[0]+l[4]+d[4]+(e?l[1]:0))):(f=Math.max(f,n+3*b[1]+6*b[0]+3*b[1]+n),m=Math.max(m,h+3*l[0]+6*l[1]+3*l[0]+d[0]+l[4]+d[4]+(e?l[1]:0)));f=Math.max(f,~~(14.1*b[4])+b[0]);a.zd=l[7]+d[7]-(l[3]+d[3]);m=Math.max(m,~~(2.1*l[1])+a.zd+4*(2*l[1]+l[0])+l[1]+d[1]+l[4]+d[4]);m=Math.max(m,l[0]+4*(2*l[1]+l[0])+
~~(2.1*l[1])+a.zd+2*l[1]+d[1]+(e?l[1]:0));return f<=k&&m<=g}var b=a.I,l=a.J,d=a.Y,f=0,m=0;for(b[0]=200;10<b[0];--b[0]){a.Cd=!0;b[4]=~~(31*(2*l[1]+d[0])/47);if(c())break;a.Cd=!1;b[4]=~~((k-b[0])/14.1);if(c())break}b[4]=~~((k-b[0])/14.1);for(b[4]=Math.min(b[4],~~(1.7*b[0]));10<b[4]&&!c();--b[4]);2==D[A.me]||!a.Cd||e||1!=z.a&&4!=z.a||1==hc.a||3==hc.a||(b[4]=~~((k-b[0])/14.1),b[4]=Math.min(b[4],~~(31*(l[4]+d[4])/47)+d[0]+~~(.3*l[0])),d[4]=~~(12*b[4]/31),l[4]=~~(47*b[4]/31)-d[4]);for(var p=0;8>p;++p)a.qb[p]=
a.I[p]-~~(5*a.Y[4==p?4:0]/12);g-m<k-f?m=~~g:f=~~k;a.Jd=Math.max(f,~~(14.1*b[4])+b[0]);a.lb=f;a.Bb=m}})(Q||(Q={}));Da(Cc.prototype,{Lb:function(){if(this.ha&&!this.pb)if(this.s&&1==this.K){var a=0;this.ta&&this.ta.s&&1==this.ta.K&&this.i+Q.I[this.L]==this.ta.i+Q.I[this.ta.L]&&this.l+Q.Y[this.L]==this.ta.l+Q.J[this.ta.L]+Q.Y[this.ta.L]&&(a|=this.ta.jb&&this.ta.jb.s&&1==this.ta.jb.K&&this.ta.i+Q.I[this.ta.L]==this.ta.jb.i&&this.ta.l==this.ta.jb.l?0:1);this.jb&&this.jb.s&&1==this.jb.K&&this.i+Q.I[this.L]==this.jb.i&&this.l+Q.J[this.L]==this.jb.l+Q.J[this.jb.L]&&(a|=2);this.kb&&this.kb.s&&1==this.kb.K&&this.i+Q.I[this.L]==
this.kb.i+Q.I[this.kb.L]&&this.l+Q.J[this.L]+Q.Y[this.L]==this.kb.l+Q.Y[this.kb.L]&&(a|=4);Nc[this.L<<8|a]?(this.ha.s=Nc[this.L<<8|a],this.ha.K=1):(delete this.ha.s,this.ha.K=0)}else delete this.ha.s},Ga:function(a,k,g){var e=this.la;e=e&a|k;a=this.Ba;k=this.ra;e&X.Fb?(this.Ba=ic[this.L<<8|60],this.ra=.3):e&X.Pa?(this.Ba=ic[this.L<<8|(e&X.ya?60:50)],this.ra=e&X.ya?.3:.2):e&X.Ia?(this.Ba=ic[this.L<<8|(e&X.ya?60:50)],this.ra=e&X.ya?.2:.1):e&X.Eb?(this.Ba=ic[this.L<<8|49],this.ra=.3):e&X.mb?(this.Ba=
ic[this.L<<8|50],this.ra=.2):e&X.Pb?(this.Ba=ic[this.L<<8|60],this.ra=.15):e&X.Aa?(this.Ba=ic[this.L<<8|49],this.ra=.3):e&X.dd?(delete this.Ba,delete this.ra):e&X.eb?(this.Ba=ic[this.L<<8|49],this.ra=e&X.Ce?.4:.15):(delete this.Ba,delete this.ra);this.la=e;!g||this.Ba==a&&this.ra==k||this.tg();return this},Ca:function(a){if(!this.s)return this;var k=0,g=0;this.K&&(k=this.ha.s?this.ha.s.offsetX+this.ha.s.wa:this.s.wa,g=this.s.Sa);this.K=a;this.Lb();this.ta&&this.ta.Lb();this.kb&&this.kb.Lb();this.Uc&&
(this.Uc.Lb(),this.Uc.kb&&this.Uc.kb.Lb());this.K&&(k=this.ha.s?this.ha.s.offsetX+this.ha.s.wa:k?k:this.s.wa,g=this.s.Sa);kc.Sb(this.i+this.s.offsetX,this.l+this.s.offsetY-this.pb,k,g);return this},zb:function(a,k){var g=this.L%4;a&&(g||(g+=4),g&&136==k&&(g+=4));this.s=ic[g<<8|hc.xc[k]];this.L=g;this.s||Tb("PH.setImage noimg ",g,k,hc.xc[k]);return this},tg:function(){void 0!==this.s&&0!==this.K&&kc.Sb(this.i,this.l-this.pb,this.s.wa,this.s.Sa)},Yb:function(){void 0!==this.s&&0!==this.K&&kc.Sb(this.i,
this.l-this.pb,this.ha.s?this.ha.s.offsetX+this.ha.s.wa:this.s.wa,this.s.Sa)}});
(function(){for(var a=[function(d,f){d.jb=f;f.Uc=d},function(d,f){d.ta=f;f.kb=d},function(d,f){d.Uc=f;f.jb=d},function(d,f){d.kb=f;f.ta=d}],k=[1024,14,2048,34,3072,26,4096,34,5120,5];k.length;)for(var g=k.shift(),e=k.shift(),c=0;4>c;++c){for(var b={},l=0;l<e;++l)U[g|c<<8|l]=b[l]=new Cc(c),U.Xa.push(b[l],b[l].ha);for(l=1;l<e;++l)if(!(2048==g&&17==l||3072==g&&6==l||3072==g&&12==l||4096==g&&17==l))a[c](b[l-1],b[l]);if(2048==g)for(l=0;17>l;++l)a[(c+1)%4](b[l],b[l+17]),b[l].Kb=b[l+17];if(3072==g)for(l=
6;18>l;++l)a[(c+1)%4](b[l],b[l-6]);if(4096==g)for(l=17;34>l;++l)a[(c+1)%4](b[l],b[l-17]);if(5120==g)break}for(l=0;a=U[1024|l];++l)a.ma=l})();
Da(U,{ca:function(){var a=Q.I,k=Q.J,g=Q.Y,e=Da(Q.vb,[a[0],0,-a[0],0,a[4]]),c=Da(Q.wb,[0,-k[1],0,k[1],0]),b=Da(Q.yc,[0,a[1],0,-a[1]]),l=Da(Q.zc,[k[0],0,-k[0],0]);Da(Q.Fe,[0,a[1]-a[0],a[0]-a[1],0]);Da(Q.Ge,[k[0]-k[1],k[1]-k[0],0,0]);var d=2*k[1],f=kc.P.canvas.offsetWidth*cb,m=kc.P.canvas.offsetHeight*cb,p=~~((f-Q.lb)/2),h=~~((m-Q.Bb)/2),n=p+Q.lb,x=h+Q.Bb-(D[A.Ha]&1?k[1]:0),u=6*a[0],y=6*k[1],r=p+~~((n-p-u)/2),w=h+d+k[0]*(1==hc.a||3==hc.a?5:3);if(1==hc.a||3==hc.a)w=h+d+2*k[0]+~~((17*k[1]+2*k[0]-y-4*k[0])/
2);U[W.je]=r;U[W.kf]=w+y;U[W.lh]=r+u;U[W.mh]=w+y-k[1];U[W.nh]=r+u-a[0];U[W.oh]=w-k[0];U[W.ph]=r-a[1];U[W.qh]=w;for(var B=0;4>B;++B)U.Dg(B);for(var J,Y=0;J=U[5120|Y];++Y)J.i=J.X=r+~~((u-5*a[0])/2)+a[0]*Y,J.l=J.$=w;if(3==hc.a){B=17*a[0]+2*a[1];J=17*k[1]+2*k[0];var T=r+~~((u-B)/2);d=h+d;d=[{Ib:T+B-a[0],Jb:d+J-k[0]},{Ib:T+B-a[1],Jb:d},{Ib:T,Jb:d},{Ib:T,Jb:d+J-k[1]}];for(B=0;4>B;++B)for(Y=0;J=U[4096|B<<8|Y];++Y)J.i=J.X=d[B].Ib-e[B]*(16-Y%17)-(17>Y?0:b[B]),J.l=J.$=d[B].Jb-c[B]*(16-Y%17)-(17>Y?0:l[B]),J.pb=
0}else if(1==hc.a)for(B=17*a[0]+a[1],J=17*k[1]+k[0],T=r+~~((u-B)/2),d=w+~~((y-J+g[0])/2),d=[{Ib:T+B-a[0],Jb:d+J-k[0]},{Ib:T+B-a[1],Jb:d},{Ib:T,Jb:d},{Ib:T,Jb:d+J-k[1]}],B=0;4>B;++B)for(Y=0;J=U[4096|B<<8|Y];++Y)J.i=J.X=d[B].Ib-e[B]*(16-Y%17),J.l=J.$=d[B].Jb-c[B]*(16-Y%17),J.pb=17>Y?0:g[B];else for(B=0;4>B;++B)for(Y=0;J=U[4096|B<<8|Y];++Y)J.i=J.l=J.pb=0;w+=g[0];U[W.Xd]=r;U[W.Yd]=w;U[W.Wd]=u;U[W.Vd]=y;e=3*Q.I[1];c=3*Q.J[0];U[W.Ef]=r+u+g[0];U[W.Si]=w+y+g[0];U[W.Ri]=e-g[0];U[W.Qi]=c-g[0];U[W.Vi]=r+u+g[0];
U[W.Wi]=w-c;U[W.Ui]=e-g[0];U[W.Ti]=c-g[0];U[W.Zi]=r-e;U[W.$i]=w-c;U[W.Yi]=e-g[0];U[W.Xi]=c-g[0];U[W.cj]=r-e;U[W.dj]=w+y+g[0];U[W.bj]=e-g[0];U[W.aj]=c-g[0];d=1==hc.a||3==hc.a?0:Q.J[0];U[W.Cf]=r;U[W.pe]=w+d;U[W.Bf]=u;U[W.Af]=y-d-g[0];U[W.Ka]=n-~~(14.1*a[4])-a[0];U[W.cb]=x-k[4]-g[4];U[W.wd]=U[W.Hi]=n-a[1];U[W.Zf]=U[W.Ii]=h;U[W.Be]=U[W.Ji]=p;U[W.mc]=n-a[0];U[W.ld]=x-g[0]-k[0];U[W.Ka]<p&&(e=~~((p-U[W.Ka])/2),U[W.Ka]+=e,U[W.mc]+=e);J=~~(2.1*k[1])+Q.zd+4*(2*k[1]+k[0])+(z.H&t.c?k[1]:0);U[W.xf]=Math.max(h+
~~((x-Math.max(2*k[1],k[4]+g[4])-h-J)/2),0);U[W.Mj]=Math.min(U[W.xf]+(J-k[1]-g[1]),x-k[4]-g[4]-k[1]);J+=g[1];U[W.$f]=Math.max(h+~~((x-k[4]-g[4]-h-J)/2),0);U[W.Ki]=Math.min(U[W.$f]+(J-k[1]-g[1]),x-k[4]-g[4]-k[1]);B=~~(2.1*a[0])+4*(2*a[0]+a[1])+(z.H&t.c?a[0]:0);3==hc.a&&(B=Math.max(B,17*a[0]+2*a[1]));1==hc.a&&(B=Math.max(B,17*a[0]+1*a[1]));U[W.nc]=r+~~((u-B)/2);~z.H&t.c&&!Q.Cd&&(U[W.nc]=a[1]);z.H&t.c&&(z.O[1]||(U[W.nc]+=a[0]),z.O[3]||(U[W.nc]=p));U[W.Nj]=Math.min(U[W.nc]+B,n-2*a[0])-a[0];for(B=0;4>
B;++B)for(U.Gg(B),Y=0;J=U[1024|B<<8|Y];++Y)J.i=J.X,J.l=J.$;nc.ca();mc.yb[W.bg]=mc.yb[W.Sj]=~~(U[W.Xd]+U[W.Wd]/2);mc.yb[W.Rj]=mc.yb[W.Vj]=~~(U[W.Yd]+U[W.Vd]/2);mc.yb[W.cg]=~~(U[W.cb]-1.5*Q.J[0]);mc.yb[W.Qj]=~~(U[W.wd]-1.5*Q.I[1]);mc.yb[W.Tj]=~~(U[W.Zf]+2.5*Q.J[2]);mc.yb[W.Uj]=~~(U[W.Be]+2.5*Q.I[3]);for(Y in U.Xa)U.Xa[Y].ha&&void 0===U.Xa[Y].X&&console.log(Y);U.Xa.sort(function(S,ma){return(void 0!=S.ma?0:-f*m)+(S.ha?f*m:0)+(S.Za.pb+S.Za.$)*f+S.Za.X-((void 0!=ma.ma?0:-f*m)+(ma.ha?f*m:0)+(ma.Za.pb+ma.Za.$)*
f+ma.Za.X)})},ua:function(){for(var a=0;a<U.Xa.length;++a){var k=U.Xa[a];k.K=0;k.ha&&(void 0!==k.X&&(k.i=k.X),void 0!==k.$&&(k.l=k.$),k.Ga(-1,X.NONE,!1),delete k.Sc)}for(a=0;4>a;++a)U.Fd(a,-2)},Gg:function(a){for(var k=Q.vb,g=Q.wb,e=Q.yc,c=Q.zc,b=Q.Fe,l=Q.Ge,d,f=16;U[2048|a<<8|f];--f);var m=0,p=0;for(f=16;d=U[2048|a<<8|f];--f){d.X=U[W.mc+2*a]-k[a]*(16-f);d.$=U[W.ld+2*a]-g[a]*(16-f);var h=d.Kb;h.X=d.X+k[(a+1)%4];h.$=d.$+g[(a+1)%4];d.L!=a&&(m+=k[a]-e[(a+1)%4],p+=g[a]-c[(a+1)%4]);d.i=d.X+m;d.l=d.$+p;
h.i=h.X+m;h.l=h.$+p;d.L!=a&&(d.i+=b[a],d.l+=l[a],h.i+=b[a],h.l+=l[a])}for(f=0;d=U[1024|a<<8|f];++f)d.X=0+U[W.Ka+2*a]+k[a?a:4]*f,d.$=0+U[W.cb+2*a]+g[a?a:4]*f},Dg:function(a){for(var k=Q.vb,g=Q.wb,e=Q.yc,c=Q.zc,b=0,l=0,d,f=0;d=U[3072|a<<8|f];++f)if(d.X=U[W.je+2*a]+k[a]*f+(e[a]-6*k[a])*(12<f?2:~~(f/6))+b,d.$=U[W.kf+2*a]+g[a]*f+(c[a]-6*g[a])*(12<f?2:~~(f/6))+l,d.L!=a&&(d.X+=Q.Fe[a],d.$+=Q.Ge[a],b=-Q.vb[a]+Q.yc[(a+1)%4],l=-Q.wb[a]+Q.zc[(a+1)%4]),d.i=d.X,d.l=d.$,5==f||11==f)b=l=0}});
Da(U,{Fd:function(a,k){for(var g,e=0;g=U[3072|a<<8|e];++e)g.L!=a&&(g.L=a),-1!=k||g.K||(k=e);0<=k&&(U[3072|a<<8|k].L=(a+1)%4);U.Dg(a)}});
Da(U,function(){function a(g){var e=0,c;for(c in k){var b=k[c];if(0<=b.t){b.Fa<=b.t&&(b.t=b.Fa);kc.gb();var l;for(l in b){var d=b[l],f=d.Qc;if(f){var m=f.ha.s?f.ha.s.offsetX+f.ha.s.wa:f.s.wa,p=f.s.Sa,h=~~(f.X+(d.qb-f.X)*(b.Fa-b.t)/b.Fa);if(h<=f.i)m+=f.i-h,f.i=h;else{m+=h-f.i;var n=f.i;f.i=h;h=n}d=~~(f.$+(d.Gd-f.$)*(b.Fa-b.t)/b.Fa);d<=f.l?(p+=f.l-d,f.l=d):(p+=d-f.l,n=f.l,f.l=d,d=n);kc.Sb(h+f.s.offsetX,d+f.s.offsetY,m,p);b.Fa<=b.t&&f.Ca(f.K)}}kc.hb()}b.Fa<=b.t&&delete k[c];b.t+=g;++e}0==e&&Bc.lc&&Bc.lc();
return e}var k={};return{kc:function(g,e,c){if(lc.oa){kc.gb();for(g=0;g<c.length;++g)e=c[g],e.Yb(),e.i=e.X,e.l=e.$;for(g=0;g<c.length;++g)e=c[g],e.Ca(e.K),e.Yb();kc.hb()}else{e=k[ka++]={t:-~~g,Fa:e};for(g=0;g<c.length;++g)e[g]={Qc:c[g],qb:c[g].i,Gd:c[g].l};pb().kc=a}}}}());Da(hc,function(){function a(){return!1}function k(d){return 16==d||52==d||88==d}function g(d){d=(135-d+c)%136;return U[4096|~~(d/34)<<8|(d%34>>1)+17*(d&1)]}var e,c,b,l;return{a:0,Ac:0,hc:!1,xc:{136:48},Da:function(d){for(var f=hc.xc,m=0;136>m;++m){var p=m>>2;f[m]=10*(~~(p/9)+1)+p%9+1}z.H&t.Va?hc.Bd=a:(hc.Bd=k,f[16]=51,f[52]=52,f[88]=53);f=z.Ea;m=z.ia[3];p=z.ia[4];b=(4+f-z.ia[0]%4)%4;hc.hc=6==m&&0==p;c=((f+(m+1)+(p+1)-1)%4*17+17-1-(m+1)-(p+1))%68*2+2;hc.hc&&(c=34*(b+1));e=[0,0,0,0];hc.Ac=0;l=null;
if(d)for(l=[],m=0;136>m;++m)l[m]=d[135-m]},fg:function(d){if(!hc.hc)return g(e[0]++);-1==d&&(d=(b+3)%4);var f=e[d]++;return U[4096|d<<8|33-(17*(f&1)+(f>>1))]},Zb:function(d){if(!hc.hc)return g(135-d^1);var f=(b+(d>>2))%4;d%=4;return U[4096|f<<8|17*(~d&1)+(d>>1)]},Le:function(d,f){return l?hc.hc?l[135-(34*d+~~(f%34/17)+f%17*2)]:l[(135-(34*d+~~(f%34/17)+f%17*2)+c)%136]:136},ug:function(d){if(!e)return 0;if(t.Lc(z.H))return 116-e[0]-2*(z.ia.length-5);if(!hc.hc)return 122-e[0]-hc.Ac;for(var f=0,m=-1,
p=1;4>=p;++p)z.O[(d+p)%4]&&f<e[(d+p)%4]&&(f=e[(d+p)%4],m=p);return(30-f)*(z.H&t.c?3:4)+m-1},Bd:a}}());
hc.gk=function(a){function k(b){for(var l=0;l<b.length;++l)b[l]=(b[l]&255)<<24|(b[l]&65280)<<8|(b[l]&16711680)>>>8|(b[l]&4278190080)>>>24;return b}a=a.split(",");if("mt19937ar-sha512-n288-base64"==a[0]){a=function(b){b=atob(b);for(var l=[],d=0;d<b.length;d+=4)l.push(b.charCodeAt(d)<<0|b.charCodeAt(d+1)<<8|b.charCodeAt(d+2)<<16|b.charCodeAt(d+3)<<24);return l}(a[1]);var g=-1,e=new nb.wf;e.ng(a,a.length);var c=new nb.wf;return function(b,l){if(l&&g!=b){var d=[];for(p=0;624>p;++p)d[p]=e.He();c.ng(d,
624)}g=b;var f=l?c:e;b=[];l=[];for(p=0;9>p;++p){var m=[];for(d=0;32>d;++d)m[d]=f.He();Array.prototype.push.apply(l,k(ob(k(m))))}for(var p=0;p<l.length;++p)l[p]>>>=0;if(z.H&t.c)for(p=0;136>p;++p)(4>p||32<=p)&&b.push(p);else for(p=0;136>p;++p)b.push(p);d=b.length;for(p=0;p<d-1;++p)f=p+l[p]%(d-p),m=b[p],b[p]=b[f],b[f]=m;return b}}};var Uc;(function(a){function k(b){if(void 0===c)return!1;350<g&&25<g-e&&(c(),e=g);g+=b;return!0}var g=0,e=0,c;a.set=function(b,l){c=b;g=e=0;c?(l&&c(),pb()[-100]=k):delete pb()[-100]}})(Uc||(Uc={}));Da(z,function(){function a(h){if(1==z.a){var n=(~~D[A.jd]+40-1)%40,x=D[A.hd+n];if(x){try{x=JSON.parse(x)}catch(u){return}x.sc||(x.sc=h,D[A.hd+n]=JSON.stringify(x))}}}function k(h,n,x,u,y,r,w){if(x instanceof Cc){var B=u.L%4;var J=u.i;var Y=u.l;u.Ca(0);u=ic[x.L<<8|hc.xc[y]]}else B=x,x=U[n|B<<8|u],J=x.i,Y=x.l,u=ic[B<<8|48];switch(n){case 5120:Y=0;break;case 4096:0==B?Y=Q.Bb:1==B?J=Q.lb:2==B?Y=0:3==B&&(J=0);B&1&&(J-=Math.round(kc.P.canvas.offsetLeft*cb));break;case 1024:var T=f?hc.Zb(hc.Ac++):hc.fg(B);
1==hc.a||3==hc.a?(u=T.s,J=T.i,Y=T.l,lc.xd(h,T,0)):0==B?Y=~~(Q.Bb/2):1==B?J=~~(Q.lb/2):2==B?Y=~~(Q.Bb/2):3==B&&(J=~~(Q.lb/2));f=!1;break;case 3072:x.i=x.X+(lc.oa?0:~~(.2*Q.vb[B])+~~(.15*Q.yc[B])),x.l=x.$+(lc.oa?0:~~(.2*Q.wb[B])+~~(.15*Q.zc[B]))}x.zb(1024==n,y);lc.Qa(h+0,J,Y,x.i,x.l,r,u,.06);n=lc.Qa(h+10,J,Y,x.i,x.l,r,u,.18,x,1);lc.Qa(h+20,J,Y,x.i,x.l,r,u,.06);w!=O.Wa&&wc(w,0,n);return n}function g(h,n){var x={tag:"D",p:h};if(1==z.a){if(!n&&(n=rc.xb(),xc(),!n))return;yc.R(x)}else 4==z.a&&(xc(),P.Ag(x));
x[0]=h;yc.Ra(x)}function e(){z.pg=[-1,-1,-1,-1];z.Tc=["","","",""];for(var h=0,n=0;4>n;++n){var x=(z.Ea+n)%4;z.O[x]&&(z.pg[x]=h,z.Tc[x]="東南西北".substr(h,1),++h)}}var c={84:0,85:1,86:2,87:3,116:0,117:1,118:2,119:3},b=-1,l=-1,d=null,f,m="",p=!1;return{Ea:-1,pg:[],Tc:[],ia:[],Na:[],lg:[],O:[],pa:[],connected:0,Rc:[],Qe:0,Re:0,$c:0,Se:0,Te:0,Hd:0,Ue:0,Ve:0,Id:0,qg:3,ua:function(){var h=pb(),n;for(n in h)-100!=n&&delete h[n];mc.ua();lc.Da();kc.Yc();for(n=0;n<U.Xa.length;++n)h=U.Xa[n],
h.K=0,h.ha&&(void 0!==h.X&&(h.i=h.X),void 0!==h.$&&(h.l=h.$),h.Ga(0,X.NONE,!1),delete h.Sc);for(n=0;4>n;++n)U.Fd(n,-2);d=null;l=-1;b=z.Ea=-1;pc.na(0,-1);nc.Da();q.Da();oc.style.display=pc.P.canvas.style.display="none";rc.qa();L.sa(256);xc();qc.ca();P.ua()},Da:function(h){p&&(Xb(O.bd,0,0),p=!1);if("REINIT"==h.tag||3==z.a)lc.oa=!0;f=!1;b=z.Ea=~~h.oya;z.ia=qa(h.seed);z.Na=qa(h.ten,100);z.lg=qa(h.chip);e();hc.Da(h[5]);nc.Da();q.Da();Zb.fk();pc.na(void 0,-1);rc.jk();for(var n=0;4>n;++n)if(z.O[n])for(var x=
0;13>x;++x)q[32|n].push(136);var u=0;if(1==hc.a){for(n=0;4>n;++n)for(x=0;34>x;++x)U[4096|n<<8|x].ra=0;for(x=0;17>x;++x)for(n=0;4>n;++n)lc.xd(k(u,4096,n,x,136,.08,O.Nb),U[4096|n<<8|x+17].zb(!1,136),1),u+=12}else if(3==hc.a){var y=Pb.tw+1;for(n=0;4>n;++n)for(x=0;34>x;++x){var r=hc.Le(n,x),w=U[4096|n<<8|x];r=(r&3840)>>8;r==y?w.Ga(~X.Pb,X.Pb,!1):5==r?w.Ga(~(X.Ce|X.eb),X.Ce|X.eb,!1):w.Ga(~X.eb,X.eb,!1)}for(x=0;17>x;++x)for(n=0;4>n;++n)lc.xd(k(u,4096,n,x,hc.Le(n,x)&255,.08,O.Nb),U[4096|n<<8|x+17].zb(!1,
hc.Le(n,x+17)&255),1),u+=12}else for(x=0;5>x;++x)k(u,5120,0,x,136,.08,O.Nb),u+=45;lc.ec(function(){pc.na(void 0,b);for(var J=5;J<z.ia.length;++J)z.DORA({hai:z.ia[J],rg:J-5});if(hc.hc)for(var Y=0;4>Y;++Y){var T=~~(.1*Q.vb[Y]),S=~~(.1*Q.wb[Y]);kc.gb();for(J=0;34>J;++J)if(2<=J%17){var ma=U[4096|Y<<8|J];ma.Yb();ma.i+=T;ma.l+=S;ma.Lb();ma.Yb()}for(J=0;34>J;++J)U[4096|Y<<8|J].Lb();kc.hb()}});var B=[0,0,0,0];for(n=0;4>n;++n)z.O[n]||(B[n]+=136-(z.H&t.Qb?112:108));for(n=0;4>n;++n)for(w=qa(h["m"+n]);w.length;)r=
w.pop(),z.N({who:n,m:r}),f&&(hc.Zb(hc.Ac).Ca(0),++hc.Ac,f=!1),++B[(n+(r&3))%4],--B[n];h.hai&&(q[32]=qa(h.hai));h.hai0&&(q[32]=qa(h.hai0));h.hai1&&(q[33]=qa(h.hai1));h.hai2&&(q[34]=qa(h.hai2));h.hai3&&(q[35]=qa(h.hai3));qc.ca();for(n=0;4>n;++n)for(z.O[n]&&(B[n]+=13-q[32|n].length),x=0;x<q[32|n].length;++x)136>q[32|n][x]&&q[48|n][q[32|n][x]>>2]++;x=[qa(h.kawa0),qa(h.kawa1),qa(h.kawa2),qa(h.kawa3)];for(n=0;4>n;++n){kc.gb();u=0;for(y=!1;x[n].length;)r=x[n].shift(),255==r?(U.Fd(n,u),0==n&&(q[64]=aa.vc(q[48],
q[80]))):254==r?y=!0:(w=U[3072|n<<8|u],w.zb(!1,r&255),w.Ca(1),y&&(4==z.mode||1!=z.a&&L.u[1277961])&&w.Ga(~X.Aa,X.Aa,!1),w.Yb(),++B[n],++u,y=!1);kc.hb()}lc.oa&&kc.gb();lc.ec(function(){for(var J=0;4>J;++J)for(var Y=0;Y<B[J];++Y)hc.fg(J).Ca(0);for(var T=0,S=0;52>S;++S)J=(48>S?~~(S/4):S)%4,z.O[J]&&(Y=48>S?4*~~(S/16)+S%4:12,q[32|J].length<=Y||(k(T,1024,J,Y,J&&!L.u[1277960]?136:q[32|J][Y],.08,O.Nb),3==S%4&&(T+=75)));pc.na()});lc.oa&&kc.hb();lc.ec(function(){for(var J=0;4>J;++J)lc.oa&&kc.gb(),(lc.oa||J||
L.u[1183750])&&q.qk(J),lc.oa&&kc.hb();if(~z.H&t.Qb&&(1==hc.a||3==hc.a)){kc.gb();hc.Zb(14).Yb();J=hc.Zb(14).L;for(var Y=~~(.15*Q.vb[J]),T=~~(.15*Q.wb[J]),S=14;48>S;++S){var ma=hc.Zb(S);if(ma.L!=J)break;ma.i+=Y;ma.l+=T;ma.Yb()}hc.Zb(13).Lb();hc.Zb(15).Lb();kc.hb()}});oc.style.display="none";pc.P.canvas.style.display="";L.u[1183749]=L.u[1183753]=L.u[1183751]=!1;L.u[1183752]=!!D[A.Ud];L.u[1183750]=!0;L.sa(256);if((3==z.a||2==z.a)&&L.u[1277957])for(n=0;4>n;++n)Zb.Eg(n);if("REINIT"==h.tag||3==z.a)lc.oa=
!1;lc.ec(function(){qb(yc.ub,lc.oa||3==z.a||"REINIT"==h.tag||~z.pa[1]&t.Gc.vd?0:2E3)})},zg:function(h,n){var x=l;q[64]||(x=q[32|b][h]);g(x,n)},ERR:function(h){var n=~~h.code;h="(ERR"+n+")";var x=1;switch(n){case 1001:case 1002:case 1003:case 1004:case 1005:case 1006:case 1012:case 1019:case 1021:case 1029:P.b&&(P.b.style.display="");Qb(!1,0);break;case 1020:x|=2;break;case 1027:h="";break;case 1100:case 1101:case 1103:P.cancel()}Vb.o(I(n)+h,x,function(){switch(n){case 1014:delete Pb.wg;break;case 1019:location.reload();
break;case 1020:P.purchase()}});return 1},HELO:function(h){if(h.closing)return location.reload(),1;if(2==z.a)return yc.R({tag:"WG",id:Pb.wg,tw:Pb.tw}),1;var n;P[17]=h.PF4?h.PF4.split(","):[];P[16]=h.PF3?h.PF3.split(","):[];P[3]=h.opt;P[18]=h.PF601&&h.PF01C?(n=h.PF601.split(","),n.splice(1,0,0,h.PF01C.split(",")[1]),n):[];P[19]=h.PF602&&h.PF02C?(n=h.PF602.split(","),n.splice(1,0,0,h.PF02C.split(",")[1]),n):[];P[20]=h.PF603&&h.PF03C?(n=h.PF603.split(","),n.splice(1,0,0,h.PF03C.split(",")[1]),n):[];
P[21]=h.PF611&&h.PF11C?(n=h.PF611.split(","),n.splice(1,0,0,h.PF11C.split(",")[1]),n):[];P[22]=h.PF612&&h.PF12C?(n=h.PF612.split(","),n.splice(1,0,0,h.PF12C.split(",")[1]),n):[];P[23]=h.PF613&&h.PF13C?(n=h.PF613.split(","),n.splice(1,0,0,h.PF13C.split(",")[1]),n):[];P[24]=h.PF623&&h.PF23C?(n=h.PF623.split(","),n.splice(1,0,0,h.PF23C.split(",")[1]),n):[];P[25]=h.PF633&&h.PF33C?(n=h.PF633.split(","),n.splice(1,0,0,h.PF33C.split(",")[1]),n):[];P[34]=~~h.EMBP;P[33]=h.EMPF4?h.EMPF4.split(","):[];P[32]=
h.EMPF3?h.EMPF3.split(","):[];P[0]=decodeURIComponent(h.uname);P[1]=h.expire;P[2]=~~h.expiredays;h.nintei?(h.tag="NINTEI",P.o(h)):P.yd();return 1},REHELO:function(){yc.Yj();return 1},LN:P.rh,REJOIN:function(h){yc.R({tag:"JOIN",t:h.t});return 1},CHAT:P.Lg,CS:P.Mg,DATE:P.Zg,RANKING:function(h){h.rankingcs?P.hj(h):P.gj(h);return 1},SHUFFLE:function(){return 1},GO:function(h){Vc.style.display=Wc.style.display="none";h.gpid&&(D[A.Mb]=h.gpid);z.ic=~~h.lobby;z.H=~~h.type;1!=z.a&&2!=z.a||yc.R({tag:"GOK"});
1==z.a&&0==z.ic&&z.H&t.h&&P.sk(z.H);z.pa=(""+(h.csrule||"")).split(",");z.pa[0]=parseInt(z.pa[0]||"0",16);z.pa[1]=parseInt(z.pa[1]||"0",16);z.pa[2]=parseInt(z.pa[2]||"0",16);z.pa[3]=parseInt(z.pa[3]||"0",16);z.Qe=z.Se=z.Ue=1E3*(t.ed(z.ic,z.H)?3:5);z.Re=z.Te=z.Ve=1E3*(t.ed(z.ic,z.H)?5:10);z.$c=z.Hd=z.Id=1E3*(z.pa[1]&t.Gc.vd?1:5);h=z.pa;0<h[36]&&(z.Qe=1E3*~~h[36]);0<h[37]&&(z.Re=1E3*~~h[37]);0<h[38]&&(z.$c=1E3*~~h[38]);0<h[39]&&(z.Se=1E3*~~h[39]);0<h[40]&&(z.Te=1E3*~~h[40]);0<h[41]&&(z.Hd=1E3*~~h[41]);
0<h[42]&&(z.Ue=1E3*~~h[42]);0<h[43]&&(z.Ve=1E3*~~h[43]);0<h[44]&&(z.Id=1E3*~~h[44]);if(1==z.a||2==z.a)h=ib?1:0,location.search.match(/^\?L([1-9][0-9]{3})/)?h=~~RegExp.$1:location.search.match(/^\?(C[0-9]{8})/)&&(h=~~("1"+RegExp.$1.substr(1,4))),z.ic!=h&&(D[A.fd]=z.ic+","+Date.now());return 1},UN:function(h){if(3<=!!h.n0+!!h.n1+!!h.n2+!!h.n3){z.O=["","","",""];for(var n=0;4>n;++n)z.O[n]=decodeURIComponent(h["n"+n]);z.uc=qa(h.dan?h.dan:",,,");z.rate=qa(h.rate?h.rate:",,,");z.qb=(h.sx?h.sx:",,,").split(",");
z.Rc=[{},{},{},{}];if(!1!==L.u[14])for(n=0;4>n;++n)!z.O[n]||ja(z.O[n])||20<=z.uc[n]||(h=(Pb.tw+n)%4,z.O[n]=3==z.a&&h==Pb.TW?"私":"ABCD".substr(h,1)+"さん");ib&&mb("//ron2.jp/wp/3/un2idexprof.cgi?"+Aa(z.O.join(" ")),function(x){if(x)return console.log(x);z.Rc=this.response.split(" ").map(function(u){return Kb(u)});jc.na()})}else h.n0&&(z.connected|=1),h.n1&&(z.connected|=2),h.n2&&(z.connected|=4),h.n3&&(z.connected|=8),pc.na();return 1},BYE:function(h){z.connected&=~(1<<~~h.who);pc.na();
return 1},TAIKYOKU:function(h){L.u[1183749]=L.u[1183753]=L.u[1183752]=L.u[1183751]=!1;L.u[1183750]=!0;L.b.style.display="";L[1572868].innerHTML="";L.sa(126976);yc.bc=0;p=(1==z.a||2==z.a)&&"SAIKAI"!=h.tag&&z.H&t.h;z.Ea=~~h.oya;if(1==z.a&&h.log){m=h.log;var n=~~D[A.jd];D[A.hd+n]=JSON.stringify({type:z.H,lobby:z.ic,log:m,oya:z.Ea,uname:z.O});D[A.jd]=(n+1)%40}z.connected=15;e();U.ca();nc.ca();P.o(h);jc.na();return 1},INIT:function(h){P.qa(function(){z.ua();z.Da(h)})},FURITEN:function(h){oc.style.display=
~~h.show?"":"none";return 1},T:function(h){if(-1==b)return 1;if(f||3==z.a)q.Xc(b),q.Wc();3==z.a&&mc.Ee();d&&(U.kc(0,120,[d]),d=null);l=void 0===h[0]?136:h[0];b=c[h.tag.charCodeAt(0)];var n=q[32|b].length;q[32|b].push(l);136>l&&q[48|b][l>>2]++;var x=U[1024|b<<8|n];x||Tb("T d PH_TEHAI who="+b+" n="+n+" wg="+Pb.wg);x.i=x.X+~~(.1*Q.vb[b]);x.l=x.$+~~(.1*Q.wb[b]);k(0,1024,b,n,b&&!L.u[1277960]?136:l,-120,O.Jf);pc.na(void 0,b);1!=z.a&&Zb.Fg(x);var u=~~h.t;lc.ec(function(){3==z.a||2==z.a||b||(u&ba.da.Pb&&
L.u[1183752]?yc.R({tag:"N",type:7}):(u=zc.ek(u,l))||!L.u[1183753]&&!q[64]?xc(h):(rc.vg(),g(l,!0)));qb(yc.ub,lc.oa||3==z.a?0:500)})},D:function(h){if(-1==b)return 1;var n=h.tag.charCodeAt(0),x=100<=n&&103>=n||l===h[0];l=h[0];0<q[48|b][l>>2]&&q[48|b][l>>2]--;var u=q[32|b].length;for(n=0;n<u&&q[32|b][n]!=l;++n);n==u&&(n=x?u-1:~~((u-1)/2));n=U[1024|b<<8|n];for(u=0;(d=U[3072|b<<8|u])&&d.K;++u);2==z.a||3==z.a?(L.u[1277957]&&Zb.Eg(b),L.u[1277961]&&d.Ga(~(X.Aa|X.mb),(x?X.Aa:0)|n.la&X.mb,!1)):(z.H&t.Aa||4==
z.a)&&d.Ga(~X.Aa,x?X.Aa:0,!1);k(0,3072,d,n,l,-120,O.If);var y=~~h.t;lc.ec(function(){y&ba.da.dc&&L.u[1183752]?(Xb(O.Gb,0,0),qb(function(){yc.R({tag:"N",type:6})},1E3)):~y&ba.da.dc&&y&&L.u[1183749]?yc.R({tag:"N"}):y&&(zc.ck(y,l),y&(ba.da.Fc|ba.da.Nc)&&xc(h));3==z.a?(q.Pe(b),yc.ub()):qb(function(){q.Pe(b);q.Xc(b);q.Wc();yc.ub()},lc.oa?0:300)})},N:function(h){xc();if(-1==b)return 1;3==z.a&&(q.Xc(b),q.Wc());var n=b=~~h.who;pc.na(void 0,n);h[2]||Ac(h);var x=h[0],u=q[32|n].length,y=[],r=3-h[3];if(h.tag){mc.Qa(n,
h[2],3==z.a?Hc.qc:Hc.oc);for(var w=0;w<x.length;++w){if(d&&x[w]==l)y[w]=d,d=null,r=w;else{for(var B=0;B<q[32|n].length&&q[32|n][B]!=x[w];++B);B==q[32|n].length&&(B=--u);y[w]=U[1024|n<<8|B];q[48|n][x[w]>>2]--}z.pa[0]&t.Cb.Pj&&++q[80|n][x[w]>>2]}}else 5==h[2]&&z.N({who:n,m:h.m^24});f=!0;u=[];if(10==h[2])q[16|n].push(x[0]),nc.ad(n),u[0]=U[n<<8|2064],u[0].L=n;else if(1==x.length){for(w=(z.H&t.c&&~z.pa[0]&t.Cb.nd?16:17)-1;(u[0]=U[2048|n<<8|w])&&u[0].K&&u[0].Kb.Sc!=x[0];--w);u[0]&&(u[0].Kb.L=(n+3)%4,u[0]=
u[0].Kb)}else{for(w=(z.H&t.c&&~z.pa[0]&t.Cb.nd?16:17)-1;(u[0]=U[2048|n<<8|w])&&u[0].K;--w);u.unshift(U[2048|n<<8|w-1]);u.unshift(U[2048|n<<8|w-2]);for(w=0;w<u.length;++w)u[w].L=n;3==r&&(r=h[3]?2:1);4==x.length?(u[r].L=u[r].Kb.L=(n+1)%4,u[3]=u[2],u[2]=u[r].Kb):(f=!1,u[r].L=(n+1)%4,1==h[2]&&(u[r].Kb.Sc=h[4]))}U.Gg(n);if(h.tag){for(w=0;w<u.length;++w){r=x[w];4!=x.length||h[3]||0!=w&&3!=w||(r=136);B=.06;if(10==h[2]){B=u[w].i-y[w].i;var J=u[w].l-y[w].l;B=Math.sqrt(B*B+J*J)/4E3}k(0,2048,u[w],y[w],r,B,O.Wa)}q.Pe(n);
q.Xc(n);q.Wc();n||(qc.ca(),f||xc(h));var Y=~~h.t;lc.ec(function(){Y&ba.da.dc&&L.u[1183752]?(Xb(O.Gb,0,0),qb(function(){yc.R({tag:"N",type:6})},1E3)):Y&&zc.dk(Y);yc.ub()})}else{for(w=0;w<u.length;++w)r=x[w],4!=x.length||h[3]||0!=w&&3!=w||(r=136),u[w].zb(!1,r),u[w].Ca(1),u[w].Yb();5!=h[2]&&10!=h[2]&&q[32|n].splice(q[32|n].length-3,3)}},DORA:function(h){if(-1==b)return 1;var n=~~h.hai,x=void 0===h.rg?z.ia.length-5:h.rg,u=(z.H&t.Qb?20:z.pa[0]&t.Cb.nd?4:z.H&t.c?8:4)+2*x,y=U[5120|x];if(1==hc.a||3==hc.a)y=
hc.Zb(u);y.zb(!1,n);0==x&&3==hc.a&&y.Ga(~X.dd,X.dd,!1);y.tg();"DORA"==h.tag&&z.ia.push(n);1<x&&(nc.ad(0),nc.ad(1),nc.ad(2),nc.ad(3));return 1},REACH:function(h){if(1==h.step){var n=~~h.who;mc.Qa(n,8,3==z.a?Hc.qe|Hc.oc:Hc.oc);U.Fd(n,-1);0==n&&xc(h);qb(yc.ub,lc.oa||3==z.a?0:500)}else return 2==h.step&&(n=~~h.who,1==z.a&&0==n&&(q[64]=aa.vc(q[48],q[80])),z.ia[2]++,pc.na()),h.ten&&(z.Na=qa(h.ten,100)),1},AGARI:function(h){if(-1==b)return 1;3==z.a&&mc.Ee();var n=~~h.who;q[32|n]=qa(h.hai);q[32|n].splice(q[32|
n].indexOf(~~h.machi),1);if(n&&n==h.fromWho){var x=U[1024|n<<8|q[32|n].length];x.Ca(0).zb(!0,~~h.machi).Ca(1);1!=z.a&&Zb.Fg(x)}d&&(U.kc(0,120,[d]),d=null);mc.Qa(n,n==h.fromWho?7:6,3==z.a?Hc.qc:Hc.oc);h.paoWho&&mc.Qa(~~h.paoWho,11,3==z.a?Hc.qc:Hc.oc);q.Bg(1<<n);qb(function(){P.o(h);h.owari&&(D.removeItem(A.Mb),P.o({tag:"OWARI",sc:h.owari}),a(h.owari),yc.qa())},3==z.a?0:1E3);Uc.set();return 1},RYUUKYOKU:function(h){if(-1==b)return 1;3==z.a&&mc.Ee();h.hai1&&(q[33]=qa(h.hai1));h.hai2&&(q[34]=qa(h.hai2));
h.hai3&&(q[35]=qa(h.hai3));if("ron3"==h.type){var n=3==z.a?Hc.qc:Hc.oc;h.hai0&&mc.Qa(0,6,n);h.hai1&&mc.Qa(1,6,n);h.hai2&&mc.Qa(2,6,n);h.hai3&&mc.Qa(3,6,n)}d&&(U.kc(0,120,[d]),d=null);q.Bg(14);qb(function(){P.o(h);h.owari&&(D.removeItem(A.Mb),P.o({tag:"OWARI",sc:h.owari}),a(h.owari),yc.qa())},3==z.a?0:1E3);Uc.set();return 1},VOICE:function(h){h=h.type;for(var n=0;4>n;++n)h[n]&&mc.Qa(n,h[n],Hc.qe|Hc.za);return 1},PROF:function(){return 1},INITBYLOG:Zb.ih,WGC:Zb.Xj,TRAININGINIT:function(h){z.Da(h)}}}());
z.W=z.V=z.U=z.T;z.g=z.f=z.e=z.d=z.G=z.F=z.E=z.D;z.KANSEN=z.SAIKAI=z.TAIKYOKU;z.REINIT=z.INIT;var Bc=function(){function a(){L.Ma(1574918)}function k(){L.Ma(1574917)}function g(r,w){r&&r.tagName&&(r=r.style,w?(r.backgroundColor=p&4?"#050":"#030",r.animationName="none",r.color||(r.color="#FFF")):(r.backgroundColor="",r.animationName="",r.color=""))}function e(r){if(f!=r){if(f&&f.tagName&&(g(f,!1),m&&!r)){f=m;return}m&&(~p&2||!r||r instanceof Cc)&&(qc.Ab(m.ma,~(X.Ia|X.Pa|X.Db),0),m=void 0);if(!r&&m)f=m;else{f=r;r instanceof Cc&&qc.Ab(r.ma,~(X.Ia|X.Pa|X.Db),X.Ia|(p&8?X.Db:0));if(!r||r instanceof
Cc)m=r;P.mk(r);p&=-5;g(f,!0)}}}function c(r){if(m){var w=m.ma;qc.Ab(w,~(X.Ia|X.Pa|X.Db),0);qc.Ab(w+r,~(X.Ia|X.Pa|X.Db),X.Ia|X.Pa);m=U[1024|w+r]}}function b(r,w){r&&Uc.set();r||3!=z.a||(f==L[1574917]&&Uc.set(k,!1),f==L[1574918]&&Uc.set(a,!1));if(!(L[2360326].parentNode.style.visibility||L[2360326].parentNode.style.display||~p&2&&!r))if(!f||f.tagName||!m||U[1024|m.ma].la&X.Eb){var B=~(X.Ia|X.Pa|X.Fb);kc.gb();for(var J=0;14>J;++J)qc.Ab(J,B,0);kc.hb()}else qc.Ab(f.ma,~X.Fb,X.Fb),zc.pk();if(r&&!w)p&=-5,
f instanceof Cc&&qc.Ab(f.ma,~(X.Ia|X.Pa|X.Db),0),f&&f!=pc.P.canvas&&f.style&&~p&8&&e();else if(!w||~p&4)p|=4,f instanceof Cc&&qc.Ab(f.ma,~(X.Ia|X.Pa|X.Db),X.Pa|(p&8?X.Db:0));else if(f instanceof Cc)r=U[1024|f.ma].la,(L[2360326].parentNode.style.visibility||L[2360326].parentNode.style.display)&&r&X.ya&&f.K&&(z.zg(f.ma),e());else if(f&&f.tagName){if(!r)return;if(f.name){if(!f.disabled)if("CP_L"==f.name)qc.Ke(-1),c(-1);else if("CP_R"==f.name)qc.Ke(1),c(1);else if(P[f.name])P[f.name](f)}else f==pc.P.canvas?
pc.Ma():f.parentNode.parentNode!=L.b||f.parentNode.style.visibility||L.Ma(~~f.id.substr(1));p&2&&(e(),p&=-5)}p&=-9;g(f,!0)}function l(r,w,B,J,Y,T){"BUTTON"==r.tagName||r.parentNode!=qc.b||qc[20].style.display?r.parentNode!=qc.b||qc[0].style.display||(B=U[W.cb]/cb+1,Y||(w=r.offsetLeft+1)):(B=U[W.cb]/cb+1,p&2&&!Y&&(w=qc.b.offsetLeft+qc[24].offsetLeft+qc[24].offsetWidth/2),p&=-3,Y=!1);w*=cb;B*=cb;var S;if(Y&&f instanceof Cc){if(1==z.a||4==z.a){for(r=0;(S=U[1024|r])&&!(S.X<=w&&w<S.X+Q.I[4]);++r);if(w=
S&&f!=S)if(w=f,B=S,w!=B&&w.K&&B.K){L.u[1183750]&&L.Ma(1183750);for(J=[w];w!=B;)T=U[1024|w.ma+(B.ma<w.ma?-1:1)],r=qc[w.ma].style.backgroundColor,qc[w.ma].style.backgroundColor=qc[T.ma].style.backgroundColor,qc[T.ma].style.backgroundColor=r,r=q[32][w.ma],q[32][w.ma]=q[32][T.ma],q[32][T.ma]=r,r=w.s,w.s=T.s,T.s=r,r=w.K,w.K=T.K,T.K=r,r=w.i,w.i=T.i,T.i=r,r=w.l,w.l=T.l,T.l=r,r=w.la,w.la=T.la,T.la=r,r=w.Ba,w.Ba=T.Ba,T.Ba=r,r=w.ra,w.ra=T.ra,T.ra=r,J.push(w=T);U.kc(0,80,J);w=!0}else w=!1;w&&(f=m=S,rc.ca(S))}}else if("BUTTON"==
r.tagName)e(r.disabled?null:r);else if(r==pc.P.canvas)e(r);else if(r.parentNode&&r.parentNode==L.b)e(("SELECT"==r.tagName?r.previousSibling:r).firstChild);else{if(!Vb.xb()){if(p&2){Y=Q.I[4];var ma=Q.J[4]>>1;for(r=0;(S=U[1024|r])&&!(S.K&&S.X-Y<=w&&w<S.X+Q.I[4]&&S.$-ma<=B&&B<S.$+Q.J[4]+Q.Y[4]);++r);}else for(r=0;(S=U[1024|r])&&!(S.X<=w&&w<S.X+Q.I[4]&&S.$<=B&&B<S.$+Q.J[4]+Q.Y[4]);++r);S&&T&&T.preventDefault()}p&=-9;if(!S&&J){if(w/cb<qc.b.offsetLeft+qc[1].offsetLeft&&qc.b.offsetTop+qc[1].offsetTop<B/
cb&&B/cb<qc.b.offsetTop+qc[1].offsetTop+qc[1].offsetHeight)S=U[1025];else if(qc.b.offsetLeft+qc[12].offsetLeft+qc[12].offsetWidth<w/cb&&qc.b.offsetTop+qc[12].offsetTop<B/cb&&B/cb<qc.b.offsetTop+qc[12].offsetTop+qc[12].offsetHeight)S=U[1036];else if(P.b&&!P.b.style.display&&Z.ok)S=Z.ok;else if(!L[2360326].parentNode.style.visibility&&!L[2360326].parentNode.style.display)S=L[2360326];else if(1==z.a||4==z.a)S=(S=q[32])?3*~~(S.length/3)+1:1,S=U[1024|S].K?U[1024|S]:void 0;S&&(p|=8)}e(S)}}var d={A:1,IMG:1,
INPUT:1,SELECT:1,OPTION:1,LABEL:1,TEXTAREA:1},f,m,p=0,h,n,x,u,y;Ga(Oa,{touchstart:function(r){var w=r.target;if(!d[w.tagName]&&"fixed-select"!=w.parentNode.className){var B=r.changedTouches;if(1!=B.length)e();else if(P.b&&!w.name&&"scroll"!=w.style.overflowY&&P.b.firstChild.contains(w))e(),f||-1==z.Ea||(P.b.style.visibility="hidden");else{h=Date.now();n=B[0].pageX;x=B[0].pageY;B=n-za.offsetLeft-kc.P.canvas.offsetLeft;var J=x-$b;"BUTTON"==w.tagName||w.parentNode!=qc.b||qc[20].style.display||qc.Oe(w.offsetLeft+
w.offsetWidth/2);p|=2;l(w,B,J,!Vb.xb(),!1,r);f&&f!=pc.P.canvas&&f.style&&~p&8&&(p|=4);L.a&126976&&!L.b.contains(w)||(f==L[1574917]&&Uc.set(k,!1),f==L[1574918]&&Uc.set(a,!1))}}},touchmove:function(r){if(f instanceof Cc){var w=r.touches;1==w.length&&(Math.abs(w[0].pageX-n)<10*cb||l(r.target,w[0].pageX-za.offsetLeft-kc.P.canvas.offsetLeft,U[W.cb]/cb+1,!1,!0))}},touchend:function(r){Uc.set();var w=r.target;d[w.tagName]||!w.parentNode||d[w.parentNode.tagName]||"fixed-select"==w.parentNode.className||(Vb.xb()||
r.preventDefault(),P.b&&"hidden"==P.b.style.visibility?P.b.style.visibility="":(r=r.changedTouches,1==r.length&&(b(!0,Math.abs(r[0].pageX-n)<10*cb&&Math.abs(r[0].pageY-x)<10*cb&&1E3>Date.now()-h),L.a&126976&&!L.b.contains(w)&&L.sa(126976))))},touchcancel:function(){Uc.set()},mousemove:function(r){var w=r.target;if(void 0!==r.buttons?2!=r.buttons:3!=r.which){u=r.pageX;y=r.pageY;var B=u-za.offsetLeft-kc.P.canvas.offsetLeft,J=y-$b;p&=-3;l(w,B,J,!1,void 0!==r.buttons?1==r.buttons:1==r.which)}},mousedown:function(r){var w=
r.target;d[w.tagName]||!w.parentNode||d[w.parentNode.tagName]||"fixed-select"==w.parentNode.className||(P.b&&!w.name&&"scroll"!=w.style.overflowY&&P.b.firstChild.contains(w)?f||-1==z.Ea||(P.b.style.visibility="hidden"):(h=Date.now(),n=r.pageX,x=r.pageY,(void 0!==r.buttons?2!=r.buttons:3!=r.which)||1!=z.a&&4!=z.a?l(w,n-za.offsetLeft-kc.P.canvas.offsetLeft,x-$b,!1):l(za,0,0,!Vb.xb()),b(!1,!0),3!=z.a||L.a&126976&&!L.b.contains(w)||Vb.xb()||f||Uc.set((void 0!==r.buttons?2==r.buttons:3==r.which)?a:k,!0)))},
mouseup:function(r){Uc.set();var w=r.target;!d[w.tagName]&&w.parentNode&&"dropdown"!=w.parentNode.className&&(P.b&&"hidden"==P.b.style.visibility?P.b.style.visibility="":(b(!0,Math.abs(r.pageX-n)<10*cb&&Math.abs(r.pageY-x)<10*cb&&1E3>Date.now()-h),L.a&126976&&!L.b.contains(w)&&L.sa(126976)))}});return{lc:function(){if(!(f instanceof Cc)){var r=Ma.elementFromPoint(~~(u-Oa.pageXOffset),~~(y-Oa.pageYOffset));r&&l(r,u-za.offsetLeft-kc.P.canvas.offsetLeft,y-$b,!1)}}}}();Ha(Oa,"touchstart",function(){delete Bc.lc});
var $c="onwheel"in Ma?"wheel":"onmousewheel"in Ma?"mousewheel":"DOMMouseScroll";Ma.addEventListener($c,function(a){3!=z.a||Vb.xb()||(a.preventDefault(),L.Ma(0>(a.deltaY?-a.deltaY:a.wheelDelta?a.wheelDelta:-a.detail)?1574917:1574918))},{once:!1,passive:!1,capture:!0});
(function(){var a;Fa(Oa,"touchstart",function(k){var g=k.target;"A"!=g.tagName||"auto"!=g.parentNode.style.overflowY&&"scroll"!=g.parentNode.parentNode.style.overflowY||(a=k.touches[0].screenY)});Fa(Oa,"touchmove",function(k){var g=k.target;"A"==g.tagName&&("auto"==g.parentNode.style.overflowY&&0==g.parentNode.scrollTop||"scroll"==g.parentNode.parentNode.style.overflowY&&0==g.parentNode.parentNode.scrollTop)&&a<=k.touches[0].screenY&&k.preventDefault()});Fa(Ma,$c,function(k){var g=k.target,e=k.deltaY?
-k.deltaY:k.wheelDelta?k.wheelDelta:-k.detail;"A"==g.tagName&&("auto"==g.parentNode.style.overflowY&&0==g.parentNode.scrollTop||"scroll"==g.parentNode.parentNode.style.overflowY&&0==g.parentNode.parentNode.scrollTop)&&0<e&&k.preventDefault()})})();
(function(){var a;Pa.ontouchstart=function(k){k.target&&(k=k.target,"A"==k.tagName&&(a=setTimeout(function(){Vb.o("<input type=text style='font-size:100%;' value='"+k.href+"'/>",3,function(){})},1E3)))};Pa.ontouchcancel=function(k){k.target&&(k=k.target,"A"==k.tagName&&a&&(clearTimeout(a),a=void 0))};Pa.ontouchend=function(k){k.target&&(k=k.target,"A"==k.tagName&&a&&(clearTimeout(a),a=void 0))}})();
Pa.oncontextmenu=function(a){if(a.target&&(a=a.target,"A"!=a.tagName&&"INPUT"!=a.tagName&&"TEXTAREA"!=a.tagName&&(!a.parentNode||"chat"!=a.parentNode.id)))return!1};var yc=function(){function a(c){e&&(e.close(),e=null);Oa.WebSocket&&(e=Ga(new WebSocket(ib?"wss://b-ww.ron2.jp":Ra?"wss://b-wc.mjv.jp":"wss://b-ww.mjv.jp"),{error:function(b){console.log("ws:onerror",b)},open:function(){this.send(JSON.stringify(c))},message:function(b){var req=new XMLHttpRequest();req.open("POST","http://localhost:12121/");req.send(a.data);{try{var l=JSON.parse(b.data)}catch(d){}2==z.a&&Zb.Dd(Pb.tw,l);Yb.Zc(l);1==z.a&&"D"==l.tag||yc.Ra(l)},close:function(){this==e&&(g=[],Vb.o("CONNECTION CLOSED<br>"+I(F.Lj),3,function(){location.reload()}))}}))}function k(){if(g.length)if(g[0][6])Tb("RUNNING",
g[0]);else{var c=g[0];g[0][6]=1;z[c.tag](c)&&yc.ub()}}var g=[],e;setInterval(function(){e&&1==e.readyState&&(e.send("<Z/>"),yc.bc&&e.send('<PXR v="'+yc.bc+'" />'))},1E4);return{bc:0,Ra:function(c){g.push(c);1==g.length&&k()},R:function(c){e?(0==e.readyState&&console.log("ws.readyState="+e.readyState,c),e.send(c.tag?JSON.stringify(c):c)):"HELO"==c.tag&&setTimeout(function(){a(c)},1)},qa:function(){e&&(e.close(),e=null)},Yj:function(){e&&Fa(e,"close",function(){setTimeout(function(){P.o({tag:"AUTOLOGIN"})},
1E4)});yc.qa()},Pc:function(){for(e&&1==e.readyState&&e.send("<BYE/>");g.length;g.shift())delete g[0][6]},ub:function(){g.length&&(delete g[0][6],g.shift(),k())}}}();Oa.handleOpenURL=function(a){a=a.split("?")[1];location.href=a?"?"+a:"index.html"};var Vc=ya("div",bc,"select-wrapper",{innerHTML:"<button name=lang></button>"},{top:0,right:"1px",position:"absolute",zIndex:1}),Wc=ya("button",bc,"",{innerHTML:"",name:"cfg"},{display:"none",top:0,right:"1px",position:"absolute",zIndex:1,fontFamily:"cwTeX-Q-Kai-T,icons2,serif"});Oa.top!==Oa&&(location.href="https://tenhou.net/0/"+location.search);
(function(){function a(){/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)||tb.Zj(function(){P["#lang"]();L.Da();q.Da();dc();Oa.adConfig&&Oa.adConfig({preloadAdBreaks:"on",sound:"on"})})}var k=D[A.ke],g=Date.now();k?36E5<g-k?(D[A.ke]=g,location.reload()):a():(D[A.ke]=g,a())})();
(function(){function a(k){Ob="mousedown"==k.type;k=D[A.Ha];1!=k&&2!=k&&(A.Ta(A.Ha,Ob?3:0,0),k!==D[A.Ha]&&ec());Oa.removeEventListener("touchstart",a,!1);Oa.removeEventListener("mousedown",a,!1)}Ga(Oa,{touchstart:a,mousedown:a})})();!ib||D[A.ud]&&"takamiya20221224"!=D[A.ud]||(Da(Qc,{SPLASH:{xa:["c18","c17"],va:"#DDD"},AUTOLOGIN:{xa:["c19","c17"],va:"#DDD"},LOGIN:{xa:["c19","c17"],va:"#DDD"},LOBBY:{xa:["c20","c17"],va:"#DDD"}}),Cb(".c17{background:url('https://cdn.tenhou.net/ron2/3/res/bgtest/20221219.png') center center /cover no-repeat, #FFF;}.c17 BUTTON{background:#FFF;filter:drop-shadow(0.3rem 0.3rem 0 #285);}.c17 BUTTON:disabled{background:#EEE;}.c17 .bt3{background:#FFF;}.c17 .select-wrapper:after{border-top-color:#000;}.c17 .select-wrapper:hover:after{border-top-color:#FFF;}.c19.c17>DIV{background:5em 50% / auto 100% no-repeat url('https://cdn.tenhou.net/ron2/3/res/bgtest/takamiya2962_3.png');}#a27{margin-left:9em;}.c20.c17[data-panesel=d0]>DIV{background:1em bottom / auto 90% no-repeat url('https://cdn.tenhou.net/ron2/3/res/bgtest/takamiya2921_2.png');}[data-pane=d0]{padding-left:10em;}"));
})();
//